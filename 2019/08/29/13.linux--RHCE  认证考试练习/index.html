<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>RHCE è®¤è¯è€ƒè¯•ç»ƒä¹  | Li Jie&#39;s blog</title>
  <meta name="keywords" content=" linuxè¿›é˜¶ ">
  <meta name="description" content="RHCE è®¤è¯è€ƒè¯•ç»ƒä¹  | Li Jie&#39;s blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Who am I?My name is å‘¨ææ°ï¼Œæœ€åä¸€æ‰¹90åï¼Œç°å±…æ¹–åŒ—æ­¦æ±‰ å¤§ä¸‰ç¨‹åºç‹—ä¸€æšï¼Œç°ä»»ä¸Šæµ·å¤©ç‘ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸æ­¦æ±‰åˆ†å…¬å¸è¿ç»´å®ä¹ ç”Ÿä¸€èŒ å­¤ç‹¬æ‚£è€…ï¼Œæ‡’ç™Œä¸­æœŸï¼Œæ— è„‘å¹»æƒ³è€…ã€‚ä½†å´äººç•œæ— å®³ï¼Œæ— éœ€è¿œç¦»ã€‚ å…´è¶£ä¼—å¤šï¼Œç„¶æ— ä¸€ç²¾é€šã€‚æ­£åŠªåŠ›æˆä¸ºä¸€ä¸ªæœ‰è¶£çš„äººã€‚ 1print(&quot;ğŸ‘†ä»¥ä¸Šæ˜¯ä¸å®Œæ•´çš„æˆ‘&quot;) //è¯·æˆ‘åƒå¤§é¤å°†ä¼šäº†è§£æ›´å¤š  ä¸ªäººåº§å³é“­ï¼š        æˆ‘æƒ³æ‹¥æœ‰ç«‹è¶³äºç¤¾ä¼šçš„æœ¬é¢†ï¼Œç„¶åå°½å¯èƒ½çš„å¸®åŠ©ä»–äºº">
<meta property="og:type" content="website">
<meta property="og:title" content="Li Jie&#39;s blog">
<meta property="og:url" content="https://github.com/chineselijie/about/index.html">
<meta property="og:site_name" content="Li Jie&#39;s blog">
<meta property="og:description" content="Who am I?My name is å‘¨ææ°ï¼Œæœ€åä¸€æ‰¹90åï¼Œç°å±…æ¹–åŒ—æ­¦æ±‰ å¤§ä¸‰ç¨‹åºç‹—ä¸€æšï¼Œç°ä»»ä¸Šæµ·å¤©ç‘ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸æ­¦æ±‰åˆ†å…¬å¸è¿ç»´å®ä¹ ç”Ÿä¸€èŒ å­¤ç‹¬æ‚£è€…ï¼Œæ‡’ç™Œä¸­æœŸï¼Œæ— è„‘å¹»æƒ³è€…ã€‚ä½†å´äººç•œæ— å®³ï¼Œæ— éœ€è¿œç¦»ã€‚ å…´è¶£ä¼—å¤šï¼Œç„¶æ— ä¸€ç²¾é€šã€‚æ­£åŠªåŠ›æˆä¸ºä¸€ä¸ªæœ‰è¶£çš„äººã€‚ 1print(&quot;ğŸ‘†ä»¥ä¸Šæ˜¯ä¸å®Œæ•´çš„æˆ‘&quot;) //è¯·æˆ‘åƒå¤§é¤å°†ä¼šäº†è§£æ›´å¤š  ä¸ªäººåº§å³é“­ï¼š        æˆ‘æƒ³æ‹¥æœ‰ç«‹è¶³äºç¤¾ä¼šçš„æœ¬é¢†ï¼Œç„¶åå°½å¯èƒ½çš„å¸®åŠ©ä»–äºº">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-09-21T14:48:59.580Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Li Jie&#39;s blog">
<meta name="twitter:description" content="Who am I?My name is å‘¨ææ°ï¼Œæœ€åä¸€æ‰¹90åï¼Œç°å±…æ¹–åŒ—æ­¦æ±‰ å¤§ä¸‰ç¨‹åºç‹—ä¸€æšï¼Œç°ä»»ä¸Šæµ·å¤©ç‘ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸æ­¦æ±‰åˆ†å…¬å¸è¿ç»´å®ä¹ ç”Ÿä¸€èŒ å­¤ç‹¬æ‚£è€…ï¼Œæ‡’ç™Œä¸­æœŸï¼Œæ— è„‘å¹»æƒ³è€…ã€‚ä½†å´äººç•œæ— å®³ï¼Œæ— éœ€è¿œç¦»ã€‚ å…´è¶£ä¼—å¤šï¼Œç„¶æ— ä¸€ç²¾é€šã€‚æ­£åŠªåŠ›æˆä¸ºä¸€ä¸ªæœ‰è¶£çš„äººã€‚ 1print(&quot;ğŸ‘†ä»¥ä¸Šæ˜¯ä¸å®Œæ•´çš„æˆ‘&quot;) //è¯·æˆ‘åƒå¤§é¤å°†ä¼šäº†è§£æ›´å¤š  ä¸ªäººåº§å³é“­ï¼š        æˆ‘æƒ³æ‹¥æœ‰ç«‹è¶³äºç¤¾ä¼šçš„æœ¬é¢†ï¼Œç„¶åå°½å¯èƒ½çš„å¸®åŠ©ä»–äºº">


<link rel="icon" href="/img/lijie.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1"></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.0.1"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value>
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/lijie.jpg" />
</a>
<div class="author">
    <span>Li Jie</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"></use>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/chineselijie" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="weibo" href="https://weibo.com/u/6313523635?is_all=1" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-weibo"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
        <a title="csdn" href="https://blog.csdn.net/ChineseLiJie" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-csdn"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
        <a title="email" href="mailto:zhoulijie19990506@foxmail.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=775531910&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active">å…¨éƒ¨æ–‡ç« <small>(45)</small></div></li>
    
        
            
            <li><div data-rel="linuxåŸºç¡€">linuxåŸºç¡€<small>(16)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="python">python<small>(9)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="linuxè¿›é˜¶">linuxè¿›é˜¶<small>(12)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="linuxè¿ç»´">linuxè¿ç»´<small>(5)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Git">Git<small>(1)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">å…³äº</a><a style="width: 50%"  class="friends">å‹é“¾</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="45">
<input type="hidden" id="yelog_site_word_count" value="144.4k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        å‹æƒ…é“¾æ¥
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="https://blog.csdn.net/ChineseLiJie">chineselijie CSDN</a></li>
            
            <li><a target="_blank" href="http://www.itwangqing.net.cn/">å¿˜æƒ…è€å¸ˆ</a></li>
            
            <li><a target="_blank" href="https://www.liaoxuefeng.com/">å»–é›ªå³°è€å¸ˆ</a></li>
            
            <li><a target="_blank" href="https://www.linuxprobe.com/">linuxå°±è¯¥è¿™ä¹ˆå­¦</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="Search..." autocomplete="off"id="local-search-input" >
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">linuxåŸºç¡€</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">python</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">linuxè¿›é˜¶</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">linuxè¿ç»´</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">Git</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/1.RHEL 7.4 å®éªŒç¯å¢ƒæ­å»º/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="RHEL 7.4 å®éªŒç¯å¢ƒæ­å»º">RHEL 7.4 å®éªŒç¯å¢ƒæ­å»º</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/11.linux--ç½‘ç»œè¿›é˜¶ç®¡ç†/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="ç½‘ç»œè¿›é˜¶ç®¡ç†">ç½‘ç»œè¿›é˜¶ç®¡ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="python "
           href="/2019/08/29/2.python--è®¡ç®—æœºæ•°æ®å­˜å‚¨ä¸è¿›åˆ¶/"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="python è®¡ç®—æœºæ•°æ®å­˜å‚¨ä¸è¿›åˆ¶">python è®¡ç®—æœºæ•°æ®å­˜å‚¨ä¸è¿›åˆ¶</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/7.linux--æ­£åˆ™è¡¨è¾¾å¼/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="æ­£åˆ™è¡¨è¾¾å¼">æ­£åˆ™è¡¨è¾¾å¼</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="python "
           href="/2019/08/29/7.è°ˆPythonå˜é‡å’Œæ•°æ®ç±»å‹/"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="è°ˆPythonå˜é‡å’Œæ•°æ®ç±»å‹">è°ˆPythonå˜é‡å’Œæ•°æ®ç±»å‹</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/9.linux--shellè„šæœ¬è¿›é˜¶/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="shellè„šæœ¬è¿›é˜¶">shellè„šæœ¬è¿›é˜¶</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class=""
           href="/2019/08/29/1.linux--åˆæ­¥ç†Ÿæ‚‰RHEL 8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="åˆæ­¥ç†Ÿæ‚‰RHEL 8">åˆæ­¥ç†Ÿæ‚‰RHEL 8</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/1.linux--openssh/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="openssh">openssh</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="python "
           href="/2019/08/29/1.python--pythonåŸºç¡€ç†è®ºè®²è§£/"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="pythonåŸºç¡€ç†è®ºè®²è§£">pythonåŸºç¡€ç†è®ºè®²è§£</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/10.linux--shellè„šæœ¬ç¬”è®°(è„šæœ¬)/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="shellè„šæœ¬ç¬”è®°(è„šæœ¬)">shellè„šæœ¬ç¬”è®°(è„šæœ¬)</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class=""
           href="/2019/08/29/1.ç½‘ç»œ--å­ç½‘åˆ’åˆ†/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="å­ç½‘åˆ’åˆ†">å­ç½‘åˆ’åˆ†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/12.linux--æºç å®‰è£…åŒ…ç®¡ç†/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="æºç å®‰è£…ç®¡ç†">æºç å®‰è£…ç®¡ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/11.linux--ISCSIæœåŠ¡/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="ISCSIæœåŠ¡">ISCSIæœåŠ¡</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/14.linux--LVMç£ç›˜ç®¡ç†/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="LVMç£ç›˜ç®¡ç†">LVMç£ç›˜ç®¡ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/15.linux--linuxåŸºç¡€ç»ƒä¹ /"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="linuxåŸºç¡€ç»ƒä¹ ">linuxåŸºç¡€ç»ƒä¹ </span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/2.linux--FTPæœåŠ¡/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="FTPæœåŠ¡">FTPæœåŠ¡</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/16.linux--RHCSAæ¨¡æ‹Ÿ/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="RHCSAå¤ä¹ ">RHCSAå¤ä¹ </span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/3.linux--sambaæœåŠ¡/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="sambaæœåŠ¡">sambaæœåŠ¡</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="python "
           href="/2019/08/29/3.python--ç¬¬ä¸€ç« /"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="pythonç¬¬ä¸€ç« ">pythonç¬¬ä¸€ç« </span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿ç»´ "
           href="/2019/08/29/2.rsync/"
           data-tag="linuxè¿ç»´"
           data-author="" >
            <span class="post-title" title="rsync">rsync</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/4.linux--æƒé™ç®¡ç†/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="æƒé™ç®¡ç†">æƒé™ç®¡ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿ç»´ "
           href="/2019/08/29/3.zabbix/"
           data-tag="linuxè¿ç»´"
           data-author="" >
            <span class="post-title" title="zabbix">zabbix</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿ç»´ "
           href="/2019/09/22/5.PXEæ— äººå€¼å®ˆå®‰è£…æœåŠ¡å™¨/"
           data-tag="linuxè¿ç»´"
           data-author="" >
            <span class="post-title" title="PXEæ— äººå€¼å®ˆå®‰è£…æœåŠ¡å™¨">PXEæ— äººå€¼å®ˆå®‰è£…æœåŠ¡å™¨</span>
            <span class="post-date" title="2019-09-22 23:35:27">2019/09/22</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/5.linux--linuxè®¡åˆ’ä»»åŠ¡/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="Linuxè®¡åˆ’ä»»åŠ¡">Linuxè®¡åˆ’ä»»åŠ¡</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/6.linux--httpdæœåŠ¡/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="httpdæœåŠ¡">httpdæœåŠ¡</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/8.linux--shellè„šæœ¬åŸºç¡€/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="shellè„šæœ¬åŸºç¡€">shellè„šæœ¬åŸºç¡€</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="python "
           href="/2019/08/29/8.pythonçš„æ–‡ä»¶å¤„ç†/"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="pythonæ–‡ä»¶å¤„ç†">pythonæ–‡ä»¶å¤„ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/8.linux--è½¯ä»¶ç®¡ç†/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="è½¯ä»¶ç®¡ç†">è½¯ä»¶ç®¡ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="python "
           href="/2019/08/29/6.python--ç¬¬å››ç« /"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="pythonç¬¬å››ç« ">pythonç¬¬å››ç« </span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/2.åŸºç¡€linuxå‘½ä»¤/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="LinuxåŸºç¡€å‘½ä»¤">LinuxåŸºç¡€å‘½ä»¤</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/4.linux--NFSæœåŠ¡/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="NFSæœåŠ¡">NFSæœåŠ¡</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿ç»´ "
           href="/2019/08/31/4.LAMP/"
           data-tag="linuxè¿ç»´"
           data-author="" >
            <span class="post-title" title="LAMP">LAMP</span>
            <span class="post-date" title="2019-08-31 00:18:12">2019/08/31</span>
        </a>
        
        <a  class="python "
           href="/2019/08/29/4.python--ç¬¬äºŒç« /"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="pythonç¬¬äºŒç« ">pythonç¬¬äºŒç« </span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/6.linux--yumå·¥å…·çš„ä½¿ç”¨/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="yumå·¥å…·çš„ä½¿ç”¨">yumå·¥å…·çš„ä½¿ç”¨</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="python "
           href="/2019/08/29/5.python--ç¬¬ä¸‰ç« /"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="pythonç¬¬ä¸‰ç« ">pythonç¬¬ä¸‰ç« </span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/7.linux--ç”¨æˆ·å’Œç»„ç®¡ç†/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="ç”¨æˆ·å’Œç»„ç®¡ç†">ç”¨æˆ·å’Œç»„ç®¡ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/5.linux--MariaDBæ•°æ®åº“/"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="MariaDBæ•°æ®åº“">MariaDBæ•°æ®åº“</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/13.linux--linuxç³»ç»Ÿç£ç›˜ç®¡ç†/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="Linuxç³»ç»Ÿç£ç›˜ç®¡ç†">Linuxç³»ç»Ÿç£ç›˜ç®¡ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="Git "
           href="/2019/10/29/gitç‰ˆæœ¬æ§åˆ¶è¯¦è§£æ‰‹å†Œ/"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="ã€ŠGitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶è¯¦è§£æ‰‹å†Œã€‹">ã€ŠGitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶è¯¦è§£æ‰‹å†Œã€‹</span>
            <span class="post-date" title="2019-10-29 22:18:56">2019/10/29</span>
        </a>
        
        <a  class="python "
           href="/2019/09/23/9.pythonå†…ç½®å‡½æ•°/"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="pythonå†…ç½®å‡½æ•°">pythonå†…ç½®å‡½æ•°</span>
            <span class="post-date" title="2019-09-23 22:05:55">2019/09/23</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/9.linux--linuxè¿›ç¨‹ç®¡ç†/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="linuxè¿›ç¨‹ç®¡ç†">linuxè¿›ç¨‹ç®¡ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿ç»´ "
           href="/2019/08/29/1.linux--LNMP/"
           data-tag="linuxè¿ç»´"
           data-author="" >
            <span class="post-title" title="LNMP">LNMP</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/3.linux--linuxåŸºç¡€/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="LinuxåŸºç¡€">LinuxåŸºç¡€</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxè¿›é˜¶ "
           href="/2019/08/29/13.linux--RHCE  è®¤è¯è€ƒè¯•ç»ƒä¹ /"
           data-tag="linuxè¿›é˜¶"
           data-author="" >
            <span class="post-title" title="RHCE è®¤è¯è€ƒè¯•ç»ƒä¹ ">RHCE è®¤è¯è€ƒè¯•ç»ƒä¹ </span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
        <a  class="linuxåŸºç¡€ "
           href="/2019/08/29/10.linux--ç½‘ç»œåŸºç¡€ç®¡ç†/"
           data-tag="linuxåŸºç¡€"
           data-author="" >
            <span class="post-title" title="ç½‘ç»œåŸºç¡€ç®¡ç†">ç½‘ç»œåŸºç¡€ç®¡ç†</span>
            <span class="post-date" title="2019-08-29 23:44:18">2019/08/29</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-13.linux--RHCE  è®¤è¯è€ƒè¯•ç»ƒä¹ " class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">RHCE è®¤è¯è€ƒè¯•ç»ƒä¹ </h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            
                <a href="javascript:" data-rel="linuxè¿›é˜¶">linuxè¿›é˜¶</a>
            
        </span>
        
        
        <span class="tag">
            
            <a href="javascript:" class="color3">linuxè¿›é˜¶</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        åˆ›å»ºæ—¶é—´:<time class="date" title='æ›´æ–°æ—¶é—´: 2019-08-22 20:21:52'>2019-08-29 23:44</time>
        
    </div>
    <div class="article-meta">
        
        <span>å­—æ•°:8.5k</span>
        
        
        <span id="busuanzi_container_page_pv">
            é˜…è¯»:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="è·³è½¬è‡³è¯„è®ºåŒº">
            <a href="#comments">
                è¯„è®º:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#æ¨¡æ‹Ÿè€ƒå‰é…ç½®"><span class="toc-text">æ¨¡æ‹Ÿè€ƒå‰é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¼€å§‹è€ƒé¢˜"><span class="toc-text">å¼€å§‹è€ƒé¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#é…ç½®ä¿¡æ¯"><span class="toc-text">é…ç½®ä¿¡æ¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å‚è€ƒç­”æ¡ˆ"><span class="toc-text">å‚è€ƒç­”æ¡ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-é…ç½®-YUM"><span class="toc-text">1.é…ç½® YUM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-é…ç½®-SELinux"><span class="toc-text">2.é…ç½® SELinux</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-é…ç½®-SSH"><span class="toc-text">3.é…ç½® SSH</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-å‘½ä»¤åˆ«ååŠIP-è½¬å‘"><span class="toc-text">4.å‘½ä»¤åˆ«ååŠIP è½¬å‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-ç«¯å£è½¬å‘"><span class="toc-text">5.ç«¯å£è½¬å‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-èšåˆç½‘ç»œ"><span class="toc-text">6.èšåˆç½‘ç»œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-IPv6-è®¾ç½®"><span class="toc-text">7.IPv6 è®¾ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-é‚®ä»¶æœåŠ¡"><span class="toc-text">8.é‚®ä»¶æœåŠ¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-Samba-æœåŠ¡"><span class="toc-text">9.Samba æœåŠ¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-å¤šç”¨æˆ·-samba-æŒ‚è½½"><span class="toc-text">10.å¤šç”¨æˆ· samba æŒ‚è½½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-é…ç½®-NFS-æœåŠ¡"><span class="toc-text">11.é…ç½® NFS æœåŠ¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-åœ¨-server-ä¸Šé…ç½®ä¸€ä¸ª-web-ç«™ç‚¹-http-server-example-com"><span class="toc-text">12.åœ¨ server ä¸Šé…ç½®ä¸€ä¸ª web ç«™ç‚¹ http://server.example.com</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-ä¸ºç«™ç‚¹-http-server-example-com-é…ç½®-TLS-åŠ å¯†"><span class="toc-text">13.ä¸ºç«™ç‚¹ http://server.example.com é…ç½® TLS åŠ å¯†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-åœ¨-server-ä¸Šæ‰©å±•æ‚¨çš„-WEB-æœåŠ¡å™¨"><span class="toc-text">14.åœ¨ server ä¸Šæ‰©å±•æ‚¨çš„ WEB æœåŠ¡å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-web-è®¿é—®æ§åˆ¶"><span class="toc-text">15.web è®¿é—®æ§åˆ¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-åœ¨-server-ä¸Šå®ç°åŠ¨æ€-web-å†…å®¹"><span class="toc-text">16.åœ¨ server ä¸Šå®ç°åŠ¨æ€ web å†…å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-é…ç½®-server-æä¾›ä¸€ä¸ª-iSCSI-å…±äº«æœåŠ¡"><span class="toc-text">17.é…ç½® server æä¾›ä¸€ä¸ª iSCSI å…±äº«æœåŠ¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#18-é…ç½®-desktop-ä½¿å…¶èƒ½è¿æ¥åœ¨-server-ä¸Šæä¾›çš„-iscsi"><span class="toc-text">18.é…ç½® desktop ä½¿å…¶èƒ½è¿æ¥åœ¨ server ä¸Šæä¾›çš„ iscsi</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#19-ç¼–å†™ä¸€ä¸ªä½äº-root-program-çš„-shell-è„šæœ¬"><span class="toc-text">19.ç¼–å†™ä¸€ä¸ªä½äº/root/program çš„ shell è„šæœ¬</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-å†™ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„è„šæœ¬"><span class="toc-text">20.å†™ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„è„šæœ¬</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-åœ¨ä½ çš„æœºå™¨ä¸Šåˆ›å»ºä¸€ä¸ª-mariadb-æ•°æ®åº“"><span class="toc-text">21.åœ¨ä½ çš„æœºå™¨ä¸Šåˆ›å»ºä¸€ä¸ª mariadb æ•°æ®åº“;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#24-æ•°æ®åº“æŸ¥è¯¢"><span class="toc-text">24.æ•°æ®åº“æŸ¥è¯¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#system1"><span class="toc-text">system1</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>å†™åœ¨å‰é¢çš„è¯ï¼šè€ƒè¯•ç»ƒä¹ ä¸ç­‰äºçœŸå®è€ƒè¯•è€ƒé¢˜ï¼Œé‡Œé¢çš„æ•°æ®å¯èƒ½ä¹Ÿä¸æ‚¨è€ƒè¯•ç»ƒä¹ çš„æ•°æ®ä¸ä¸€æ ·ï¼Œè¯·è®¤çœŸä»”ç»†ã€‚ç¥æ„¿RHCEå–å¾—å¥½æˆç»©ï¼ï¼</p>
</blockquote>
<p>[TOC]</p>
<h2 id="æ¨¡æ‹Ÿè€ƒå‰é…ç½®"><a href="#æ¨¡æ‹Ÿè€ƒå‰é…ç½®" class="headerlink" title="æ¨¡æ‹Ÿè€ƒå‰é…ç½®"></a>æ¨¡æ‹Ÿè€ƒå‰é…ç½®</h2><blockquote>
<p>å‡†å¤‡å‰</p>
</blockquote>
<p>é¦–å…ˆæˆ‘ä»¬è¦å°†ä¸‰å°è™šæ‹Ÿæœºå¼€å¯<br>classroomæ˜¯172.25.0.254</p>
<p>desktopæ˜¯172.25.0.10</p>
<p>serveræ˜¯172.25.0.11</p>
<p>å‰ææ˜¯ä¸‰ä¸ªä¸»æœºèƒ½äº’ç›¸pingé€š</p>
<p>ç„¶åæˆ‘ä»¬åœ¨æœ¬åœ°ä¸Šè¿œç¨‹åˆ°classroom</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[kiosk@foundation0 ~]$ ssh root@172.25.0.254</span><br><span class="line">Last login: Sat Jul  6 09:08:15 2019 from 172.25.0.250</span><br><span class="line">[root@classroom ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<p>ç­‰å¾…è¿œç¨‹è¿‡å»ä¹‹å</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@classroom ~]<span class="comment"># tail /etc/httpd/logs/error_log</span></span><br></pre></td></tr></table></figure>

<p>å°†é‚£æ®µå­—æ¯å¤åˆ¶(NSSå¼€å¤´ï¼Œoffç»“å°¾çš„é‚£æ®µï¼Œå…·ä½“æˆ‘ä¹Ÿä¸æ˜¯å¸¦æ¸…æ¥š)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@classroom ~]<span class="comment"># vim /etc/httpd/conf.d/nss.conf</span></span><br></pre></td></tr></table></figure>

<p>å°†ä½ å¤åˆ¶çš„é‚£æ®µç²˜è´´åˆ°æœ€åº•éƒ¨ï¼Œç„¶åä¿å­˜å¹¶é€€å‡º</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[root@classroom ~]<span class="comment"># cd /var/www/html/pub/</span></span><br><span class="line">[root@classroom pub]<span class="comment"># echo "zheshi yige åœ¨ server ä¸Šé…ç½®ä¸€ä¸ª web ç«™ç‚¹" &gt; example.html</span></span><br><span class="line">[root@classroom pub]<span class="comment"># echo "zheshi yige åœ¨ server ä¸Šæ‰©å±•æ‚¨çš„ WEB æœåŠ¡å™¨" &gt; www.html</span></span><br><span class="line">[root@classroom pub]<span class="comment"># echo "zheshi yige web è®¿é—®æ§åˆ¶â€œ &gt; private.html</span></span><br><span class="line">[root@classroom pub]<span class="comment"># vim webapp.wsgi</span></span><br><span class="line">[root@classroom pub]<span class="comment"># cat webapp.wsgi </span></span><br><span class="line">def application(environ, start_response):</span><br><span class="line">    status = <span class="string">'200 OK'</span></span><br><span class="line">    output = <span class="string">'Hello World!'</span></span><br><span class="line"></span><br><span class="line">    response_headers = [(<span class="string">'Content-type'</span>, <span class="string">'text/plain'</span>),</span><br><span class="line">                        (<span class="string">'Content-Length'</span>, str(len(output)))]</span><br><span class="line">    start_response(status, response_headers)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">return</span> [output]</span><br><span class="line"></span><br><span class="line">[root@classroom pub]<span class="comment"># vim user</span></span><br><span class="line">[root@classroom pub]<span class="comment"># cat user</span></span><br><span class="line">user1</span><br><span class="line">user2</span><br><span class="line">user3</span><br><span class="line">user4</span><br><span class="line">user5</span><br><span class="line"></span><br><span class="line">[root@foundation0 ~]<span class="comment"># vim /etc/hosts</span></span><br><span class="line">[root@foundation0 ~]<span class="comment"># tail -n 1 /etc/hosts</span></span><br><span class="line">172.25.0.11 server.example.com alt.example.com www.example.com</span><br><span class="line">[root@foundation0 ~]<span class="comment"># ssh root@172.25.0.10</span></span><br><span class="line">Last login: Sat Jul  6 09:08:15 2019 from 172.25.0.10</span><br><span class="line">[root@desktop0 ~]<span class="comment"># vim /etc/hosts</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># tail -n 1 /etc/hosts</span></span><br><span class="line">172.25.0.11 server.example.com alt.example.com www.example.com</span><br><span class="line">[root@foundation0 ~]<span class="comment"># ssh root@172.25.0.11</span></span><br><span class="line">[root@server0 ~]<span class="comment"># vim /etc/hosts</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># tail -n 1 /etc/hosts</span></span><br><span class="line">172.25.0.11 server.example.com alt.example.com www.example.com</span><br></pre></td></tr></table></figure>

<p>æ›´æ”¹ç½‘å¡åœ¨æœ¬åœ°åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼ˆæ­¤é¢˜éœ€è¦åšåé¢çš„é“¾è·¯èšåˆï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[kiosk@foundation0 ~]$ su -</span><br><span class="line">Password: </span><br><span class="line">[root@foundation0 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯†ç æ˜¯ï¼šAsimov</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@foundation0 ~]<span class="comment"># virt-manager</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/07/08/ZDoh6K.png" alt></p>
<p><img src="https://s2.ax1x.com/2019/07/08/ZDoWSx.png" alt></p>
<p><img src="https://s2.ax1x.com/2019/07/08/ZDobtA.png" alt></p>
<p><img src="https://s2.ax1x.com/2019/07/08/ZDIdqe.png" alt></p>
<p><img src="https://s2.ax1x.com/2019/07/08/ZDofl6.png" alt></p>
<blockquote>
<p>æŒ‰ç…§è¿™ç§æ–¹å¼ï¼Œåœ¨server å’Œ desktopä¸¤å°è™šæ‹Ÿæœºé‡Œé¢æ·»åŠ ä¸¤å—ç½‘å¡ï¼Œä¿è¯æœ‰ä¸‰å¿«ç½‘å¡</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@foundation0 ~]<span class="comment"># reboot</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç„¶åç›´æ¥å°†æ•´ä¸ªå¤§è™šæ‹Ÿæœºé‡å¯</p>
</blockquote>
<blockquote>
<p>æ•°æ®åº“æ–‡ä»¶å› è¿‡ç¹å¤šå†…å®¹ï¼Œæ­¤å¤„æ•°æ®åº“æ–‡ä»¶è¯·æ‰¾æˆ‘è¿›è¡Œæ‹·è´ã€‚</p>
</blockquote>
<p>æ‰“å¼€ç«ç‹æµè§ˆå™¨è¾“å…¥ï¼š<a href="http://classroom.example.com/" target="_blank" rel="noopener">http://classroom.example.com/</a></p>
<blockquote>
<p>ä»¥ä¸Šæ˜¯æ¨¡æ‹Ÿè€ƒè¯•å‰éœ€è¦åšçš„ï¼ŒçœŸå®è€ƒè¯•ä¸éœ€è¦é…ç½®ä»¥ä¸Šæ­¥éª¤</p>
<p>ä¸‹é¢å°±å¼€å§‹æ¨¡æ‹Ÿè€ƒé¢˜</p>
</blockquote>
<h2 id="å¼€å§‹è€ƒé¢˜"><a href="#å¼€å§‹è€ƒé¢˜" class="headerlink" title="å¼€å§‹è€ƒé¢˜"></a>å¼€å§‹è€ƒé¢˜</h2><blockquote>
<p>è¯·æ³¨æ„ï¼šç”±äºæœ¬æœºç¯å¢ƒåŸå› ä¸Šè¿°æ¨¡æ‹Ÿè€ƒå‰é…ç½®æ˜¯æ­£å¼è€ƒè¯•å‰ä¸éœ€è¦åšçš„ï¼Œè€ƒè€…åˆ‡è®°æ­£å¼è€ƒè¯•æ˜¯ä¸ç”¨åšå‰é¢çš„ä¸œè¥¿</p>
<p> ç°åœ¨æ­£å¼å¼€å§‹ä½ çš„è€ƒè¯•:</p>
</blockquote>
<h3 id="é…ç½®ä¿¡æ¯"><a href="#é…ç½®ä¿¡æ¯" class="headerlink" title="é…ç½®ä¿¡æ¯"></a>é…ç½®ä¿¡æ¯</h3><p>æ‚¨åœ¨è€ƒè¯•ä¸­å°†ä½¿ç”¨åˆ°ä¸¤ä¸ªç³»ç»Ÿçš„ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<p><strong>desktop0.example.com : ä½œä¸ºæœåŠ¡å™¨</strong></p>
<p><strong>server0.example.com : ä½œä¸ºå®¢æˆ·ç«¯</strong></p>
<p><strong>ä¸¤ä¸ªç³»ç»Ÿ</strong>çš„<strong>rootå¯†ç </strong>ä¸º<strong>redhat</strong></p>
<p>ç³»ç»Ÿçš„IPåœ°å€æœ‰DHCPæä¾›ï¼Œæ‚¨å¯ä»¥è§†ä¸ºæ­£å¸¸ï¼Œæˆ–è€…æ‚¨å¯ä»¥æŒ‰ç…§ä¸€ä¸‹ä¿¡æ¯é‡æ–°è®¾ç½®æœªé™æ€IPï¼š</p>
<p><strong>server0.example.com ï¼š 172.24.8.11/24</strong></p>
<p><strong>desktop0.example.com ï¼š 172.24.8.10/24</strong></p>
<p>ä¸¤ä¸ªç³»ç»Ÿå‡ä¸ºDNSåŸŸexample.comçš„æˆå‘˜ã€‚é™¤éç‰¹åˆ«çŸ¥åï¼Œæ‰€æœ‰è¦æ±‚é…ç½®çš„ç½‘ç»œæœåŠ¡éƒ½å¿…é¡»èƒ½è¢«è¯¥åŸŸçš„ç³»ç»Ÿè®¿é—®ã€‚</p>
<p>classroom.example.comæä¾›äº†é›†ä¸­è®¤è¯çš„æœåŠ¡å™¨ä¸ºexample.comã€‚ä¸¤ä¸ªç³»ç»Ÿdesktop0å’Œserver0éƒ½å·²ç»é¢„å…ˆé…ç½®æˆæ­¤åŸŸçš„å®¢æˆ·ç«¯ã€‚</p>
<p>classroom.example.com æä¾›äº†YUMè½¯ä»¶ä»“åº“ï¼ŒURLæ˜¯ <a href="http://classroom.example.com/content/rhel7.0/x86_64/dvd/" target="_blank" rel="noopener">http://classroom.example.com/content/rhel7.0/x86_64/dvd/</a> .</p>
<p>é˜²ç«å¢™æ˜¯é»˜è®¤æ‰“å¼€çš„ï¼Œåœ¨æ‚¨è®¤ä¸ºé€‚å½“çš„æ—¶å€™å¯ä»¥å…³é—­ã€‚å…¶ä»–é˜²ç«å¢™çš„è®¾ç½®å¯èƒ½åœ¨å•ç‹¬çš„è¦æ±‚ä¸­ã€‚</p>
<p>my133.org(172.13.0.0/24)ä½œä¸ºä¸å¯ä¿¡ç½‘ç»œã€‚</p>
<p>ã€‹ ã€‹ ã€‹ ã€‹ ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹</p>
<h2 id="å‚è€ƒç­”æ¡ˆ"><a href="#å‚è€ƒç­”æ¡ˆ" class="headerlink" title="å‚è€ƒç­”æ¡ˆ"></a>å‚è€ƒç­”æ¡ˆ</h2><h4 id="1-é…ç½®-YUM"><a href="#1-é…ç½®-YUM" class="headerlink" title="1.é…ç½® YUM"></a>1.é…ç½® YUM</h4><blockquote>
<p> é…ç½®yumæºè€ƒè¯•æ—¶å€™æ˜¯ä¸ä½œä¸ºè€ƒé¢˜çš„ï¼Œéœ€è¦è€ƒè€…è‡ªå·±å»é˜…è¯»é…ç½®æ–‡æ¡£ï¼Œé‡Œé¢æœ‰è¯´æ˜</p>
</blockquote>
<ul>
<li>åˆ†åˆ«åœ¨ server å’Œ desktop ä¸Šé…ç½® YUM,æŒ‡å‘:</li>
</ul>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># vim /etc/yum.repos.d/rhce.repo</span></span><br><span class="line">[root@server0 ~]<span class="comment"># cat /etc/yum.repos.d/rhce.repo</span></span><br><span class="line">[rhce]</span><br><span class="line">name=http://classroom.example.com/content/rhel7.0/x86_64/dvd/</span><br><span class="line">baseurl=http://classroom.example.com/content/rhel7.0/x86_64/dvd/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">[root@server0 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<p><strong>desktop0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># vim /etc/yum.repos.d/rhce.repo</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># cat /etc/yum.repos.d/rhce.repo</span></span><br><span class="line">[rhce]</span><br><span class="line">name=http://classroom.example.com/content/rhel7.0/x86_64/dvd/</span><br><span class="line">baseurl=http://classroom.example.com/content/rhel7.0/x86_64/dvd/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ä¸€é¢˜æ˜¯åœ¨çœŸå®è€ƒè¯•ä¸­ä¸åšè€ƒé¢˜ï¼Œæ‚¨éœ€è¦è‡ªå·±é…ç½®ï¼Œyumæºå°±åœ¨æ–‡ä¸­çš„ä¿¡æ¯å½“ä¸­ï¼ŒåŒ…æ‹¬åé¢çš„å„ä¸ªåŸŸåçš„æ‰€å½’å±çš„ç½‘æ®µã€‚æ‚¨éœ€è¦å»é˜…è¯»é…ç½®ä¿¡æ¯ï¼Œè¿™é‡Œé…ç½®ä¿¡æ¯åœ¨æœ¬åšå®¢å¼€å¤´éƒ¨åˆ†ã€‚</p>
</blockquote>
<h4 id="2-é…ç½®-SELinux"><a href="#2-é…ç½®-SELinux" class="headerlink" title="2.é…ç½® SELinux"></a>2.é…ç½® SELinux</h4><ul>
<li>SElinux æœ‰ä¸‰ç§æ¨¡å¼,è¯·å°† server ä¸ desktop è¿è¡Œäºå¼ºåˆ¶æ¨¡å¼</li>
</ul>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># vim /etc/selinux/config</span></span><br><span class="line">[root@server0 ~]<span class="comment"># cat /etc/selinux/config | grep SELINUX=en</span></span><br><span class="line">SELINUX=enforcing</span><br><span class="line">[root@server0 ~]<span class="comment"># reboot</span></span><br></pre></td></tr></table></figure>

<p><strong>desktop0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># vim /etc/selinux/config</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># cat /etc/selinux/config | grep SELINUX=en</span></span><br><span class="line">SELINUX=enforcing</span><br><span class="line">[root@desktop0 ~]<span class="comment"># reboot</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…¶å®å¯ä»¥ä¸ç”¨rebooté‡å¯è™šæ‹Ÿæœºï¼Œä¸¤è¾¹æ”¹å®Œé…ç½®æ–‡ä»¶ä¹‹å</p>
<p>æˆ‘ä»¬å¯ä»¥è¿™æ ·</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@desktop0 ~]<span class="comment"># setenforce 1</span></span><br><span class="line">&gt; [root@desktop0 ~]<span class="comment"># getenforce</span></span><br><span class="line">&gt; Enforcing</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>é…ç½®æ–‡ä»¶ä¹Ÿæ”¹ä¸ºenforcing</p>
<p>åŒæ ·æˆ‘ä»¬ä¹Ÿä¸´æ—¶è·å–åˆ°Enforcingæƒé™</p>
<p>æ¥ä¸‹æ¥å¯ä¸è¦å¿˜è®°äº†å¦å¤–ä¸€å°è™šæ‹Ÿæœºäº†å“¦</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@server0 ~]<span class="comment"># setenforce 1</span></span><br><span class="line">&gt; [root@server0 ~]<span class="comment"># getenforce</span></span><br><span class="line">&gt; Enforcing</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="3-é…ç½®-SSH"><a href="#3-é…ç½®-SSH" class="headerlink" title="3.é…ç½® SSH"></a>3.é…ç½® SSH</h4><ul>
<li>ç”¨æˆ·èƒ½å¤Ÿä»åŸŸ example.com å†…çš„å®¢æˆ·ç«¯é€šè¿‡ SSH è®¿é—®æ‚¨çš„ä¸¤ä¸ªè™šæ‹Ÿæœºç³»ç»Ÿ</li>
<li>åœ¨åŸŸ my133t.org å†…çš„å®¢æˆ·ç«¯ä¸èƒ½è®¿é—®æ‚¨çš„ä¸¤ä¸ªè™šæ‹Ÿæœºç³»ç»Ÿ</li>
</ul>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># systemctl stop iptables ebtables</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl disable iptables ebtables</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl mask iptables ebtables</span></span><br><span class="line">ln -s <span class="string">'/dev/null'</span> <span class="string">'/etc/systemd/system/iptables.service'</span></span><br><span class="line">ln -s <span class="string">'/dev/null'</span> <span class="string">'/etc/systemd/system/ebtables.service'</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl restart firewalld</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl enable firewalld</span></span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --remove-service=ssh --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 source address=172.25.0.0/24 service name=ssh accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br></pre></td></tr></table></figure>

<p><strong>desktop0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># systemctl stop iptables ebtables</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl disable iptables ebtables</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl mask iptables ebtables</span></span><br><span class="line">ln -s <span class="string">'/dev/null'</span> <span class="string">'/etc/systemd/system/iptables.service'</span></span><br><span class="line">ln -s <span class="string">'/dev/null'</span> <span class="string">'/etc/systemd/system/ebtables.service'</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl restart firewalld</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl enable firewalld</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># firewall-cmd --remove-service=ssh --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@desktop0 ~]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 source address=172.25.0.0/24 service name=ssh accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@desktop0 ~]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åšå®Œè¿™äº›æ“ä½œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åˆ—å‡ºæ¥æŸ¥çœ‹ä¸€ä¸‹ï¼Œçœ‹çœ‹æ˜¯å¦ä¸æˆ‘ä»¬æƒ³çš„ä¸€è‡´</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@server0 ~]<span class="comment"># firewall-cmd --list-all</span></span><br><span class="line">&gt; public (default, active)</span><br><span class="line">&gt;   interfaces: eth0</span><br><span class="line">&gt;   sources: </span><br><span class="line">&gt;   services: dhcpv6-client</span><br><span class="line">&gt;   ports: </span><br><span class="line">&gt;   masquerade: no</span><br><span class="line">&gt;   forward-ports: </span><br><span class="line">&gt;   icmp-blocks: </span><br><span class="line">&gt;   rich rules: </span><br><span class="line">&gt; 	rule family=<span class="string">"ipv4"</span> <span class="built_in">source</span> address=<span class="string">"172.25.0.0/24"</span> service name=<span class="string">"ssh"</span> accept</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>ä»æ­¤å¤„æˆ‘ä»¬å¯ä»¥çœ‹å‡ºsshè¿™ä¸ªæœåŠ¡æ²¡æœ‰äº†ï¼Œä»è€Œæ·»åŠ ä¸Šäº†å…è®¸172.25.0.0/24è¿™ä¸ªç½‘æ®µçš„ä¸»æœºå»è®¿é—®ï¼Œä¸æˆ‘ä»¬æ‰€æƒ³çš„ä¸€è‡´ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹å¦å¤–ä¸€ä¸ª</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@desktop0 ~]<span class="comment"># firewall-cmd --list-all</span></span><br><span class="line">&gt; public (default, active)</span><br><span class="line">&gt;   interfaces: eth0</span><br><span class="line">&gt;   sources: </span><br><span class="line">&gt;   services: dhcpv6-client</span><br><span class="line">&gt;   ports: </span><br><span class="line">&gt;   masquerade: no</span><br><span class="line">&gt;   forward-ports: </span><br><span class="line">&gt;   icmp-blocks: </span><br><span class="line">&gt;   rich rules: </span><br><span class="line">&gt; 	rule family=<span class="string">"ipv4"</span> <span class="built_in">source</span> address=<span class="string">"172.25.0.0/24"</span> service name=<span class="string">"ssh"</span> accept</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="4-å‘½ä»¤åˆ«ååŠIP-è½¬å‘"><a href="#4-å‘½ä»¤åˆ«ååŠIP-è½¬å‘" class="headerlink" title="4.å‘½ä»¤åˆ«ååŠIP è½¬å‘"></a>4.å‘½ä»¤åˆ«ååŠIP è½¬å‘</h4><p><strong>1ï¼‰åœ¨ç³»ç»Ÿ server å’Œ desktop ä¸Šåˆ›å»ºè‡ªå®šä¹‰å‘½ä»¤ä¸º tk,æ­¤è‡ªå®šä¹‰å‘½ä»¤å°†æ‰§è¡Œ/bin/ps aux,æ­¤å‘½ä»¤å¯¹ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·æœ‰æ•ˆ</strong></p>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># vim /etc/bashrc</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># tail -n 1 /etc/bashrc </span></span><br><span class="line"><span class="built_in">alias</span> tk=<span class="string">'/bin/ps aux'</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># bash</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># which tk</span></span><br><span class="line"><span class="built_in">alias</span> tk=<span class="string">'/bin/ps aux'</span></span><br><span class="line">	/bin/ps</span><br></pre></td></tr></table></figure>

<p><strong>desktop0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># vim /etc/bashrc </span></span><br><span class="line">[root@server0 ~]<span class="comment"># tail -n 1 /etc/bashrc</span></span><br><span class="line"><span class="built_in">alias</span> tk=<span class="string">'/bin/ps aux'</span></span><br><span class="line">[root@server0 ~]<span class="comment"># bash</span></span><br><span class="line">[root@server0 ~]<span class="comment"># which tk</span></span><br><span class="line"><span class="built_in">alias</span> tk=<span class="string">'/bin/ps aux'</span></span><br><span class="line">	/bin/ps</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ­¤é¢˜è¿‡äºç®€å•ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šè§£é‡Š</p>
</blockquote>
<p><strong>2ï¼‰å¼€å¯ IP è½¬å‘åŠŸèƒ½</strong></p>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># cat /etc/sysctl.conf </span></span><br><span class="line"><span class="comment"># System default settings live in /usr/lib/sysctl.d/00-system.conf.</span></span><br><span class="line"><span class="comment"># To override those settings, enter new settings here, or in an </span></span><br><span class="line">.........................................</span><br><span class="line">[root@server0 ~]<span class="comment"># vim /usr/lib/sysctl.d/00-system.conf</span></span><br><span class="line">[root@server0 ~]<span class="comment"># cat /usr/lib/sysctl.d/00-system.conf </span></span><br><span class="line">........................................</span><br><span class="line">net.bridge.bridge-nf-call-arptables = 0</span><br><span class="line">net.ipv4.ip_forward = 1 <span class="comment">#åœ¨æ­¤å¤„æ·»åŠ </span></span><br><span class="line"></span><br><span class="line">........................................</span><br><span class="line">[root@server0 ~]<span class="comment"># sysctl -p /usr/lib/sysctl.d/00-system.conf</span></span><br><span class="line">net.bridge.bridge-nf-call-ip6tables = 0</span><br><span class="line">net.bridge.bridge-nf-call-iptables = 0</span><br><span class="line">net.bridge.bridge-nf-call-arptables = 0</span><br><span class="line">net.ipv4.ip_forward = 1      <span class="comment">#æœ‰è¿™ä¸ªè¡¨ç¤ºæˆåŠŸ</span></span><br><span class="line">kernel.shmmax = 4294967295</span><br><span class="line">kernel.shmall = 268435456</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åŒæ ·åœ¨desktop è¿™å°è™šæ‹Ÿæœºä¸Šä¹Ÿè¦åšï¼Œæ­¤å¤„ä¸åšè¿‡å¤šæ¼”ç¤º</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># cat /etc/sysctl.conf </span></span><br><span class="line"><span class="comment"># System default settings live in /usr/lib/sysctl.d/00-system.conf.</span></span><br><span class="line"><span class="comment"># To override those settings, enter new settings here, or in an /etc/sysctl.d/&lt;name&gt;.conf file</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For more information, see sysctl.conf(5) and sysctl.d(5).</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># vim /usr/lib/sysctl.d/00-system.conf</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># sysctl -p /usr/lib/sysctl.d/00-system.conf</span></span><br><span class="line">net.bridge.bridge-nf-call-ip6tables = 0</span><br><span class="line">net.bridge.bridge-nf-call-iptables = 0</span><br><span class="line">net.bridge.bridge-nf-call-arptables = 0</span><br><span class="line">net.ipv4.ip_forward = 1</span><br><span class="line">kernel.shmmax = 4294967295</span><br><span class="line">kernel.shmall = 268435456</span><br><span class="line">[root@desktop0 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h4 id="5-ç«¯å£è½¬å‘"><a href="#5-ç«¯å£è½¬å‘" class="headerlink" title="5.ç«¯å£è½¬å‘"></a>5.ç«¯å£è½¬å‘</h4><ul>
<li>åœ¨ server ä¸Šé…ç½®ç«¯å£è½¬å‘,åœ¨ 172.25.0.0/24 ä¸­çš„ç³»ç»Ÿ,è®¿é—® server çš„æœ¬åœ°ç«¯å£ 9527 å°†è¢«è½¬å‘åˆ° 80,æ­¤è®¾ç½®æ°¸ä¹…ç”Ÿæ•ˆ</li>
</ul>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 source address=172.25.0.0/24 forward-port port=9527 protocol=tcp to-port=80' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯ä»¥ç”¨<code>firewall-cmd --list-all</code>å‘½ä»¤æ¥æŸ¥çœ‹æ˜¯å¦æ·»åŠ ä¸Šå»</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@server0 ~]<span class="comment"># firewall-cmd --list-all</span></span><br><span class="line">&gt; public (default, active)</span><br><span class="line">&gt;   interfaces: eth0</span><br><span class="line">&gt;   sources: </span><br><span class="line">&gt;   services: dhcpv6-client</span><br><span class="line">&gt;   ports: </span><br><span class="line">&gt;   masquerade: no</span><br><span class="line">&gt;   forward-ports: </span><br><span class="line">&gt;   icmp-blocks: </span><br><span class="line">&gt;   rich rules: </span><br><span class="line">&gt; 	rule family=<span class="string">"ipv4"</span> <span class="built_in">source</span> address=<span class="string">"172.25.0.0/24"</span> forward-port port=<span class="string">"9527"</span> protocol=<span class="string">"tcp"</span> to-port=<span class="string">"80"</span></span><br><span class="line">&gt; 	rule family=<span class="string">"ipv4"</span> <span class="built_in">source</span> address=<span class="string">"172.25.0.0/24"</span> service name=<span class="string">"ssh"</span> accept</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>åˆ‡è®°ï¼šæ­¤é¢˜éœ€è¦ä¹‹åœ¨<strong>server0</strong>ä¸Šé¢æ“ä½œï¼Œè€Œä¸”è€ƒè¯•ä¸­é¢˜ç›®éœ€è¦ä½ åœ¨é‚£æ“ä½œå°±åœ¨é‚£æ“ä½œï¼Œåˆ‡å‹¿å¿ƒæ€¥ç›²ç›®</p>
</blockquote>
<h4 id="6-èšåˆç½‘ç»œ"><a href="#6-èšåˆç½‘ç»œ" class="headerlink" title="6.èšåˆç½‘ç»œ"></a>6.èšåˆç½‘ç»œ</h4><p>åœ¨ server å’Œ desktop ä¹‹é—´é…ç½®é“¾è·¯èšåˆ</p>
<p>æ­¤é“¾è·¯ä½¿ç”¨æ¥å£ slave1 å’Œ slave2</p>
<p>æ­¤é“¾è·¯åœ¨ä¸€ä¸ªæ¥å£å¤±æ•ˆå,ä»ç„¶èƒ½å·¥ä½œ</p>
<p>æ­¤é“¾è·¯åœ¨ server ä¸Šä½¿ç”¨åœ°å€ 192.168.0.1/24</p>
<p>æ­¤é“¾è·¯åœ¨ desktop ä¸Šä½¿ç”¨åœ°å€ 192.168.0.2/24</p>
<p>æ­¤é“¾è·¯åœ¨ç³»ç»Ÿé‡å¯åä¾ç„¶ä¿æŒæ­£å¸¸çŠ¶æ€</p>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># nmcli device </span></span><br><span class="line">DEVICE  TYPE      STATE         CONNECTION  </span><br><span class="line">eth0    ethernet  connected     System eth0 </span><br><span class="line">eth1    ethernet  disconnected  --          </span><br><span class="line">eth2    ethernet  disconnected  --          </span><br><span class="line">lo      loopback  unmanaged     --          </span><br><span class="line">[root@server0 ~]<span class="comment"># nmcli connection add type team con-name team0 ifname team0 config '&#123;"runner":&#123;"name":"activebackup"&#125;&#125;'</span></span><br><span class="line">Connection <span class="string">'team0'</span> (f816c00c-0488-455e-8d17-d66004112ef7) successfully added.</span><br><span class="line">[root@server0 ~]<span class="comment"># nmcli connection modify team0 ipv4.addresses "192.168.0.1/24" ipv4.method manual connection.autoconnect yes</span></span><br><span class="line">[root@server0 ~]<span class="comment"># nmcli connection add type team-slave con-name slave1 ifname eth1 master team0 </span></span><br><span class="line">Connection <span class="string">'slave1'</span> (5276955f-cbd6-4ec3-82dc-daf6b0073998) successfully added.</span><br><span class="line">[root@server0 ~]<span class="comment"># nmcli connection add type team-slave con-name slave2 ifname eth2 master team0 </span></span><br><span class="line">Connection <span class="string">'slave2'</span> (26009b44-7428-4cb4-a2b6-41d5aa5f3cac) successfully added.</span><br><span class="line">[root@server0 ~]<span class="comment"># nmcli connection up team0</span></span><br><span class="line">Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/4)</span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl restart network</span></span><br></pre></td></tr></table></figure>

<p><strong>desktop</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># nmcli device </span></span><br><span class="line">DEVICE  TYPE      STATE         CONNECTION  </span><br><span class="line">eth0    ethernet  connected     System eth0 </span><br><span class="line">eth1    ethernet  disconnected  --          </span><br><span class="line">eth2    ethernet  disconnected  --          </span><br><span class="line">lo      loopback  unmanaged     --          </span><br><span class="line">[root@desktop0 ~]<span class="comment"># nmcli connection add type team con-name team0 ifname team0 config '&#123;"runner":&#123;"name":"activebackup"&#125;&#125;'</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># nmcli connection modify team0 ipv4.addresses "192.168.0.2/24" ipv4.method manual connection.autoconnect yes</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># nmcli connection add type team-slave con-name slave1 ifname eth1 master team0 </span></span><br><span class="line">Connection <span class="string">'slave1'</span> (5c6c05b2-63b9-4aca-b991-ab570f4e23bd) successfully added.</span><br><span class="line">[root@desktop0 ~]<span class="comment"># nmcli connection add type team-slave con-name slave2 ifname eth2 master team0  </span></span><br><span class="line">Connection <span class="string">'slave2'</span> (546bc410-6a94-4fff-9bef-398e54b2feff) successfully added.</span><br><span class="line">[root@desktop0 ~]<span class="comment"># nmcli connection up team0 </span></span><br><span class="line">Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/4)</span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl restart network</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æœ€åæˆ‘ä»¬éªŒè¯ä»¥ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@desktop0 ~]<span class="comment"># ping 192.168.0.1</span></span><br><span class="line">&gt; PING 192.168.0.1 (192.168.0.1) 56(84) bytes of data.</span><br><span class="line">&gt; 64 bytes from 192.168.0.1: icmp_seq=1 ttl=64 time=1.17 ms</span><br><span class="line">&gt; 64 bytes from 192.168.0.1: icmp_seq=2 ttl=64 time=0.301 ms</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>ç„¶åæˆ‘ä»¬æ–­æ‰ä¸€ä¸ªæ¥å£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@desktop0 ~]<span class="comment"># nmcli connection down slave1</span></span><br><span class="line">&gt; [root@desktop0 ~]<span class="comment"># ping 192.168.0.1</span></span><br><span class="line">&gt; PING 192.168.0.1 (192.168.0.1) 56(84) bytes of data.</span><br><span class="line">&gt; 64 bytes from 192.168.0.1: icmp_seq=1 ttl=64 time=0.582 ms</span><br><span class="line">&gt; ^C</span><br><span class="line">&gt; --- 192.168.0.1 ping statistics ---</span><br><span class="line">&gt; 1 packets transmitted, 1 received, 0% packet loss, time 0ms</span><br><span class="line">&gt; rtt min/avg/max/mdev = 0.582/0.582/0.582/0.000 ms</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>æˆ‘ä»¬downæ‰å…¶ä¸­ä¸€ä¸ªæ¥å£ï¼Œè¿˜èƒ½pingé€š</p>
</blockquote>
<h4 id="7-IPv6-è®¾ç½®"><a href="#7-IPv6-è®¾ç½®" class="headerlink" title="7.IPv6 è®¾ç½®"></a>7.IPv6 è®¾ç½®</h4><p>åœ¨æ‚¨çš„è€ƒè¯•ç³»ç»Ÿä¸Šé…ç½®æ¥å£,åœ¨ä½ çš„é»˜è®¤ç½‘å¡ä¸Šä½¿ç”¨å¦‚ä¸‹ IPv6 åœ°å€</p>
<p>server ä¸Šçš„ IP åœ°å€åº”è¯¥æ˜¯ fd00:ba5e:ba11:10::1/64</p>
<p>desktop ä¸Šçš„ IP åœ°å€åº”è¯¥æ˜¯ fd00:ba5e:ba11:10::2/64</p>
<p>ä¸¤ä¸ªç³»ç»Ÿå¿…é¡»èƒ½ä¸ç½‘ç»œ fd00:ba5e:ba11:10::cc å†…çš„ç³»ç»Ÿé€šä¿¡</p>
<p>åœ°å€å¿…é¡»åœ¨é‡å¯åä¾ç„¶ç”Ÿæ•ˆ</p>
<p>ä¸¤ä¸ªç³»ç»Ÿä¿æŒå½“å‰çš„ IPv4 åœ°å€å¹¶èƒ½é€šä¿¡</p>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># nmcli connection show </span></span><br><span class="line">NAME         UUID                                  TYPE            DEVICE </span><br><span class="line">slave1       5276955f-cbd6-4ec3-82dc-daf6b0073998  802-3-ethernet  eth1   </span><br><span class="line">team0        f816c00c-0488-455e-8d17-d66004112ef7  team            team0  </span><br><span class="line">System eth0  5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03  802-3-ethernet  eth0   </span><br><span class="line">slave2       26009b44-7428-4cb4-a2b6-41d5aa5f3cac  802-3-ethernet  eth2   </span><br><span class="line">[root@server0 ~]<span class="comment"># nmcli connection modify "System eth0" ipv6.addresses fd00:ba5e:ba11:10::1/64 ipv6.method manual connection.autoconnect yes</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl restart network</span></span><br></pre></td></tr></table></figure>

<p><strong>desktop</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># nmcli connection show </span></span><br><span class="line">NAME         UUID                                  TYPE            DEVICE </span><br><span class="line">slave1       5c6c05b2-63b9-4aca-b991-ab570f4e23bd  802-3-ethernet  eth1   </span><br><span class="line">team0        8ccca14c-7275-4996-9d06-9bfd33cf7b3e  team            team0  </span><br><span class="line">System eth0  5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03  802-3-ethernet  eth0   </span><br><span class="line">slave2       546bc410-6a94-4fff-9bef-398e54b2feff  802-3-ethernet  eth2   </span><br><span class="line">[root@desktop0 ~]<span class="comment"># nmcli connection modify "System eth0" ipv6.addresses "fd00:ba5e:ba11:10::2/64" ipv6.method manual connection.autoconnect yes</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl restart network</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>éªŒè¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@desktop0 ~]<span class="comment"># ping6 fd00:ba5e:ba11:10::1</span></span><br><span class="line">&gt; PING fd00:ba5e:ba11:10::1(fd00:ba5e:ba11:10::1) 56 data bytes</span><br><span class="line">&gt; 64 bytes from fd00:ba5e:ba11:10::1: icmp_seq=1 ttl=64 time=4.55 ms</span><br><span class="line">&gt; 64 bytes from fd00:ba5e:ba11:10::1: icmp_seq=2 ttl=64 time=0.413 ms</span><br><span class="line">&gt; ^C</span><br><span class="line">&gt; --- fd00:ba5e:ba11:10::1 ping statistics ---</span><br><span class="line">&gt; 2 packets transmitted, 2 received, 0% packet loss, time 1003ms</span><br><span class="line">&gt; rtt min/avg/max/mdev = 0.413/2.485/4.558/2.073 ms</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>æœ‰å¥½å¤šè€ƒè€…éƒ½åœ¨æ€è€ƒè¿™ä¹ˆä¸€ä¸ªé—®é¢˜ï¼Œ</p>
<p>ä¸¤ä¸ªç³»ç»Ÿå¿…é¡»èƒ½ä¸ç½‘ç»œ fd00:ba5e:ba11:10::cc å†…çš„ç³»ç»Ÿé€šä¿¡</p>
<p>è¯·é—®ï¼šä½ ç”µè„‘èƒ½å¹³é€šè‡ªå·±çš„ç½‘æ®µå—ï¼Œè€ƒé¢˜è¯´çš„æ˜¯èƒ½ä¸è¿™ä¸ªç½‘ç»œé‡Œé¢å¾—ç³»ç»Ÿ</p>
</blockquote>
<h4 id="8-é‚®ä»¶æœåŠ¡"><a href="#8-é‚®ä»¶æœåŠ¡" class="headerlink" title="8.é‚®ä»¶æœåŠ¡"></a>8.é‚®ä»¶æœåŠ¡</h4><p>åœ¨ server ä¸Šé…ç½®é‚®ä»¶æœåŠ¡</p>
<p>è¿™äº›ç³»ç»Ÿä¸æ¥å—å¤–éƒ¨å‘æ¥çš„é‚®ä»¶</p>
<p>åœ¨è¿™äº›ç³»ç»Ÿä¸Šæœ¬åœ°å‘é€ä»»ä½•é‚®ä»¶éƒ½ä¼šè¢«è·¯ç”±åˆ° server1.example.com</p>
<p>ä»è¿™äº›ç³»ç»Ÿä¸Šå‘é€çš„é‚®ä»¶æ˜¾ç¤ºæ¥è‡ªäº example.com</p>
<p>æ‚¨å¯ä»¥é€šè¿‡å‘é€é‚®ä»¶åˆ° harry æ¥æµ‹è¯•æ‚¨çš„é…ç½®</p>
<p>æ‚¨å¯ä»¥é€šè¿‡è®¿é—® <a href="http://server1.example.com/email/harry" target="_blank" rel="noopener">http://server1.example.com/email/harry</a> æ¥éªŒè¯æ‚¨çš„é…ç½®(æ¨¡æ‹Ÿç¯å¢ƒä¸Šé¢æ²¡æœ‰è¿™ä¸ªåœ°å€ï¼Œæ‰€ä»¥æ­¤é¢˜éªŒè¯ä¸äº†)</p>
<p>å‘ç»™ harry çš„é‚®ä»¶åŒæ—¶èƒ½è¢« natasha æ”¶åˆ°</p>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># vim /etc/postfix/main.cf </span></span><br><span class="line">myorigin = example.com    <span class="comment">#å¤§æ¦‚åœ¨99è¡Œ</span></span><br><span class="line">inet_interfaces = localhost <span class="comment">#å¤§æ¦‚åœ¨117è¡Œï¼Œé»˜è®¤æ˜¯localhost</span></span><br><span class="line">mydestination = 			<span class="comment">#å¤§æ¦‚åœ¨165è¡Œï¼Œå°†=å·åé¢çš„åˆ æ‰</span></span><br><span class="line">mynetworks =  127.0.0.0/8	<span class="comment">#å¤§æ¦‚åœ¨265è¡Œï¼Œä»…éœ€è¦127.0.0.0/8</span></span><br><span class="line">relayhost = [server1.example.com]	<span class="comment">#å¤§æ¦‚åœ¨319è¡Œ</span></span><br><span class="line"><span class="comment">#ä¿å­˜å¹¶é€€å‡º</span></span><br><span class="line">[root@server0 ~]<span class="comment"># vim  /etc/aliases</span></span><br><span class="line">[root@server0 ~]<span class="comment"># tail -n 1 /etc/aliases</span></span><br><span class="line">harry:		harry,natasha</span><br><span class="line">[root@server0 ~]<span class="comment"># useradd harry</span></span><br><span class="line">[root@server0 ~]<span class="comment"># useradd natasha</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl restart postfix.service </span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl enable postfix.service </span></span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --add-service=smtp --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å› ä¸ºç¯å¢ƒåŸå› æ­¤é¢˜æ— æ³•éªŒè¯ï¼ŒçœŸå®è€ƒè¯•ç¯å¢ƒä¸­æ˜¯å¯ä»¥éªŒè¯çš„å…·ä½“éªŒè¯å¦‚ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@server0 ~]<span class="comment"># echo "hello" | mail -s testmail harry</span></span><br><span class="line">&gt; [root@server0 ~]<span class="comment"># curl http://server1.example.com/email/harry</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>ç„¶ååœ¨æœ€ä¸‹é¢å¯ä»¥çœ‹åˆ°ä¸€ä¸ªhello</p>
<p>é…ç½®æ–‡ä»¶å…·ä½“è§£é‡Šï¼š</p>
<p>myorigin = example.com    #æ¥è‡ªå“ªé‡Œ<br>mynetworks =  127.0.0.0/8    # é‚®ä»¶ä¿¡æ¯ä»…æœ¬åœ°ç¯å›<br>relayhost = [server1.example.com]    # ç±»ä¼¼ä¸­é—´ç«™ï¼Œä¾‹å¦‚Båœ¨Aå’ŒCçš„ä¸­é—´ï¼ŒAå‘ç»™Cçš„æ¶ˆæ¯Bå°±ä¼šæ”¶åˆ°ã€‚</p>
</blockquote>
<h4 id="9-Samba-æœåŠ¡"><a href="#9-Samba-æœåŠ¡" class="headerlink" title="9.Samba æœåŠ¡"></a>9.Samba æœåŠ¡</h4><p>åœ¨ server ä¸Šé…ç½® SAMBA æœåŠ¡</p>
<p>æ‚¨çš„ samba æœåŠ¡å™¨å¿…é¡»æ˜¯ STAFF å·¥ä½œç»„çš„ä¸€ä¸ªæˆå‘˜</p>
<p>å…±äº«/common ç›®å½•,å…±äº«åä¸º common</p>
<p>åªæœ‰ example.com åŸŸå†…çš„å®¢æˆ·ç«¯å¯ä»¥è®¿é—® common å…±äº«</p>
<p>common å¿…é¡»æ˜¯å¯ä»¥æµè§ˆçš„</p>
<p>ç”¨æˆ· natasha å¿…é¡»èƒ½å¤Ÿè¯»å–å…±äº«ä¸­çš„å†…å®¹,å¦‚æœéœ€è¦çš„è¯,éªŒè¯å¯†ç æ˜¯:tangkai</p>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># yum install -y samba*</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl restart smb nmb</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl enable smb nmb</span></span><br><span class="line">[root@server0 ~]<span class="comment"># mkdir /common</span></span><br><span class="line">[root@server0 ~]<span class="comment"># vim /etc/samba/smb.conf </span></span><br><span class="line"><span class="comment">#æ‰¾åˆ°ï¼š</span></span><br><span class="line">[global]</span><br><span class="line">workgroup = STAFF <span class="comment">#å°†=åé¢æ”¹ä¸ºSTAFF</span></span><br><span class="line">..................</span><br><span class="line">..................</span><br><span class="line"><span class="comment">#åœ¨æœ€ä¸‹é¢ï¼Œæ–°åŠ å…¥ï¼š</span></span><br><span class="line">[common]</span><br><span class="line">        path = /common</span><br><span class="line">        browseable = yes</span><br><span class="line">        valid users = natasha</span><br><span class="line"><span class="comment"># ä¿å­˜å¹¶é€€å‡º</span></span><br><span class="line">[root@server0 ~]<span class="comment"># getsebool -a | grep samba</span></span><br><span class="line">samba_create_home_dirs --&gt; off</span><br><span class="line">samba_domain_controller --&gt; off</span><br><span class="line">samba_enable_home_dirs --&gt; off</span><br><span class="line">samba_export_all_ro --&gt; off</span><br><span class="line">samba_export_all_rw --&gt; off</span><br><span class="line">samba_portmapper --&gt; off</span><br><span class="line">samba_run_unconfined --&gt; off</span><br><span class="line">samba_share_fusefs --&gt; off</span><br><span class="line">samba_share_nfs --&gt; off</span><br><span class="line">sanlock_use_samba --&gt; off</span><br><span class="line">use_samba_home_dirs --&gt; off</span><br><span class="line">virt_sandbox_use_samba --&gt; off</span><br><span class="line">virt_use_samba --&gt; off</span><br><span class="line">[root@server0 ~]<span class="comment"># setsebool -P samba_enable_home_dirs 1</span></span><br><span class="line">[root@server0 ~]<span class="comment"># chcon -Rt samba_share_t /common/</span></span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 source address=172.25.0.0/24 service name=samba accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 source address=172.25.0.0/24 service name=samba-client accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br><span class="line">[root@server0 ~]<span class="comment"># id natasha</span></span><br><span class="line">uid=1002(natasha) gid=1002(natasha) groups=1002(natasha)</span><br><span class="line">[root@server0 ~]<span class="comment"># smbpasswd -a natasha</span></span><br><span class="line">New SMB password:</span><br><span class="line">Retype new SMB password:</span><br><span class="line">Added user natasha.</span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl restart smb nmb</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl enable smb nmb</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æˆ‘ä»¬è¦å…»æˆä¸€ç§ä¹ æƒ¯ï¼Œä¸ç®¡ä¹‹å‰æœ‰æ²¡æœ‰åŠ å…¥å¯åŠ¨é¡¹ï¼Œåœ¨æ¯æ¬¡é‡å¯ä¹‹åï¼Œæˆ‘ä»¬éƒ½è¦é¡ºæ‰‹æŠŠä»–åŠ å…¥åˆ°å¼€æœºå¯åŠ¨é¡¹é‡Œé¢</p>
</blockquote>
<blockquote>
<p>éªŒè¯:éœ€è¦åˆ°desktop0é‡Œé¢éªŒè¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@desktop0 ~]<span class="comment"># yum install -y cifs-util*</span></span><br><span class="line">&gt; [root@desktop0 ~]<span class="comment"># mount -t cifs -o username=natasha,password=tangkai //172.25.0.11/common /media/</span></span><br><span class="line">&gt; [root@desktop0 ~]<span class="comment"># df -h</span></span><br><span class="line">&gt; Filesystem            Size  Used Avail Use% Mounted on</span><br><span class="line">&gt; /dev/vda1              10G  3.1G  7.0G  31% /</span><br><span class="line">&gt; devtmpfs              906M     0  906M   0% /dev</span><br><span class="line">&gt; tmpfs                 921M   80K  921M   1% /dev/shm</span><br><span class="line">&gt; tmpfs                 921M   17M  904M   2% /run</span><br><span class="line">&gt; tmpfs                 921M     0  921M   0% /sys/fs/cgroup</span><br><span class="line">&gt; //172.25.0.11/common   10G  3.1G  7.0G  31% /media</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="10-å¤šç”¨æˆ·-samba-æŒ‚è½½"><a href="#10-å¤šç”¨æˆ·-samba-æŒ‚è½½" class="headerlink" title="10.å¤šç”¨æˆ· samba æŒ‚è½½"></a>10.å¤šç”¨æˆ· samba æŒ‚è½½</h4><p>åœ¨ server ä¸Šé€šè¿‡ samba å…±äº«ç›®å½•/storage</p>
<p>å…±äº«åä¸º share</p>
<p>å…±äº«ç›®å½•åªèƒ½è¢« example.com åŸŸå†…çš„å®¢æˆ·ç«¯ä½¿ç”¨</p>
<p>å…±äº«ç›®å½• share å¿…é¡»å¯ä»¥è¢«æµè§ˆ</p>
<p>ç”¨æˆ· sarah èƒ½ä»¥è¯»çš„æ–¹å¼è®¿é—®æ­¤å…±äº«,è®¿é—®å¯†ç æ˜¯ tangkai</p>
<p>ç”¨æˆ· kitty èƒ½ä»¥è¯»å†™çš„æ–¹å¼è®¿é—®æ­¤å…±äº«,è®¿é—®å¯†ç æ˜¯ tangkai</p>
<p>æ­¤å…±äº«æ°¸ä¹…æŒ‚è½½åœ¨ desktop ä¸Šçš„/mnt/dev ç›®å½•,å¹¶ä½¿ç”¨ç”¨æˆ· sarah è¿›è¡Œè®¤è¯,ä»»ä½•ç”¨æˆ·å¯ä¸´æ—¶é€šè¿‡ kitty æ¥è·å¾—è¯»å†™æƒé™</p>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># vim /etc/samba/smb.conf </span></span><br><span class="line">[root@server0 ~]<span class="comment"># tail n 6 /etc/samba/smb.conf </span></span><br><span class="line">[share]</span><br><span class="line">	path = /storage</span><br><span class="line">	browseable = yes</span><br><span class="line">    valid users = sarah,kitty</span><br><span class="line">	writable = no</span><br><span class="line">	write list = kitty</span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl restart smb nmb</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl enable smb nmb</span></span><br><span class="line">[root@server0 ~]<span class="comment"># mkdir /storage</span></span><br><span class="line">[root@server0 ~]<span class="comment"># useradd sarah</span></span><br><span class="line">[root@server0 ~]<span class="comment"># useradd kitty</span></span><br><span class="line">[root@server0 ~]<span class="comment"># chcon -Rt samba_share_t /storage/</span></span><br><span class="line">[root@server0 ~]<span class="comment"># setfacl -m u:sarah:r-x /storage/</span></span><br><span class="line">[root@server0 ~]<span class="comment"># setfacl -m u:kitty:rwx /storage/</span></span><br><span class="line">[root@server0 ~]<span class="comment"># smbpasswd -a sarah</span></span><br><span class="line">New SMB password:</span><br><span class="line">Retype new SMB password:</span><br><span class="line">Added user sarah.</span><br><span class="line">[root@server0 ~]<span class="comment"># smbpasswd -a kitty</span></span><br><span class="line">New SMB password:</span><br><span class="line">Retype new SMB password:</span><br><span class="line">Added user kitty.</span><br></pre></td></tr></table></figure>

<p><strong>desktop</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># vim /etc/fstab</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># tail -n 1 /etc/fstab </span></span><br><span class="line">//172.25.0.11/share	/mnt/dev	cifs multiuser,username=sarah,password=tangkai,sec=ntlmssp 0 0</span><br><span class="line">[root@desktop0 ~]<span class="comment"># mkdir /mnt/dev</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># mount -a</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># df -h</span></span><br><span class="line">Filesystem            Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/vda1              10G  3.1G  7.0G  31% /</span><br><span class="line">devtmpfs              906M     0  906M   0% /dev</span><br><span class="line">tmpfs                 921M   80K  921M   1% /dev/shm</span><br><span class="line">tmpfs                 921M   17M  904M   2% /run</span><br><span class="line">tmpfs                 921M     0  921M   0% /sys/fs/cgroup</span><br><span class="line">//172.25.0.11/common   10G  3.1G  7.0G  31% /media</span><br><span class="line">//172.25.0.11/share    10G  3.1G  7.0G  31% /mnt/dev</span><br></pre></td></tr></table></figure>

<h4 id="11-é…ç½®-NFS-æœåŠ¡"><a href="#11-é…ç½®-NFS-æœåŠ¡" class="headerlink" title="11.é…ç½® NFS æœåŠ¡"></a>11.é…ç½® NFS æœåŠ¡</h4><p>1.) åœ¨ server ä¸Šé…ç½® NFS<br>ä»¥åªè¯»çš„æ–¹å¼å…±äº«/public,åŒæ—¶åªèƒ½è¢« example.com å†…ç”¨æˆ·è®¿é—®</p>
<p>ä»¥è¯»å†™çš„æ–¹å¼å…±äº«/protected èƒ½è¢« example.com å†…ç”¨æˆ·è®¿é—®</p>
<p>è®¿é—®/protected éœ€è¦é€šè¿‡ kerberos å®‰å…¨åŠ å¯†,æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹è¾¹é“¾æ¥çš„ç§˜é’¥: <a href="http://classroom.example.com/pub/keytabs/server0.keytab" target="_blank" rel="noopener">http://classroom.example.com/pub/keytabs/server0.keytab</a></p>
<p>ç›®å½•/protected åº”è¯¥åŒ…å«åä¸º project æ‹¥æœ‰äººä¸º ldapuser12 çš„å­ç›®å½•</p>
<p>ç”¨æˆ· ldapuser12 èƒ½ä»¥è¯»å†™çš„æ–¹å¼è®¿é—®/protected/project</p>
<p><strong>server0</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># vim /etc/exports</span></span><br><span class="line">[root@server0 ~]<span class="comment"># cat /etc/exports</span></span><br><span class="line">/public	172.25.0.0/24(ro)</span><br><span class="line">/protected 172.25.0.0/24(rw,sec=krb5p)</span><br><span class="line">[root@server0 ~]<span class="comment"># mkdir /public</span></span><br><span class="line">[root@server0 ~]<span class="comment"># mkdir /protected</span></span><br><span class="line">[root@server0 ~]<span class="comment"># mkdir /protected/project</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™ä¸€æ çš„æ­¥éª¤æœ‰å¯èƒ½è€ƒè¯•ä¸éœ€è¦ä½ æ“ä½œï¼Œä½†æˆ‘ä»¬è¦ä»¥é˜²ä¸‡ä¸€</span></span><br><span class="line">[root@server0 ~]<span class="comment"># yum install -y krb5* sssd* authconfig*</span></span><br><span class="line">[root@server0 ~]<span class="comment"># cd /etc/openldap/</span></span><br><span class="line">[root@server0 openldap]<span class="comment"># ls</span></span><br><span class="line">certs  ldap.conf  schema</span><br><span class="line">[root@server0 openldap]<span class="comment"># mkdir cacerts</span></span><br><span class="line">[root@server0 openldap]<span class="comment"># cd cacerts/</span></span><br><span class="line">[root@server0 cacerts]<span class="comment"># wget http://classroom.example.com/pub/example-ca.crt</span></span><br><span class="line">[root@server0 cacerts]<span class="comment"># authconfig-tui </span></span><br><span class="line"><span class="comment"># è¿‡ç¨‹åœ¨è€ƒrhcseçš„æ—¶å€™æœ‰æè¿°ï¼Œè¿™é‡Œå°±ä¸å†ä»‹ç»</span></span><br><span class="line">[root@server0 cacerts]<span class="comment"># su - ldapuser12</span></span><br><span class="line">su: warning: cannot change directory to /home/guests/ldapuser12: No such file or directory</span><br><span class="line">mkdir: cannot create directory <span class="string">'/home/guests'</span>: Permission denied</span><br><span class="line">-bash-4.2$</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># chown ldapuser12 /protected/project</span></span><br><span class="line">[root@server0 ~]<span class="comment"># wget -O /etc/krb5.keytab  http://classroom.example.com/pub/keytabs/server0.keytab</span></span><br><span class="line">[root@server0 ~]<span class="comment"># vim /etc/sysconfig/nfs</span></span><br><span class="line">RPCNFSDARGS=<span class="string">"-V 4.2"</span>  <span class="comment"># åœ¨ç¬¬13è¡Œï¼Œå¼•å·é‡Œé¢åŠ å…¥-V 4.2</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl enable nfs-secure nfs-secure-server nfs-server</span></span><br><span class="line">ln -s <span class="string">'/usr/lib/systemd/system/nfs-secure.service'</span> <span class="string">'/etc/systemd/system/nfs.target.wants/nfs-secure.service'</span></span><br><span class="line">ln -s <span class="string">'/usr/lib/systemd/system/nfs-secure-server.service'</span> <span class="string">'/etc/systemd/system/nfs.target.wants/nfs-secure-server.service'</span></span><br><span class="line">ln -s <span class="string">'/usr/lib/systemd/system/nfs-server.service'</span> <span class="string">'/etc/systemd/system/nfs.target.wants/nfs-server.service'</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl start nfs-secure nfs-secure-server nfs-server</span></span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 source address=172.25.0.0/24 service name=nfs accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 source address=172.25.0.0/24 service name=rpc-bind accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 ~]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br></pre></td></tr></table></figure>

<p><strong>2.)</strong><br><strong>åœ¨ desktop ä¸ŠæŒ‚è½½æ¥è‡ªäº server0 çš„ NFS å…±äº«</strong></p>
<p>/public æŒ‚è½½åœ¨ç›®å½•/mnt/nfsmount ä¸Š</p>
<p>/protected æŒ‚è½½åœ¨ç›®å½•/mnt/nfssecure,å¹¶ä½¿ç”¨å®‰å…¨çš„æ–¹å¼,ç§˜é’¥ï¼š</p>
<p><a href="http://classroom.example.com/pub/keytabs/desktop0.keytab" target="_blank" rel="noopener">http://classroom.example.com/pub/keytabs/desktop0.keytab</a></p>
<p>ç”¨æˆ· ldapuser12 èƒ½åœ¨/mnt/nfssecure/project ä¸Šåˆ›å»ºæ–‡ä»¶</p>
<p>è¿™äº›æ–‡ä»¶ç³»ç»Ÿåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨æŒ‚è½½</p>
<p><strong>desktop</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># mkdir /mnt/nfsmount</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># mkdir /mnt/nfssecure</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™ä¸€æ çš„æ­¥éª¤æœ‰å¯èƒ½è€ƒè¯•ä¸éœ€è¦ä½ æ“ä½œï¼Œä½†æˆ‘ä»¬è¦ä»¥é˜²ä¸‡ä¸€</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># yum install sssd* krb5* authconfig* -y</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># cd /etc/openldap/</span></span><br><span class="line">[root@desktop0 openldap]<span class="comment"># ls</span></span><br><span class="line">certs  ldap.conf</span><br><span class="line">[root@desktop0 openldap]<span class="comment"># mkdir cacerts</span></span><br><span class="line">[root@desktop0 openldap]<span class="comment"># cd cacerts/</span></span><br><span class="line">[root@desktop0 cacerts]<span class="comment"># wget http://classroom.example.com/pub/example-ca.crt</span></span><br><span class="line">[root@desktop0 cacerts]<span class="comment"># authconfig-tui</span></span><br><span class="line"><span class="comment"># è¿‡ç¨‹åœ¨è€ƒrhcseçš„æ—¶å€™æœ‰æè¿°ï¼Œè¿™é‡Œå°±ä¸å†ä»‹ç»</span></span><br><span class="line">[root@desktop0 cacerts]<span class="comment"># su - ldapuser12</span></span><br><span class="line">su: warning: cannot change directory to /home/guests/ldapuser12: No such file or directory</span><br><span class="line">mkdir: cannot create directory <span class="string">'/home/guests'</span>: Permission denied</span><br><span class="line">-bash-4.2$</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># wget -O /etc/krb5.keytab http://classroom.example.com/pub/keytabs/desktop0.keytab</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># vim /etc/sysconfig/nfs</span></span><br><span class="line">RPCNFSDARGS=<span class="string">"-V 4.2"</span>  <span class="comment"># åœ¨ç¬¬13è¡Œï¼Œå¼•å·é‡Œé¢åŠ å…¥-V 4.2</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl enable nfs-secure</span></span><br><span class="line">ln -s <span class="string">'/usr/lib/systemd/system/nfs-secure.service'</span> <span class="string">'/etc/systemd/system/nfs.target.wants/nfs-secure.service'</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl start nfs-secure</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># vim /etc/fstab</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># tail -n 2 /etc/fstab </span></span><br><span class="line">172.25.0.11:/public /mnt/nfsmount nfs ro,v4.2 0 0</span><br><span class="line">172.25.0.11:/protected /mnt/nfssecure nfs defaults,v4.2,sec=krb5p 0 0</span><br><span class="line">[root@desktop0 ~]<span class="comment"># mount -a</span></span><br></pre></td></tr></table></figure>

<h4 id="12-åœ¨-server-ä¸Šé…ç½®ä¸€ä¸ª-web-ç«™ç‚¹-http-server-example-com"><a href="#12-åœ¨-server-ä¸Šé…ç½®ä¸€ä¸ª-web-ç«™ç‚¹-http-server-example-com" class="headerlink" title="12.åœ¨ server ä¸Šé…ç½®ä¸€ä¸ª web ç«™ç‚¹ http://server.example.com"></a>12.åœ¨ server ä¸Šé…ç½®ä¸€ä¸ª web ç«™ç‚¹ <a href="http://server.example.com" target="_blank" rel="noopener">http://server.example.com</a></h4><p>ä»<a href="http://classroom.example.com/pub/example.html" target="_blank" rel="noopener">http://classroom.example.com/pub/example.html</a> ä¸‹è½½æ–‡ä»¶,</p>
<p>å¹¶é‡å‘½åä¸º index.htmlï¼Œä¸è¦ä¿®æ”¹æ–‡ä»¶å†…å®¹ã€‚</p>
<p>å°†æ–‡ä»¶ index.html æ‹·è´åˆ°æ‚¨çš„ DocumentRoot ç›®å½•ä¸‹</p>
<p>æ¥è‡ªäº example.com çš„å®¢æˆ·ç«¯å¯ä»¥è®¿é—®è¯¥ web æœåŠ¡å™¨</p>
<p>æ¥è‡ªäº my133t.org çš„å®¢æˆ·ç«¯çš„è®¿é—®ä¼šè¢«æ‹’ç»</p>
<p><strong>server</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># yum install httpd -y</span></span><br><span class="line">[root@server0 ~]<span class="comment"># cd /var/www/html/</span></span><br><span class="line">[root@server0 html]<span class="comment"># ls</span></span><br><span class="line">[root@server0 html]<span class="comment"># wget -O  index.html http://classroom.example.com/pub/example.html</span></span><br><span class="line">[root@server0 html]<span class="comment"># ls</span></span><br><span class="line">index.html</span><br><span class="line">[root@server0 html]<span class="comment"># systemctl restart httpd</span></span><br><span class="line">[root@server0 html]<span class="comment"># systemctl enable httpd</span></span><br><span class="line">ln -s <span class="string">'/usr/lib/systemd/system/httpd.service'</span> <span class="string">'/etc/systemd/system/multi-user.target.wants/httpd.service'</span></span><br><span class="line">[root@server0 html]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 source address=172.25.0.0/24 service name=http accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 html]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br></pre></td></tr></table></figure>

<blockquote>
<p>éªŒè¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;[root@server0 html]<span class="comment"># curl http://server.example.com</span></span><br><span class="line">&gt; zheshi yige åœ¨ server ä¸Šé…ç½®ä¸€ä¸ª web ç«™ç‚¹</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
</blockquote>
<h4 id="13-ä¸ºç«™ç‚¹-http-server-example-com-é…ç½®-TLS-åŠ å¯†"><a href="#13-ä¸ºç«™ç‚¹-http-server-example-com-é…ç½®-TLS-åŠ å¯†" class="headerlink" title="13.ä¸ºç«™ç‚¹ http://server.example.com é…ç½® TLS åŠ å¯†"></a>13.ä¸ºç«™ç‚¹ <a href="http://server.example.com" target="_blank" rel="noopener">http://server.example.com</a> é…ç½® TLS åŠ å¯†</h4><p>å·²ç­¾åè¯ä¹¦ä» <a href="http://classroom.example.com/pub/tls/certs/server0.crt" target="_blank" rel="noopener">http://classroom.example.com/pub/tls/certs/server0.crt</a> è·å–</p>
<p>è¯ä¹¦çš„ç§˜é’¥ä» <a href="http://classroom.example.com/pub/tls/private/server0.key" target="_blank" rel="noopener">http://classroom.example.com/pub/tls/private/server0.key</a> è·å–</p>
<p>è¯ä¹¦çš„ç­¾åæˆæƒä¿¡æ¯ä» <a href="http://classroom.example.com/pub/tls/certs/www0.crt" target="_blank" rel="noopener">http://classroom.example.com/pub/tls/certs/www0.crt</a> è·å–</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 html]<span class="comment"># yum -y install mod_ssl.x86_64</span></span><br><span class="line">[root@server0 html]<span class="comment"># cd /etc/httpd/conf.d/</span></span><br><span class="line">[root@server0 conf.d]<span class="comment"># vim ssl.conf </span></span><br><span class="line"><span class="comment">#åˆ°120è¡Œå·¦å³</span></span><br><span class="line">SSLCertificateFile /etc/pki/tls/certs/localhost.crt</span><br><span class="line">SSLCertificateKeyFile /etc/pki/tls/private/localhost.key</span><br><span class="line"><span class="comment">#SSLCACertificateFile /etc/pki/tls/certs/ca-bundle.crt</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†è¿™ä¸‰ä¸ªçš„åé¢çš„æ–‡ä»¶åæ”¹æ‰ï¼Œç„¶åå°†æœ€åä¸€ä¸ªçš„#å·å»æ‰ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</span></span><br><span class="line">SSLCertificateFile /etc/pki/tls/certs/server0.crt</span><br><span class="line">SSLCertificateKeyFile /etc/pki/tls/private/server0.key</span><br><span class="line">SSLCACertificateFile /etc/pki/tls/certs/www0.crt</span><br><span class="line"><span class="comment"># è®°ä½è¿™ä¸‰ä¸ªè·¯å¾„ä¹‹åä¿å­˜å¹¶é€€å‡º</span></span><br><span class="line">[root@server0 conf.d]<span class="comment"># cd /etc/pki/tls/certs/</span></span><br><span class="line">[root@server0 certs]<span class="comment"># wget http://classroom.example.com/pub/tls/certs/server0.crt</span></span><br><span class="line">[root@server0 certs]<span class="comment"># cd /etc/pki/tls/private/</span></span><br><span class="line">[root@server0 private]<span class="comment"># wget http://classroom.example.com/pub/tls/private/server0.key</span></span><br><span class="line">[root@server0 private]<span class="comment"># cd /etc/pki/tls/certs/</span></span><br><span class="line">[root@server0 certs]<span class="comment"># wget http://classroom.example.com/pub/tls/certs/www0.crt</span></span><br><span class="line"></span><br><span class="line">[root@server0 certs]<span class="comment"># systemctl restart httpd.service </span></span><br><span class="line">[root@server0 certs]<span class="comment"># systemctl enable httpd.service </span></span><br><span class="line">[root@server0 certs]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 source address=172.25.0.0/24 service name=https accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 certs]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br></pre></td></tr></table></figure>

<blockquote>
<p>éªŒè¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@server0 certs]<span class="comment"># curl -k https://server.example.com</span></span><br><span class="line">&gt; zheshi yige åœ¨ server ä¸Šé…ç½®ä¸€ä¸ª web ç«™ç‚¹</span><br><span class="line">&gt; [root@server0 certs]<span class="comment"># curl http://server.example.com</span></span><br><span class="line">&gt; zheshi yige åœ¨ server ä¸Šé…ç½®ä¸€ä¸ª web ç«™ç‚¹</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="14-åœ¨-server-ä¸Šæ‰©å±•æ‚¨çš„-WEB-æœåŠ¡å™¨"><a href="#14-åœ¨-server-ä¸Šæ‰©å±•æ‚¨çš„-WEB-æœåŠ¡å™¨" class="headerlink" title="14.åœ¨ server ä¸Šæ‰©å±•æ‚¨çš„ WEB æœåŠ¡å™¨"></a>14.åœ¨ server ä¸Šæ‰©å±•æ‚¨çš„ WEB æœåŠ¡å™¨</h4><ol>
<li>ä¸ºç«™ç‚¹ <a href="http://www.example.com" target="_blank" rel="noopener">http://www.example.com</a> åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿä¸»æœº</li>
<li>è®¾ç½® DocumentRoot ä¸º/var/www/virtual</li>
<li>ä» <a href="http://classroom.example.com/pub/www.html" target="_blank" rel="noopener">http://classroom.example.com/pub/www.html</a> ä¸‹è½½æ–‡ä»¶,å¹¶é‡å‘½åä¸º index.html,ä¸è¦ä¿®æ”¹æ–‡ä»¶å†…å®¹ã€‚</li>
<li>å°†æ–‡ä»¶ index.html æ‹·è´åˆ° DocumentRoot ç›®å½•ä¸‹</li>
<li>ç¡®ä¿ floyd ç”¨æˆ·èƒ½å¤Ÿåœ¨/var/www/virtual ä¸‹åˆ›å»ºæ–‡ä»¶</li>
</ol>
<p><strong>server</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># find / -name *vhosts.conf</span></span><br><span class="line">/usr/share/doc/httpd-2.4.6/httpd-vhosts.conf</span><br><span class="line">[root@server0 ~]<span class="comment"># cp /usr/share/doc/httpd-2.4.6/httpd-vhosts.conf /etc/httpd/conf.d/</span></span><br><span class="line">[root@server0 ~]<span class="comment"># cd /etc/httpd/conf.d/</span></span><br><span class="line">[root@server0 conf.d]<span class="comment"># vim httpd-vhosts.conf </span></span><br><span class="line">[root@server0 conf.d]<span class="comment"># tail -n 8 httpd-vhosts.conf </span></span><br><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">    DocumentRoot <span class="string">"/var/www/html"</span></span><br><span class="line">    ServerName server.example.com</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">    DocumentRoot <span class="string">"/var/www/virtual"</span></span><br><span class="line">    ServerName www.example.com</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">[root@server0 ~]<span class="comment"># mkdir /var/www/virtual</span></span><br><span class="line">oot@server0 ~]<span class="comment"># cd /var/www/virtual/</span></span><br><span class="line">[root@server0 virtual]<span class="comment"># wget -O index.html http://classroom.example.com/pub/www.html</span></span><br><span class="line">[root@server0 conf.d]<span class="comment"># useradd floyd</span></span><br><span class="line">[root@server0 conf.d]<span class="comment"># setfacl -m u:floyd:rwx /var/www/virtual</span></span><br><span class="line">[root@server0 conf.d]<span class="comment"># systemctl restart httpd.service </span></span><br><span class="line">[root@server0 conf.d]<span class="comment"># systemctl enable httpd.service</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>éªŒè¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@server0 conf.d]<span class="comment"># curl www.example.com </span></span><br><span class="line">&gt; zheshi yige åœ¨ server ä¸Šæ‰©å±•æ‚¨çš„ WEB æœåŠ¡å™¨</span><br><span class="line">&gt; [root@server0 conf.d]<span class="comment"># curl -k https://server.example.com</span></span><br><span class="line">&gt; zheshi yige åœ¨ server ä¸Šé…ç½®ä¸€ä¸ª web ç«™ç‚¹</span><br><span class="line">&gt; [root@server0 conf.d]<span class="comment"># curl http://server.example.com</span></span><br><span class="line">&gt; zheshi yige åœ¨ server ä¸Šé…ç½®ä¸€ä¸ª web ç«™ç‚¹</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
</blockquote>
<h4 id="15-web-è®¿é—®æ§åˆ¶"><a href="#15-web-è®¿é—®æ§åˆ¶" class="headerlink" title="15.web è®¿é—®æ§åˆ¶"></a>15.web è®¿é—®æ§åˆ¶</h4><p>åœ¨æ‚¨ server ä¸Šçš„ web æœåŠ¡å™¨çš„ DocumentRoot ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º private çš„ç›®å½•</p>
<p>ä»<a href="http://classroom.example.com/pub/private.html" target="_blank" rel="noopener">http://classroom.example.com/pub/private.html</a> ä¸‹è½½æ–‡ä»¶åˆ°è¿™ä¸ªç›®å½•,å¹¶é‡å‘½åä¸ºindex.html,ä¸è¦ä¿®æ”¹æ–‡ä»¶å†…å®¹</p>
<p>ä» server ä¸Š,ä»»ä½•äººéƒ½å¯ä»¥æµè§ˆ private çš„å†…å®¹,ä½†æ˜¯ä»å…¶ä»–ç³»ç»Ÿä¸èƒ½è®¿é—®è¿™ä¸ªç›®å½•çš„å†…å®¹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 conf.d]<span class="comment"># cd /var/www/html/</span></span><br><span class="line">[root@server0 html]<span class="comment"># mkdir private</span></span><br><span class="line">[root@server0 html]<span class="comment"># cd private/</span></span><br><span class="line">[root@server0 private]<span class="comment"># wget -O index.html http://classroom.example.com/pub/private.</span></span><br><span class="line">[root@server0 private]<span class="comment"># vim /etc/httpd/conf/httpd.conf</span></span><br><span class="line"><span class="comment">#æœç´¢Requï¼Œå¤åˆ¶</span></span><br><span class="line">&lt;Directory /&gt;</span><br><span class="line">    AllowOverride none</span><br><span class="line">    Require all denied</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">[root@server0 private]<span class="comment"># vim /etc/httpd/conf.d/httpd-vhosts.conf</span></span><br><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">    DocumentRoot <span class="string">"/var/www/html"</span></span><br><span class="line">    ServerName server.example.com</span><br><span class="line">   <span class="comment">#&lt;Directory "/var/www/html/private"&gt;</span></span><br><span class="line">   <span class="comment">#    Require ip 172.25.0.11</span></span><br><span class="line">   <span class="comment">#&lt;/Directory&gt;</span></span><br><span class="line">&lt;/VirtualHost&gt; </span><br><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">    DocumentRoot <span class="string">"/var/www/virtual"</span></span><br><span class="line">    ServerName www.example.com</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"><span class="comment"># è¿™é‡Œ#å·è¡¨ç¤ºåŠ åœ¨è¿™é‡Œä¸‰ä¸ªï¼Œä¸è¦ç…§ç€æ•²ï¼ŒæŠŠ#å·éƒ½æ•²è¿›å»äº†</span></span><br><span class="line"></span><br><span class="line">[root@server0 private]<span class="comment"># systemctl restart httpd.service </span></span><br><span class="line">[root@server0 private]<span class="comment"># systemctl enable httpd.service</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>éªŒè¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@server0 private]<span class="comment"># curl server.example.com/private/ </span></span><br><span class="line">&gt; zheshi yige web è®¿é—®æ§åˆ¶</span><br><span class="line">&gt; <span class="comment"># ç„¶åæˆ‘ä»¬ç”¨å®¢æˆ·ç«¯å»è®¿é—®</span></span><br><span class="line">&gt; root@desktop0 ~]<span class="comment"># curl server.example.com/private/</span></span><br><span class="line">&gt; &lt;!DOCTYPE HTML PUBLIC <span class="string">"-//IETF//DTD HTML 2.0//EN"</span>&gt;</span><br><span class="line">&gt; &lt;html&gt;&lt;head&gt;</span><br><span class="line">&gt; &lt;title&gt;403 Forbidden&lt;/title&gt;</span><br><span class="line">&gt; &lt;/head&gt;&lt;body&gt;</span><br><span class="line">&gt; &lt;h1&gt;Forbidden&lt;/h1&gt;</span><br><span class="line">&gt; &lt;p&gt;You don<span class="string">'t have permission to access /private/</span></span><br><span class="line"><span class="string">&gt; on this server.&lt;/p&gt;</span></span><br><span class="line"><span class="string">&gt; &lt;/body&gt;&lt;/html&gt;</span></span><br><span class="line"><span class="string">&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="16-åœ¨-server-ä¸Šå®ç°åŠ¨æ€-web-å†…å®¹"><a href="#16-åœ¨-server-ä¸Šå®ç°åŠ¨æ€-web-å†…å®¹" class="headerlink" title="16.åœ¨ server ä¸Šå®ç°åŠ¨æ€ web å†…å®¹"></a>16.åœ¨ server ä¸Šå®ç°åŠ¨æ€ web å†…å®¹</h4><p>åŠ¨æ€å†…å®¹ç”±åä¸º alt.example.com çš„è™šæ‹Ÿä¸»æœºæä¾›è™šæ‹Ÿä¸»æœºä¾¦å¬ç«¯å£ä¸º 8909</p>
<p>ä» <a href="http://classroom.example.com/pub/webapp.wsgi" target="_blank" rel="noopener">http://classroom.example.com/pub/webapp.wsgi</a> ä¸‹è½½ä¸€ä¸ªè„šæœ¬,ç„¶åæ”¾åœ¨é€‚å½“çš„ä½ç½®,ä¸è¦ä¿®æ”¹æ–‡ä»¶å†…å®¹</p>
<p>å®¢æˆ·ç«¯è®¿é—® <a href="http://alt.example.com:8909" target="_blank" rel="noopener">http://alt.example.com:8909</a> æ—¶,åº”è¯¥æ¥æ”¶åˆ°åŠ¨æ€ç”Ÿæˆçš„ web é¡µé¢æ­¤ <a href="http://alt.example.com:8909" target="_blank" rel="noopener">http://alt.example.com:8909</a> å¿…é¡»èƒ½è¢« example.com å†…æ‰€æœ‰çš„ç³»ç»Ÿè®¿é—®</p>
<p><strong>server</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 private]<span class="comment"># yum install mod_wsgi.x86_64 -y</span></span><br><span class="line">[root@server0 private]<span class="comment"># cd /var/www/</span></span><br><span class="line">[root@server0 www]<span class="comment"># mkdir wsgi</span></span><br><span class="line">[root@server0 www]<span class="comment"># cd wsgi/</span></span><br><span class="line">[root@server0 wsgi]<span class="comment"># wget http://classroom.example.com/pub/webapp.wsgi</span></span><br><span class="line">[root@server0 wsgi]<span class="comment"># vim /etc/httpd/conf.d/httpd-vhosts.conf </span></span><br><span class="line">[root@server0 wsgi]<span class="comment"># tail -n 5 /etc/httpd/conf.d/httpd-vhosts.conf </span></span><br><span class="line">Listen 8909</span><br><span class="line">&lt;VirtualHost *:8909&gt;</span><br><span class="line">    WSGIScriptAlias / <span class="string">"/var/www/wsgi/webapp.wsgi"</span></span><br><span class="line">    ServerName alt.example.com:8909</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">[root@server0 wsgi]<span class="comment"># firewall-cmd --add-rich-rule 'rule family=ipv4 port port=8909 protocol=tcp accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 wsgi]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br><span class="line">[root@server0 wsgi]<span class="comment"># curl alt.example.com:8909</span></span><br><span class="line">curl: (7) Failed connect to alt.example.com:8909; Connection refused</span><br><span class="line">[root@server0 wsgi]<span class="comment"># semanage port -l | grep http</span></span><br><span class="line">http_cache_port_t              tcp      8080, 8118, 8123, 10001-10010</span><br><span class="line">http_cache_port_t              udp      3130</span><br><span class="line">http_port_t                    tcp      80, 81, 443, 488, 8008, 8009, 8443, 9000</span><br><span class="line">pegasus_http_port_t            tcp      5988</span><br><span class="line">pegasus_https_port_t           tcp      5989</span><br><span class="line">[root@server0 wsgi]<span class="comment"># semanage port -a -t http_port_t -p tcp 8909</span></span><br><span class="line">[root@server0 wsgi]<span class="comment"># systemctl restart httpd.service </span></span><br><span class="line">[root@server0 wsgi]<span class="comment"># systemctl enable httpd.service</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>éªŒè¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; [root@server0 wsgi]<span class="comment"># curl http://alt.example.com:8909</span></span><br><span class="line">&gt; Hello World!</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="17-é…ç½®-server-æä¾›ä¸€ä¸ª-iSCSI-å…±äº«æœåŠ¡"><a href="#17-é…ç½®-server-æä¾›ä¸€ä¸ª-iSCSI-å…±äº«æœåŠ¡" class="headerlink" title="17.é…ç½® server æä¾›ä¸€ä¸ª iSCSI å…±äº«æœåŠ¡"></a>17.é…ç½® server æä¾›ä¸€ä¸ª iSCSI å…±äº«æœåŠ¡</h4><p>ç£ç›˜åä¸º iqn.2014-09.com.example:server</p>
<p>æœåŠ¡ç«¯å£ä¸º 3260</p>
<p>ä½¿ç”¨ iscsi_store ä½œä¸ºå…¶åç«¯å·å…¶å¤§å°ä¸º 3G</p>
<p>æ­¤æœåŠ¡åªèƒ½è¢« desktop.example.com è®¿é—®</p>
<p><strong>server</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 wsgi]<span class="comment"># yum install targetcli* -y</span></span><br><span class="line">[root@server0 wsgi]<span class="comment"># lsblk </span></span><br><span class="line">NAME   MAJ:MIN RM SIZE RO TYPE MOUNTPOINT</span><br><span class="line">vda    253:0    0  10G  0 disk </span><br><span class="line">â””â”€vda1 253:1    0  10G  0 part /</span><br><span class="line">vdb    253:16   0  10G  0 disk </span><br><span class="line">[root@server0 wsgi]<span class="comment"># fdisk /dev/vdb</span></span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): n</span><br><span class="line">Partition <span class="built_in">type</span>:</span><br><span class="line">   p   primary (0 primary, 0 extended, 4 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): p</span><br><span class="line">Partition number (1-4, default 1): </span><br><span class="line">First sector (2048-20971519, default 2048): </span><br><span class="line">Last sector, +sectors or +size&#123;K,M,G&#125; (2048-20971519, default 20971519): +3G</span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): w</span><br><span class="line">[root@server0 wsgi]<span class="comment"># partprobe </span></span><br><span class="line">[root@server0 wsgi]<span class="comment"># lsblk </span></span><br><span class="line">NAME   MAJ:MIN RM SIZE RO TYPE MOUNTPOINT</span><br><span class="line">vda    253:0    0  10G  0 disk </span><br><span class="line">â””â”€vda1 253:1    0  10G  0 part /</span><br><span class="line">vdb    253:16   0  10G  0 disk </span><br><span class="line">â””â”€vdb1 253:17   0   3G  0 part </span><br><span class="line">[root@server0 wsgi]<span class="comment"># targetcli </span></span><br><span class="line">/&gt; ls</span><br><span class="line">o- / ................................................ [...]</span><br><span class="line">  o- backstores ..................................... [...]</span><br><span class="line">  | o- block ........................................ [Storage Objects: 0]</span><br><span class="line">  | o- fileio ....................................... [Storage Objects: 0]</span><br><span class="line">  | o- pscsi ........................................ [Storage Objects: 0]</span><br><span class="line">  | o- ramdisk ...................................... [Storage Objects: 0]</span><br><span class="line">  o- iscsi .......................................... [Targets: 0]</span><br><span class="line">  o- loopback ....................................... [Targets: 0]</span><br><span class="line">/&gt; <span class="built_in">cd</span> /backstores/block </span><br><span class="line">/backstores/block&gt; create iscsi_store /dev/vdb1</span><br><span class="line">Created block storage object iscsi_store using /dev/vdb1.</span><br><span class="line">/backstores/block&gt; <span class="built_in">cd</span> /iscsi </span><br><span class="line">/iscsi&gt; create iqn.2014-09.com.example:server</span><br><span class="line">Created target iqn.2014-09.com.example:server.</span><br><span class="line">Created TPG 1.</span><br><span class="line">/iscsi&gt; ls</span><br><span class="line">o- iscsi ........................................... [Targets: 1]</span><br><span class="line">  o- iqn.2014-09.com.example:server ................ [TPGs: 1]</span><br><span class="line">    o- tpg1 ........................................ [no-gen-acls, no-auth]</span><br><span class="line">      o- acls ...................................... [ACLs: 0]</span><br><span class="line">      o- luns ...................................... [LUNs: 0]</span><br><span class="line">      o- portals ................................... [Portals: 0]</span><br><span class="line">/iscsi&gt; <span class="built_in">cd</span> iqn.2014-09.com.example:server/tpg1/acls </span><br><span class="line">/iscsi/iqn.20...ver/tpg1/acls&gt; create iqn.2014-09.com.example:desktop</span><br><span class="line">Created Node ACL <span class="keyword">for</span> iqn.2014-09.com.example:desktop</span><br><span class="line">/iscsi/iqn.20...ver/tpg1/acls&gt; <span class="built_in">cd</span> /iscsi/iqn.2014-09.com.example:server/tpg1/luns </span><br><span class="line">/iscsi/iqn.20...ver/tpg1/luns&gt; create /backstores/block/iscsi_store </span><br><span class="line">Created LUN 0.</span><br><span class="line">Created LUN 0-&gt;0 mapping <span class="keyword">in</span> node ACL iqn.2014-09.com.example:desktop</span><br><span class="line">/iscsi/iqn.20...ver/tpg1/luns&gt; <span class="built_in">cd</span> /iscsi/iqn.2014-09.com.example:server/tpg1/portals </span><br><span class="line">/iscsi/iqn.20.../tpg1/portals&gt; create 172.25.0.11 3260</span><br><span class="line">Using default IP port 3260</span><br><span class="line">Created network portal 172.25.0.11:3260.</span><br><span class="line">/iscsi/iqn.20.../tpg1/portals&gt; <span class="built_in">exit</span></span><br><span class="line">Global pref auto_save_on_exit=<span class="literal">true</span></span><br><span class="line">Last 10 configs saved <span class="keyword">in</span> /etc/target/backup.</span><br><span class="line">Configuration saved to /etc/target/saveconfig.json</span><br><span class="line"></span><br><span class="line">[root@server0 wsgi]<span class="comment"># firewall-cmd --add-rich-rule 'rule family="ipv4" source address="172.25.0.0/24" port port=3260 protocol=tcp accept' --permanent </span></span><br><span class="line">success</span><br><span class="line">[root@server0 wsgi]<span class="comment"># firewall-cmd --reload </span></span><br><span class="line">success</span><br><span class="line">[root@server0 wsgi]<span class="comment"># systemctl restart target</span></span><br><span class="line">[root@server0 wsgi]<span class="comment"># systemctl enable target</span></span><br><span class="line">ln -s <span class="string">'/usr/lib/systemd/system/target.service'</span> <span class="string">'/etc/systemd/system/multi-user.target.wants/target.service'</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ä¸€é¢˜çš„éªŒè¯æ˜¯ä¸‹ä¸€é¢˜</p>
</blockquote>
<h4 id="18-é…ç½®-desktop-ä½¿å…¶èƒ½è¿æ¥åœ¨-server-ä¸Šæä¾›çš„-iscsi"><a href="#18-é…ç½®-desktop-ä½¿å…¶èƒ½è¿æ¥åœ¨-server-ä¸Šæä¾›çš„-iscsi" class="headerlink" title="18.é…ç½® desktop ä½¿å…¶èƒ½è¿æ¥åœ¨ server ä¸Šæä¾›çš„ iscsi"></a>18.é…ç½® desktop ä½¿å…¶èƒ½è¿æ¥åœ¨ server ä¸Šæä¾›çš„ iscsi</h4><p>iSCSI è®¾å¤‡åœ¨ç³»ç»Ÿå¯åŠ¨çš„æœŸé—´è‡ªåŠ¨åŠ è½½</p>
<p>å—è®¾å¤‡ iSCSI ä¸ŠåŒ…å«ä¸€ä¸ªå¤§å° 1500MiB çš„åˆ†åŒº,å¹¶æ ¼å¼åŒ–ä¸º ext4</p>
<p>æ­¤åˆ†åŒºæŒ‚è½½åœ¨/mnt/netdev ä¸ŠåŒæ—¶åœ¨ç³»ç»Ÿå¯åŠ¨çš„æœŸé—´è‡ªåŠ¨åŠ è½½</p>
<p><strong>desktop</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@desktop0 ~]<span class="comment"># yum install -y iscsi-init*</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># mkdir /mnt/netdev</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># vim /etc/iscsi/initiatorname.iscsi </span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># cat /etc/iscsi/initiatorname.iscsi </span></span><br><span class="line">InitiatorName=iqn.2014-09.com.example:desktop</span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl restart iscsi iscsid</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># systemctl enable iscsi iscsid</span></span><br><span class="line">ln -s <span class="string">'/usr/lib/systemd/system/iscsid.service'</span> <span class="string">'/etc/systemd/system/multi-user.target.wants/iscsid.service'</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># iscsiadm -m discovery -t st -p 172.25.0.11</span></span><br><span class="line">172.25.0.11:3260,1 iqn.2014-09.com.example:server</span><br><span class="line">[root@desktop0 ~]<span class="comment"># iscsiadm -m node -l</span></span><br><span class="line">Logging <span class="keyword">in</span> to [iface: default, target: iqn.2014-09.com.example:server, portal: 172.25.0.11,3260] (multiple)</span><br><span class="line">Login to [iface: default, target: iqn.2014-09.com.example:server, portal: 172.25.0.11,3260] successful.</span><br><span class="line">[root@desktop0 ~]<span class="comment"># lsblk </span></span><br><span class="line">NAME   MAJ:MIN RM SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda      8:0    0   3G  0 disk </span><br><span class="line">vda    253:0    0  10G  0 disk </span><br><span class="line">â””â”€vda1 253:1    0  10G  0 part /</span><br><span class="line">vdb    253:16   0  10G  0 disk </span><br><span class="line">[root@desktop0 ~]<span class="comment"># fdisk /dev/sda</span></span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): n</span><br><span class="line">Partition <span class="built_in">type</span>:</span><br><span class="line">   p   primary (0 primary, 0 extended, 4 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): p</span><br><span class="line">Partition number (1-4, default 1): </span><br><span class="line">First sector (8192-6291455, default 8192): </span><br><span class="line">Last sector, +sectors or +size&#123;K,M,G&#125; (8192-6291455, default 6291455): +1500M</span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): w</span><br><span class="line">[root@desktop0 ~]<span class="comment"># partprobe</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># mkfs.ext4 /dev/sda1</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># blkid | grep sda</span></span><br><span class="line">/dev/sda1: UUID=<span class="string">"142c6ec3-0d06-4f89-91e3-8201e8186d37"</span> TYPE=<span class="string">"ext4"</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># vim /etc/fstab </span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># tail -n 1 /etc/fstab </span></span><br><span class="line">UUID=<span class="string">"142c6ec3-0d06-4f89-91e3-8201e8186d37"</span>	/mnt/netdev	ext4 defaults,_netdev 0 0</span><br><span class="line">[root@desktop0 ~]<span class="comment"># mount -a</span></span><br><span class="line">[root@desktop0 ~]<span class="comment"># df -h</span></span><br><span class="line">/dev/vda1              10G  3.1G  7.0G  31% /</span><br><span class="line">devtmpfs              906M     0  906M   0% /dev</span><br><span class="line">tmpfs                 921M   80K  921M   1% /dev/shm</span><br><span class="line">.............................</span><br><span class="line">/dev/sda1             1.5G  4.5M  1.4G   1% /mnt/netdev</span><br></pre></td></tr></table></figure>

<h4 id="19-ç¼–å†™ä¸€ä¸ªä½äº-root-program-çš„-shell-è„šæœ¬"><a href="#19-ç¼–å†™ä¸€ä¸ªä½äº-root-program-çš„-shell-è„šæœ¬" class="headerlink" title="19.ç¼–å†™ä¸€ä¸ªä½äº/root/program çš„ shell è„šæœ¬"></a>19.ç¼–å†™ä¸€ä¸ªä½äº/root/program çš„ shell è„šæœ¬</h4><p>å½“æ‰§è¡Œ/root/program tang æ—¶,ç»ˆç«¯æ˜¾ç¤º kai</p>
<p>å½“æ‰§è¡Œ/root/program kai æ—¶,ç»ˆç«¯æ˜¾ç¤º tang</p>
<p>å½“ä»…æ‰§è¡Œ/root/program ä¸åŠ å‚æ•°,æˆ–è€…åŠ ä¸Šå…¶ä»–å‚æ•°æ—¶,ç»ˆç«¯æ˜¾ç¤ºæ ‡å‡†é”™è¯¯è¾“å‡º/root/program tang|kai</p>
<p><strong>server</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># vim /root/program</span></span><br><span class="line">[root@server0 ~]<span class="comment"># cat /root/program </span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line">    tang)</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"kai"</span></span><br><span class="line">	;;</span><br><span class="line">    kai)</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"tang"</span></span><br><span class="line">	;;</span><br><span class="line">    *)</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"/root/program tang|kai"</span></span><br><span class="line">	;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line">[root@server0 ~]<span class="comment"># chmod +x /root/program</span></span><br><span class="line">[root@server0 ~]<span class="comment"># /root/program tang </span></span><br><span class="line">kai</span><br><span class="line">[root@server0 ~]<span class="comment"># /root/program kai</span></span><br><span class="line">tang</span><br><span class="line">[root@server0 ~]<span class="comment"># /root/program</span></span><br><span class="line">/root/program tang|kai</span><br></pre></td></tr></table></figure>

<h4 id="20-å†™ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„è„šæœ¬"><a href="#20-å†™ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„è„šæœ¬" class="headerlink" title="20.å†™ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„è„šæœ¬"></a>20.å†™ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„è„šæœ¬</h4><p>è„šæœ¬åä¸º/root/mkuser,è„šæœ¬æ‰§è¡Œæ—¶éœ€è¦æ·»åŠ ä¸€ä¸ªå‚æ•°,</p>
<p>è¯·åœ¨ <a href="http://classroom.example.com/pub/user" target="_blank" rel="noopener">http://classroom.example.com/pub/user</a> ä¸‹è½½ä¸‹æ¥,è¿™ä¸ª user å°±æ˜¯å‚æ•°</p>
<p>å¦‚æœæ²¡æœ‰å‚æ•°,å°†æç¤º:Usage:/root/mkuser</p>
<p>å¦‚æœå‚æ•°ä¸ºä¸å­˜åœ¨çš„æ–‡ä»¶,åˆ™æç¤º:Input file not found</p>
<p>å¦‚æœå­˜åœ¨,åˆ™åˆ›å»ºç”¨æˆ·,ç”¨æˆ·ä¸éœ€è¦è®¾ç½®å¯†ç ,ç”¨æˆ·çš„ shell ä¸º/bin/flase</p>
<p><strong>server</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># vim /root/mkuser</span></span><br><span class="line">[root@server0 ~]<span class="comment"># cat /root/mkuser </span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -eq 0 ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Usage:/root/mkuser"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="variable">$1</span> ];<span class="keyword">then</span></span><br><span class="line">    <span class="keyword">for</span> user <span class="keyword">in</span> $(cat <span class="variable">$1</span>);<span class="keyword">do</span></span><br><span class="line">	useradd -s /bin/flase <span class="variable">$user</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Input file not found"</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">[root@server0 ~]<span class="comment"># chmod +x /root/mkuser </span></span><br><span class="line">[root@server0 ~]<span class="comment"># cd /root</span></span><br><span class="line">[root@server0 ~]<span class="comment"># wget http://classroom.example.com/pub/user </span></span><br><span class="line">[root@server0 ~]<span class="comment"># /root/mkuser</span></span><br><span class="line">Usage:/root/mkuser</span><br><span class="line">[root@server0 ~]<span class="comment"># /root/mkuser dfs</span></span><br><span class="line">Input file not found</span><br><span class="line">[root@server0 ~]<span class="comment"># /root/mkuser user</span></span><br><span class="line">[root@server0 ~]<span class="comment"># id user1</span></span><br><span class="line">uid=1001(user1) gid=1001(user1) groups=1001(user1)</span><br><span class="line">[root@server0 ~]<span class="comment"># id user2</span></span><br><span class="line">uid=1002(user2) gid=1002(user2) groups=1002(user2)</span><br><span class="line">[root@server0 ~]<span class="comment"># id user3</span></span><br><span class="line">uid=1003(user3) gid=1003(user3) groups=1003(user3)</span><br><span class="line">[root@server0 ~]<span class="comment"># cat user </span></span><br><span class="line">user1</span><br><span class="line">user2</span><br><span class="line">user3</span><br><span class="line">user4</span><br><span class="line">user5</span><br><span class="line">[root@server0 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h4 id="21-åœ¨ä½ çš„æœºå™¨ä¸Šåˆ›å»ºä¸€ä¸ª-mariadb-æ•°æ®åº“"><a href="#21-åœ¨ä½ çš„æœºå™¨ä¸Šåˆ›å»ºä¸€ä¸ª-mariadb-æ•°æ®åº“" class="headerlink" title="21.åœ¨ä½ çš„æœºå™¨ä¸Šåˆ›å»ºä¸€ä¸ª mariadb æ•°æ®åº“;"></a>21.åœ¨ä½ çš„æœºå™¨ä¸Šåˆ›å»ºä¸€ä¸ª mariadb æ•°æ®åº“;</h4><p>æ•°æ®åº“åä¸º contacts</p>
<p>æ•°æ®åº“åº”è¯¥åŒ…å«æ¥è‡ªæ•°æ®åº“å¤åˆ¶çš„å†…å®¹ã€‚å¤åˆ¶æ–‡ä»¶çš„ URL ä¸º<br><a href="http://classroom.example.com/pub/user.mdb" target="_blank" rel="noopener">http://classroom.example.com/pub/user.mdb</a></p>
<p>æ•°æ®åº“åªèƒ½è¢« localhost è®¿é—®</p>
<p>é™¤äº† root ç”¨æˆ·,æ­¤æ•°æ®åº“åªèƒ½è¢«ç”¨æˆ· raikon æŸ¥è¯¢,æ­¤ç”¨æˆ·å¯†ç ä¸º redhat</p>
<p>root ç”¨æˆ·å¯†ç ä¸º redhat,åŒæ—¶ä¸å…è®¸ç©ºå¯†ç ç™»é™†</p>
<p><strong>server</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]<span class="comment"># yum install mariadb* -y</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl restart mariadb</span></span><br><span class="line">[root@server0 ~]<span class="comment"># systemctl enable mariadb</span></span><br><span class="line">ln -s <span class="string">'/usr/lib/systemd/system/mariadb.service'</span> <span class="string">'/etc/systemd/system/multi-user.target.wants/mariadb.service'</span></span><br><span class="line">[root@server0 ~]<span class="comment"># mysql_secure_installation</span></span><br><span class="line">Set root password? [Y/n] y</span><br><span class="line">New password: <span class="comment">#redhat</span></span><br><span class="line">Re-enter new password: <span class="comment">#redhat</span></span><br><span class="line">Password updated successfully!</span><br><span class="line">Remove anonymous users? [Y/n] y</span><br><span class="line"> ... Success!</span><br><span class="line">Disallow root login remotely? [Y/n] n</span><br><span class="line"> ... skipping.</span><br><span class="line">Remove <span class="built_in">test</span> database and access to it? [Y/n] y</span><br><span class="line"> - Dropping <span class="built_in">test</span> database...</span><br><span class="line"> ... Success!</span><br><span class="line">Reload privilege tables now? [Y/n] y</span><br><span class="line"> ... Success!</span><br><span class="line">[root@server0 ~]<span class="comment"># wget http://classroom.example.com/pub/users.mdb</span></span><br><span class="line"></span><br><span class="line">[root@server0 ~]<span class="comment"># mysql -uroot -predhat</span></span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 11</span><br><span class="line">Server version: 5.5.35-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2013, Oracle, Monty Program Ab and others.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; create database Contacts;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; use Contacts;</span><br><span class="line">Database changed</span><br><span class="line">MariaDB [Contacts]&gt; <span class="built_in">source</span> /root/user.mdb;</span><br><span class="line">MariaDB [Contacts]&gt; grant select on Contacts .* to <span class="string">'raikon@localhost'</span> identified by <span class="string">'redhat'</span>;</span><br><span class="line">MariaDB [Contacts]&gt; flush privileges;</span><br><span class="line">MariaDB [Contacts]&gt; <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<h4 id="24-æ•°æ®åº“æŸ¥è¯¢"><a href="#24-æ•°æ®åº“æŸ¥è¯¢" class="headerlink" title="24.æ•°æ®åº“æŸ¥è¯¢"></a>24.æ•°æ®åº“æŸ¥è¯¢</h4><p>åœ¨ system1 ä¸Šä½¿ç”¨æ•°æ®åº“ Contacts ï¼Œå¹¶ä½¿ç”¨ç›¸åº”çš„ SQL æŸ¥è¯¢ä»¥å›ç­”ä¸‹åˆ—é—®é¢˜ï¼š</p>
<p> å¯†ç æ˜¯fadora çš„äººçš„åå­—æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p> æœ‰å¤šå°‘äººçš„å§“åæ˜¯ John ï¼ŒåŒæ—¶å±…ä½åœ¨ Santa Clara ï¼Ÿ</p>
<h3 id="system1"><a href="#system1" class="headerlink" title="system1"></a>system1</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@system1 ~]<span class="comment"># mysql -u root -predhat</span></span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; use Contacts;</span><br><span class="line"></span><br><span class="line">MariaDB [Contacts]&gt; SELECT u_name.firstname FROM u_name, u_passwd WHERE u_name.userid = u_passwd.uid AND u_passwd.password = <span class="string">'fadora'</span>;</span><br><span class="line">+-----------+</span><br><span class="line">| firstname |</span><br><span class="line">+-----------+</span><br><span class="line">| John      |</span><br><span class="line">+-----------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [Contacts]&gt; SELECT COUNT(*) FROM u_name,u_loc WHERE u_name.userid = u_loc.uid AND u_name.firstname = <span class="string">'John'</span> AND u_loc.location = <span class="string">'Santa Clara'</span>;</span><br><span class="line">+----------+</span><br><span class="line">| COUNT(*) |</span><br><span class="line">+----------+</span><br><span class="line">|        4 |</span><br><span class="line">+----------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><strong>å¯†ç æ˜¯fadora çš„äººçš„åå­—æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>John</p>
<p><strong>æœ‰å¤šå°‘äººçš„å§“åæ˜¯ John ï¼ŒåŒæ—¶å±…ä½åœ¨ Santa Clara ï¼Ÿ</strong></p>
<p> 4</p>
<blockquote>
<p>åœ¨è¿™é‡Œï¼Œè€ƒè€…è¯·åˆ‡è®°ï¼ŒæŸ¥è¯¢ä¹‹åçš„ç­”æ¡ˆè®°ä½ä¸€å®šè¦å¡«å†™åˆ°æ‰€å¡«å†™çš„æ­£ç¡®åœ°æ–¹ã€‚</p>
<p>ä¸è¦å¿˜è®°å¡«å†™è¿›å»</p>
</blockquote>
<p>ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹ã€‹</p>
<blockquote>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ¬¡RHCE 7 ç‰ˆæœ¬çš„è®¤è¯è€ƒè¯•å‚è€ƒç­”æ¡ˆï¼Œå¦‚æœ‰é”™è¯¯è¯·è”ç³»åšä¸»è¿›è¡Œæ›´æ”¹ï¼Œæœ€åç¥æ„¿å¤§å®¶RHCEè®¤è¯å–å¾—å¥½æˆç»©ï¼ï¼ï¼ï¼</p>
</blockquote>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 775531910@qq.com </span>
    </div>
</article>


<p>
    <a href="javascript:void(0)" class="dashang" onclick="dashangToggle()">èµ</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">æ–‡ç« æ ‡é¢˜:</span>RHCE è®¤è¯è€ƒè¯•ç»ƒä¹ </p>
    <p><span class="copy-title">æ–‡ç« å­—æ•°:</span><span class="post-count">8.5k</span></p>
    <p><span class="copy-title">æœ¬æ–‡ä½œè€…:</span><a href="javascript:void(0)" title="Li Jie">Li Jie</a></p>
    <p><span class="copy-title">å‘å¸ƒæ—¶é—´:</span>2019-08-29, 23:44:18</p>
    <p><span class="copy-title">æœ€åæ›´æ–°:</span>2019-08-22, 20:21:52</p>
    <span class="copy-title">åŸå§‹é“¾æ¥:</span><a class="post-url" href="/2019/08/29/13.linux--RHCE  è®¤è¯è€ƒè¯•ç»ƒä¹ /" title="RHCE è®¤è¯è€ƒè¯•ç»ƒä¹ ">https://github.com/chineselijie/2019/08/29/13.linux--RHCE  è®¤è¯è€ƒè¯•ç»ƒä¹ /</a>
    <p>
        <span class="copy-title">ç‰ˆæƒå£°æ˜:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"ç½²å-éå•†ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0"</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚
    </p>
</div>



    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '',
            clientSecret: '',
            repo: 'chineselijie.github.io',
            owner: 'chineselijie',
            admin: ['chineselijie'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">Â©2016-2019 Chineselijie</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">ç›®å½•</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" href="javascript:void(0)"></a>
    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>å–œæ¬¢å°±ç‚¹èµ,ç–¼çˆ±å°±æ‰“èµ</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">æ”¯ä»˜å®</label></span><span><label><input type="radio" name="pay" value="weixin">å¾®ä¿¡</label></span>
    </div>
</div>


</body>
<script src="//cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>

<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*ä½œè€…ã€æ ‡ç­¾çš„è‡ªåŠ¨è¡¥å…¨*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#linuxåŸºç¡€','#python','#linuxè¿›é˜¶','#linuxè¿ç»´','#Git',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
