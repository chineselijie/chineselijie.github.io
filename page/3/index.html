<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     Li Jie&#39;s blog
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>

  

  

<link rel="alternate" href="/atom.xml" title="Li Jie's blog" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    <main class="content">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/chineselijie"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover3.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Li Jie&#39;s blog</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="post-7.linux--正则表达式" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/7.linux--正则表达式/"
    >正则表达式</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/7.linux--正则表达式/" class="article-date">
  <time datetime="2019-08-29T15:44:18.560Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux进阶/">linux进阶</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; print(&quot;👆以上是不完整的我&quot;) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>[TOC]</p>
<h2 id="正则表达式分类"><a href="#正则表达式分类" class="headerlink" title="正则表达式分类"></a>正则表达式分类</h2><p>正则表达式：REGEXP      REGular EXPression</p>
<p>可分为两种：</p>
<ul>
<li>Basic REGEXP (基本正则表达式)</li>
<li>Extended REGEXP (扩展正则表达式)</li>
</ul>
<h2 id="基本正则表达式"><a href="#基本正则表达式" class="headerlink" title="基本正则表达式"></a>基本正则表达式</h2><ul>
<li>元字符</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.	任意单个字符</span><br><span class="line">[]	匹配指定范围内的任意单个字符</span><br><span class="line">[^]	匹配指定范围外的任意单个字符</span><br></pre></td></tr></table></figure>

<ul>
<li>匹配次数（贪婪模式）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*	匹配其前面的任意单个字符任意次</span><br><span class="line">.*	任意长度的任意字符</span><br><span class="line">\?	匹配其前面的任意单个字符1次或0次</span><br><span class="line">\+	匹配其前面的任意单个字符至少1次</span><br><span class="line">\&#123;m,n\&#125;	匹配其前面的任意单个字符至少m次，至多n次</span><br></pre></td></tr></table></figure>

<ul>
<li>位置锚定</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">^	锚定行首，此字符后面的任意单个字符必须出现在行首</span><br><span class="line">$	锚定行尾，此字符前面的任意单个字符必须出现在行尾</span><br><span class="line">^$	空白行</span><br><span class="line">\&lt;或\b	锚定词首，其后面的任意单个字符必须作为单词首部出现</span><br><span class="line">\&gt;或\b	锚定词尾，其前面的任意单个字符必须作为单词尾部出现</span><br></pre></td></tr></table></figure>

<ul>
<li>分组</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\(\) </span><br><span class="line">例如：\(ab\)*</span><br></pre></td></tr></table></figure>

<ul>
<li>后向引用</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\1	引用第一个左括号以及与之对应的右括号所包括的所有内容</span><br><span class="line">\2	引用第二个左括号以及与之对应的右括号所包括的所有内容</span><br></pre></td></tr></table></figure>

<h2 id="扩展正则表达式"><a href="#扩展正则表达式" class="headerlink" title="扩展正则表达式"></a>扩展正则表达式</h2><ul>
<li>字符匹配</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.       //匹配任意单个字符</span><br><span class="line">[]      //匹配指定范围内的任意单个字符</span><br><span class="line">[^]     //匹配指定范围外的任意单个字符</span><br></pre></td></tr></table></figure>

<ul>
<li>次数匹配</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*	匹配其前面的任意单个字符任意次</span><br><span class="line">?	匹配其前面的任意单个字符1次或0次</span><br><span class="line">+	匹配其前面的任意单个字符至少1次</span><br><span class="line">&#123;m,n&#125;	匹配其前面的任意单个字符至少m次，至多n次</span><br></pre></td></tr></table></figure>

<ul>
<li>位置锚定</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">^	锚定行首，此字符后面的任意单个字符必须出现在行首</span><br><span class="line">$	锚定行尾，此字符前面的任意单个字符必须出现在行尾</span><br><span class="line">^$	空白行</span><br><span class="line">\&lt;或\b	锚定词首，其后面的任意单个字符必须作为单词首部出现</span><br><span class="line">\&gt;或\b	锚定词尾，其前面的任意单个字符必须作为单词尾部出现</span><br></pre></td></tr></table></figure>

<ul>
<li>分组</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">()	分组</span><br><span class="line">\1，\2，\3，....</span><br><span class="line">例如：(ab)*</span><br></pre></td></tr></table></figure>

<ul>
<li>后向引用</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\1	引用第一个左括号以及与之对应的右括号所包括的所有内容</span><br><span class="line">\2	引用第二个左括号以及与之对应的右括号所包括的所有内容</span><br></pre></td></tr></table></figure>

<ul>
<li>或者</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">|	or 默认匹配｜的整个左侧或者整个右侧的内容</span><br><span class="line">例如：C|cat表示C或者cat，要想表示Cat或者cat则需要使用分组，如(C|c)at</span><br></pre></td></tr></table></figure>


      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/7.linux--正则表达式/" data-id="ck6akysdk00078wu62pwgsgev"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux进阶/">linux进阶</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-7.linux--用户和组管理" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/7.linux--用户和组管理/"
    >用户和组管理</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/7.linux--用户和组管理/" class="article-date">
  <time datetime="2019-08-29T15:44:18.557Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux基础/">linux基础</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; print(&quot;👆以上是不完整的我&quot;) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="用户和组管理"><a href="#用户和组管理" class="headerlink" title="用户和组管理"></a>用户和组管理</h1><p>[TOC]</p>
<h2 id="何为用户何为组？"><a href="#何为用户何为组？" class="headerlink" title="何为用户何为组？"></a>何为用户何为组？</h2><h4 id="用户和组的概念"><a href="#用户和组的概念" class="headerlink" title="用户和组的概念"></a>用户和组的概念</h4><p>例如：小明和他的家人</p>
<p>小明就是用户，他的家就是这个组，他的家人就是这个组里面的组员</p>
<p>*<em>用户存在的目的是为了实现资源的分派。 *</em></p>
<p>小明在家里有知识，可以教给小明的爸爸妈妈，小明的妈妈会做饭，可以做的饭给小明和小明爸爸吃，小明的爸爸有钱，可以给小明和小明妈妈花。</p>
<h4 id="用户分类"><a href="#用户分类" class="headerlink" title="用户分类"></a>用户分类</h4><p>Linux用户分为管理员和普通用户两种：</p>
<table>
<thead>
<tr>
<th align="center">用户类别</th>
<th align="center">用户ID</th>
</tr>
</thead>
<tbody><tr>
<td align="center">管理员</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">普通用户</td>
<td align="center">1-65535</td>
</tr>
</tbody></table>
<p>其中普通用户又分为系统用户和登录用户两种： </p>
<table>
<thead>
<tr>
<th align="center">用户类别</th>
<th align="center">用户ID</th>
</tr>
</thead>
<tbody><tr>
<td align="center">系通用户</td>
<td align="center">1-999（为 守护类进程获取系统资源而完成权限指派的用户 ）</td>
</tr>
<tr>
<td align="center">登陆用户</td>
<td align="center">1000-60000（为了完成交互式登录使用的用户）</td>
</tr>
</tbody></table>
<h4 id="Linux安全上下文"><a href="#Linux安全上下文" class="headerlink" title="Linux安全上下文"></a>Linux安全上下文</h4><blockquote>
<p> 运行中的程序：进程</p>
<p>以进程发起者的身份运行</p>
<p>进程所能够访问的所有资源的权限取决于进程的发起者的身份</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先我们打开两个终端</span></span><br><span class="line"><span class="comment"># 在第一个终端里输入</span></span><br><span class="line">[root@MR ~]<span class="comment"># cd /tmp</span></span><br><span class="line">[root@MR tmp]<span class="comment"># ls</span></span><br><span class="line">shadow</span><br><span class="line">[root@MR tmp]<span class="comment"># touch 123</span></span><br><span class="line">[root@MR tmp]<span class="comment"># ls -l</span></span><br><span class="line">总用量 4</span><br><span class="line">-rw-r--r--. 1 root root   0 3月  27 07:37 123</span><br><span class="line">----------. 1 root root 608 3月   8 15:48 shadow</span><br><span class="line"><span class="comment"># 在这里我们可以看到root是可读可写的权限</span></span><br><span class="line"><span class="comment"># 在第二个终端里输入</span></span><br><span class="line">[root@MR ~]<span class="comment"># su - zhou</span></span><br><span class="line">上一次登录：三 3月 27 04:27:47 CST 2019pts/1 上</span><br><span class="line">[zhou@MR ~]$ <span class="built_in">cd</span> /tmp</span><br><span class="line">[zhou@MR tmp]$ ls -l</span><br><span class="line">总用量 4</span><br><span class="line">-rw-r--r--. 1 root root   0 3月  27 07:37 123</span><br><span class="line">----------. 1 root root 608 3月   8 15:48 shadow</span><br><span class="line">[zhou@MR tmp]$ vim 123</span><br><span class="line">~</span><br><span class="line"><span class="string">"123"</span> [只读] 0L, 0C                                           0,0-1        全部</span><br><span class="line"><span class="comment"># 然后我们在第一个终端里输入</span></span><br><span class="line">[root@MR tmp]<span class="comment"># ps aux | grep vim</span></span><br><span class="line">zhou       4946  0.1  0.2 151916  5004 pts/0    S+   07:40   0:00 vim 123</span><br><span class="line">root       4948  0.0  0.0 112656   992 pts/2    R+   07:40   0:00 grep --color=auto vim</span><br><span class="line"><span class="comment"># 在这里我们可以看到 vim 123 是由zhou用户发起的进程</span></span><br><span class="line"><span class="comment"># 但是我们子啊第二步骤里面可以看到这个文件只是一个只读文件</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Linux通过安全上下文的概念完成用户权限的指派。</p>
<p>先判断用户是否是某文件的属主</p>
<p>再判断用户是否属于某个组</p>
<p>最后定其为其他用户</p>
</blockquote>
<h4 id="Linux用户组类别"><a href="#Linux用户组类别" class="headerlink" title="Linux用户组类别"></a>Linux用户组类别</h4><table>
<thead>
<tr>
<th align="center">用户组类别</th>
<th align="center">特征</th>
</tr>
</thead>
<tbody><tr>
<td align="center">私有组</td>
<td align="center">创建用户时，如果没有为其指定所属的组， 系统会自动为其创建一个与用户名相同的组</td>
</tr>
<tr>
<td align="center">基本组</td>
<td align="center">用户的默认组</td>
</tr>
<tr>
<td align="center">附加组(额外组)</td>
<td align="center">默认组以外的其它组</td>
</tr>
</tbody></table>
<h2 id="Linux-用户和组相关的配置文件"><a href="#Linux-用户和组相关的配置文件" class="headerlink" title="Linux 用户和组相关的配置文件"></a>Linux 用户和组相关的配置文件</h2><h4 id="各配置文件的说明"><a href="#各配置文件的说明" class="headerlink" title="各配置文件的说明"></a>各配置文件的说明</h4><table>
<thead>
<tr>
<th align="center">配置文件</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">/etc/passwd</td>
<td align="center">用户及其属性信息（名称、uid、基本组id等等）</td>
</tr>
<tr>
<td align="center">/etc/group</td>
<td align="center">组及其属性信息</td>
</tr>
<tr>
<td align="center">/etc/shadow</td>
<td align="center">用户密码及其相关属性</td>
</tr>
<tr>
<td align="center">/etc/gshadow</td>
<td align="center">组密码及其相关属性。在用户执行基本组切换时使用</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@MR tmp]<span class="comment"># tail -n5 /etc/passwd</span></span><br><span class="line">postfix:x:89:89::/var/spool/postfix:/sbin/nologin</span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br><span class="line">zhou:x:1000:1000::/home/zhou:/bin/bash</span><br><span class="line">wangqing:x:1001:1003:wu liang tian zun:/opt/123:/bin/csh</span><br><span class="line">openstack:x:1002:1005::/home/openstack:/bin/bash</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@MR tmp]<span class="comment"># tail -n5 /etc/group</span></span><br><span class="line">taoist:x:1001:wangqing</span><br><span class="line">tianzun:x:1002:wangqing</span><br><span class="line">wangqing:x:1003:</span><br><span class="line">123:x:1004:</span><br><span class="line">openstack:x:1005:</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>配置文件</th>
<th align="center">/etc/passwd</th>
<th align="center">/etc/group</th>
</tr>
</thead>
<tbody><tr>
<td>第一字段</td>
<td align="center">用户名</td>
<td align="center">组名</td>
</tr>
<tr>
<td>第二字段</td>
<td align="center">密码占位符号</td>
<td align="center">组名</td>
</tr>
<tr>
<td>第三字段</td>
<td align="center">UID</td>
<td align="center">组密码</td>
</tr>
<tr>
<td>第四字段</td>
<td align="center">GID</td>
<td align="center">GID</td>
</tr>
<tr>
<td>第五字段</td>
<td align="center">用户的描述信息</td>
<td align="center">以当前组为附加组的用户列表(分隔符为逗号)</td>
</tr>
<tr>
<td>第六字段</td>
<td align="center">用户家目录</td>
<td align="center"></td>
</tr>
<tr>
<td>第七字段</td>
<td align="center">用户的登录shell</td>
<td align="center"></td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@MR tmp]<span class="comment"># tail -n5 /etc/shadow</span></span><br><span class="line">postfix:!!:17961::::::</span><br><span class="line">sshd:!!:17961::::::</span><br><span class="line">zhou:!!:17981:0:99999:7:::</span><br><span class="line">wangqing:!!:17981:0:99999:3::17986:</span><br><span class="line">openstack:!!:17981:0:99999:7:::</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@MR tmp]<span class="comment"># tail -n5 /etc/gshadow</span></span><br><span class="line">taoist:!::wangqing</span><br><span class="line">tianzun:!::</span><br><span class="line">wangqing:!::</span><br><span class="line">123:<span class="variable">$6</span><span class="variable">$f3I23</span>/woA<span class="variable">$DV6eA</span>/Qc0KsZkbwOo1uqC3YRx30riDKd/ZOtrEulPnct2knx4gBakc8rFYwnCOXFKaG4H7Cdf1alzK/V6fpTl/::</span><br><span class="line">openstack:!::</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">配置文件</th>
<th align="center">/etc/shadow</th>
</tr>
</thead>
<tbody><tr>
<td align="center">第一字段</td>
<td align="center">登录名</td>
</tr>
<tr>
<td align="center">第二字段</td>
<td align="center">加密后的密码</td>
</tr>
<tr>
<td align="center">第三字段</td>
<td align="center">最近一次更改密码的日期</td>
</tr>
<tr>
<td align="center">第四字段</td>
<td align="center">密码的最小使用期限</td>
</tr>
<tr>
<td align="center">第五字段</td>
<td align="center">密码的最大使用期限</td>
</tr>
<tr>
<td align="center">第六字段</td>
<td align="center">密码警告时间段</td>
</tr>
<tr>
<td align="center">第七字段</td>
<td align="center">密码禁用期</td>
</tr>
<tr>
<td align="center">第八字段</td>
<td align="center">帐号的过期日期</td>
</tr>
<tr>
<td align="center">第九字段</td>
<td align="center">保留字段</td>
</tr>
</tbody></table>
<blockquote>
<p> 以上配置文件均可用vim 进行改动</p>
</blockquote>
<h4 id="加密方法"><a href="#加密方法" class="headerlink" title="加密方法"></a>加密方法</h4><ul>
<li>对称加密：加密和解密使用同一个密钥 </li>
<li>公钥加密：每个密码都成对出现，一个为私钥（secret key），一个为公钥（public key）</li>
<li>单向加密：也叫散列加密，提取数据特征码，能加密不能解密，常用于做数据完整性校验 </li>
</ul>
<p>单向加密的特点：</p>
<ul>
<li><p>雪崩效应（初始条件的微小改变，将会引起结果的巨大改变）</p>
</li>
<li><p>定长输出 </p>
<p>​    1.MD5：128位定长输出</p>
<p>​    2.SHA1：160位定长输出</p>
<p>​    3.SHA224：224位定长输出</p>
<p>​    4.SHA256：256位定长输出</p>
<p>​    5.SHA384：384位定长输出</p>
<p>​    6.SHA512：512位定长输出</p>
</li>
</ul>
<blockquote>
<p>一般我们只用MD5进行加密</p>
</blockquote>
<h4 id="Linux用户密码加密方式"><a href="#Linux用户密码加密方式" class="headerlink" title="Linux用户密码加密方式"></a>Linux用户密码加密方式</h4><blockquote>
<p> Linux密码是使用的单向加密方式进行加密 </p>
<p>意思是每个密码都不一样，在加密前给用户设置的密码加上一点杂质，再对这个杂质+用户密码一起使用单向加密。由于单向加密的雪崩效应，就算两人设置的密码是一样的，但因为杂质的不同，最终的结果也会截然不同</p>
</blockquote>
<p>密码复杂性策略：</p>
<ul>
<li>使用数字、大写字母、小写字母及特殊字符中至少3种</li>
<li>足够长</li>
<li>使用随机密码，不要使用有意义的单词或数字</li>
<li>定期更换，不要使用最近曾经使用过的密码</li>
</ul>
<h2 id="用户和组相关的命令"><a href="#用户和组相关的命令" class="headerlink" title="用户和组相关的命令"></a>用户和组相关的命令</h2><h4 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h4><h6 id="用户创建命令useradd"><a href="#用户创建命令useradd" class="headerlink" title="用户创建命令useradd"></a>用户创建命令useradd</h6><p>-u 指定uid</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@MR tmp]<span class="comment"># cd</span></span><br><span class="line">[root@MR ~]<span class="comment"># useradd -u 8888 yue</span></span><br><span class="line">[root@MR ~]<span class="comment"># id yue</span></span><br><span class="line">uid=8888(yue) gid=8888(yue) 组=8888(yue)</span><br></pre></td></tr></table></figure>

<p>-g 指定gid</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@MR home]<span class="comment"># tail -n5 /etc/group</span></span><br><span class="line">taoist:x:1001:wangqing</span><br><span class="line">tianzun:x:1002:wangqing</span><br><span class="line">wangqing:x:1003:</span><br><span class="line">123:x:1004:</span><br><span class="line">openstack:x:1005:</span><br><span class="line">[root@MR home]<span class="comment"># useradd -g tianzun yue</span></span><br><span class="line">[root@MR home]<span class="comment"># id yue</span></span><br><span class="line">uid=1003(yue) gid=1002(tianzun) 组=1002(tianzun)</span><br></pre></td></tr></table></figure>

<p>-G 指定附加组，组与组之间用逗号隔开，记住附加组必须存在</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@MR home]<span class="comment"># tail -n5 /etc/group</span></span><br><span class="line">taoist:x:1001:wangqing</span><br><span class="line">tianzun:x:1002:wangqing</span><br><span class="line">wangqing:x:1003:</span><br><span class="line">123:x:1004:</span><br><span class="line">openstack:x:1005:</span><br><span class="line">[root@MR home]<span class="comment"># useradd -G tianzun,taoist yue</span></span><br><span class="line">[root@MR home]<span class="comment"># id yue</span></span><br><span class="line">uid=1003(yue) gid=1006(yue) 组=1006(yue),1001(taoist),1002(tianzun)</span><br></pre></td></tr></table></figure>

<p>-c 添加注释信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@MR home]<span class="comment"># useradd -c"hahahahahaha" yue</span></span><br><span class="line">[root@MR home]<span class="comment"># tail -n5 /etc/passwd</span></span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br><span class="line">zhou:x:1000:1000::/home/zhou:/bin/bash</span><br><span class="line">wangqing:x:1001:1003:wu liang tian zun:/opt/123:/bin/csh</span><br><span class="line">openstack:x:1002:1005::/home/openstack:/bin/bash</span><br><span class="line">yue:x:1003:1006:hahahahahaha:/home/yue:/bin/bash</span><br></pre></td></tr></table></figure>

<p>-d 指定用户的家目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@MR home]<span class="comment"># cd /tmp</span></span><br><span class="line">[root@MR tmp]<span class="comment"># ls</span></span><br><span class="line">123  shadow</span><br><span class="line">[root@MR tmp]<span class="comment"># mkdir abc</span></span><br><span class="line">[root@MR tmp]<span class="comment"># useradd -d /tmp/abc yue</span></span><br><span class="line">useradd：警告：此主目录已经存在。</span><br><span class="line">不从 skel 目录里向其中复制任何文件。</span><br></pre></td></tr></table></figure>

<p>-s 指定shell，但这个shell必须在/etc/shells里面存在</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@MR tmp]<span class="comment"># useradd -s /sbin/nologin yue</span></span><br><span class="line">[root@MR tmp]<span class="comment"># tail -n5 /etc/passwd</span></span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br><span class="line">zhou:x:1000:1000::/home/zhou:/bin/bash</span><br><span class="line">wangqing:x:1001:1003:wu liang tian zun:/opt/123:/bin/csh</span><br><span class="line">openstack:x:1002:1005::/home/openstack:/bin/bash</span><br><span class="line">yue:x:1003:1006::/home/yue:/sbin/nologin</span><br></pre></td></tr></table></figure>

<p>-M 创建用户时不给其创建家目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@MR tmp]<span class="comment"># useradd -M yue</span></span><br><span class="line">[root@MR /]<span class="comment"># ls /home</span></span><br><span class="line">openstack  wangqing  zhou</span><br></pre></td></tr></table></figure>

<h6 id="用户删除命令userdel"><a href="#用户删除命令userdel" class="headerlink" title="用户删除命令userdel"></a>用户删除命令userdel</h6><p>-r 删除用户的同时删除其家目录（userdel默认不会删除其家目录）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@MR /]<span class="comment"># useradd yue</span></span><br><span class="line">[root@MR /]<span class="comment"># ls /home</span></span><br><span class="line">openstack  wangqing  yue  zhou</span><br><span class="line">[root@MR /]<span class="comment"># userdel -r yue</span></span><br><span class="line">[root@MR /]<span class="comment"># ls /home</span></span><br><span class="line">openstack  wangqing  zhou</span><br></pre></td></tr></table></figure>

<h6 id="查看用户账号的信息命令id"><a href="#查看用户账号的信息命令id" class="headerlink" title="查看用户账号的信息命令id"></a>查看用户账号的信息命令id</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@MR /]<span class="comment"># id zhou</span></span><br><span class="line">uid=1000(zhou) gid=1000(zhou) 组=1000(zhou),0(root)</span><br></pre></td></tr></table></figure>

<h6 id="修改用户账号属性的命令usermod"><a href="#修改用户账号属性的命令usermod" class="headerlink" title="修改用户账号属性的命令usermod"></a>修改用户账号属性的命令usermod</h6><p>-u 修改uid</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@MR /]<span class="comment"># id yue</span></span><br><span class="line">uid=1003(yue) gid=1006(yue) 组=1006(yue)</span><br><span class="line">[root@MR /]<span class="comment"># usermod -u 8888 yue</span></span><br><span class="line">[root@MR /]<span class="comment"># id yue</span></span><br><span class="line">uid=8888(yue) gid=1006(yue) 组=1006(yue)</span><br></pre></td></tr></table></figure>

<p>-g 修改gid</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@MR /]<span class="comment"># id yue</span></span><br><span class="line">uid=8888(yue) gid=1006(yue) 组=1006(yue)</span><br><span class="line">[root@MR /]<span class="comment"># groupadd -g 7777 hah</span></span><br><span class="line">[root@MR /]<span class="comment"># usermod -g 7777 yue</span></span><br><span class="line">[root@MR /]<span class="comment"># id yue</span></span><br><span class="line">uid=8888(yue) gid=7777(hah) 组=7777(hah)</span><br></pre></td></tr></table></figure>

<p>-a -G  不使用-a选项，会覆盖此前的附加组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@MR /]<span class="comment"># id yue</span></span><br><span class="line">uid=8888(yue) gid=7777(hah) 组=7777(hah)</span><br><span class="line">[root@MR /]<span class="comment"># usermod -a -G yue yue</span></span><br><span class="line">[root@MR /]<span class="comment"># id yue</span></span><br><span class="line">uid=8888(yue) gid=7777(hah) 组=7777(hah),1006(yue)</span><br></pre></td></tr></table></figure>

<p>-d -m  改变用户家目录的同时把原来家目录的文件移动到新的家目录中</p>
<blockquote>
<p>切记-d在-m后面</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@MR /]<span class="comment"># ls /home</span></span><br><span class="line">openstack  wangqing  yue  zhou</span><br><span class="line">[root@MR /]<span class="comment"># cd /home/yue</span></span><br><span class="line">[root@MR yue]<span class="comment"># touch 123</span></span><br><span class="line">[root@MR yue]<span class="comment"># ls</span></span><br><span class="line">123</span><br><span class="line">[root@MR yue]<span class="comment"># cd /tmp</span></span><br><span class="line">[root@MR tmp]<span class="comment"># ls</span></span><br><span class="line">abc  shadow</span><br><span class="line">[root@MR tmp]<span class="comment"># mkdir qqq</span></span><br><span class="line">[root@MR tmp]<span class="comment"># ls</span></span><br><span class="line">abc  qqq  shadow</span><br><span class="line">[root@MR tmp]<span class="comment"># usermod -md /tmp/qqq yue</span></span><br><span class="line">usermod：目录 /tmp/qqq 不存在</span><br><span class="line">[root@MR tmp]<span class="comment"># tail -n5 /etc/passwd</span></span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br><span class="line">zhou:x:1000:1000::/home/zhou:/bin/bash</span><br><span class="line">wangqing:x:1001:1003:wu liang tian zun:/opt/123:/bin/csh</span><br><span class="line">openstack:x:1002:1005::/home/openstack:/bin/bash</span><br><span class="line">yue:x:1003:1006::/tmp/qqq:/bin/bash</span><br></pre></td></tr></table></figure>

<h6 id="切换用户命令su"><a href="#切换用户命令su" class="headerlink" title="切换用户命令su"></a>切换用户命令su</h6><table>
<thead>
<tr>
<th>切换用户的方式</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>su USERNAME</td>
<td>非登录式切换，即不会读取目标用户的配置文件</td>
</tr>
<tr>
<td>su - USERNAME</td>
<td>登录式切换，即会读取目标用户的配置文件。完全切换</td>
</tr>
<tr>
<td>su -</td>
<td>不指定用户时默认切换至root用户</td>
</tr>
</tbody></table>
<blockquote>
<p>root su至其他用户不需要密码，非root用户su至其他用户时需要输入目标用户的密码 </p>
</blockquote>
<p>bash的配置文件:</p>
<table>
<thead>
<tr>
<th align="center">配置文件类型</th>
<th align="center">配置文件路径</th>
</tr>
</thead>
<tbody><tr>
<td align="center">全局配置</td>
<td align="center">/etc/profile /etc/profile.d/*.sh /etc/bashrc</td>
</tr>
<tr>
<td align="center">个人配置</td>
<td align="center">~/.bash_profile ～/.bashrc</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">配置文件类型</th>
<th align="center">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">profile类</td>
<td align="center">为交互式登录的shell提供配置，用来设定环境变量、运行命令或脚本</td>
</tr>
<tr>
<td align="center">bashrc类</td>
<td align="center">为非交互式登录的shell提供配置，用来设定本地变量、定义命令别名</td>
</tr>
</tbody></table>
<p>登录式shell如何读取配置文件</p>
<blockquote>
<p> /etc/profile –&gt; /etc/profile.d/*.sh –&gt; ~/.bash_profile –&gt; ~/.bashrc –&gt; /etc/bashrc</p>
</blockquote>
<p>非登录式shell如何读取配置文件</p>
<blockquote>
<p>~/.bashrc –&gt; /etc/bashrc –&gt; /etc/profile.d/*.sh</p>
</blockquote>
<h4 id="密码管理"><a href="#密码管理" class="headerlink" title="密码管理"></a>密码管理</h4><h6 id="密码管理命令passwd"><a href="#密码管理命令passwd" class="headerlink" title="密码管理命令passwd"></a>密码管理命令passwd</h6><p>–stdin 从标准输入获取用户密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@MR qqq]<span class="comment"># useradd yue</span></span><br><span class="line">[root@MR qqq]<span class="comment"># echo "123456" | passwd --stdin yue</span></span><br><span class="line">更改用户 yue 的密码 。</span><br><span class="line">passwd：所有的身份验证令牌已经成功更新。</span><br></pre></td></tr></table></figure>

<h6 id="改变用户密码过期信息命令chage"><a href="#改变用户密码过期信息命令chage" class="headerlink" title="改变用户密码过期信息命令chage"></a>改变用户密码过期信息命令chage</h6><p>-E 过期时间</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># chage -E 2019-05-31 yue</span></span><br><span class="line">[root@MR ~]<span class="comment"># tail -n5 /etc/shadow</span></span><br><span class="line">sshd:!!:17961::::::</span><br><span class="line">zhou:!!:17981:0:99999:7:::</span><br><span class="line">wangqing:!!:17981:0:99999:3::17986:</span><br><span class="line">openstack:!!:17981:0:99999:7:::</span><br><span class="line">yue:<span class="variable">$6</span><span class="variable">$BRQKiE3H</span><span class="variable">$Ns7arFcpyOipUDWQ9CzJJlxvodMKEDN9iGfSYxo1V0PsW7OF5DU7cFpdCAi8EbyPv7KoVl1</span>.PXnSUatlRU2jN/:17982:0:99999:7::18047:</span><br><span class="line"><span class="comment"># 此时间代表从1970年1月1日开始的多少天</span></span><br></pre></td></tr></table></figure>

<p>-w 警告时间</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认提前7天警告</span></span><br><span class="line">[root@MR ~]<span class="comment"># chage -W 3 yue</span></span><br><span class="line">[root@MR ~]<span class="comment"># tail -n5 /etc/shadow</span></span><br><span class="line">sshd:!!:17961::::::</span><br><span class="line">zhou:!!:17981:0:99999:7:::</span><br><span class="line">wangqing:!!:17981:0:99999:3::17986:</span><br><span class="line">openstack:!!:17981:0:99999:7:::</span><br><span class="line">yue:<span class="variable">$6</span><span class="variable">$BRQKiE3H</span><span class="variable">$Ns7arFcpyOipUDWQ9CzJJlxvodMKEDN9iGfSYxo1V0PsW7OF5DU7cFpdCAi8EbyPv7KoVl1</span>.PXnSUatlRU2jN/:17982:0:99999:3::18047:</span><br></pre></td></tr></table></figure>

<h6 id="密码生成工具openssl"><a href="#密码生成工具openssl" class="headerlink" title="密码生成工具openssl"></a>密码生成工具openssl</h6><p>version  查看程序版本号</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># openssl version</span></span><br><span class="line">OpenSSL 1.0.1e-fips 11 Feb 2013</span><br></pre></td></tr></table></figure>

<p> dgst   提取特征码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># openssl dgst -md5 /home/yue</span></span><br><span class="line">Read Error <span class="keyword">in</span> /home/yue</span><br><span class="line">139969262737312:error:0200B015:system library:fread:Is a directory:bss_file.c:24                                5:</span><br><span class="line">139969262737312:error:20082002:BIO routines:FILE_READ:system lib:bss_file.c:246:</span><br></pre></td></tr></table></figure>

<p> passwd   生成密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># openssl passwd -1 -salt hello</span></span><br><span class="line">Password:</span><br><span class="line"><span class="variable">$1</span><span class="variable">$hello</span><span class="variable">$bs8EXZ2u6YMHz8lF7E05u0</span></span><br></pre></td></tr></table></figure>

<p>  rand    生成伪随机数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># openssl rand -base64 30</span></span><br><span class="line">J7oxn34FkHcdxdTvmtsyf3VCUaZf/SU8I5jprwMS</span><br></pre></td></tr></table></figure>

<h4 id="组管理"><a href="#组管理" class="headerlink" title="组管理"></a>组管理</h4><h6 id="创建组命令groupadd"><a href="#创建组命令groupadd" class="headerlink" title="创建组命令groupadd"></a>创建组命令groupadd</h6><p>-g 指定GID</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># groupadd -g 6666 natasha</span></span><br><span class="line">[root@MR ~]<span class="comment"># tail -n5 /etc/group</span></span><br><span class="line">123:x:1004:</span><br><span class="line">openstack:x:1005:</span><br><span class="line">hah:x:7777:</span><br><span class="line">yue:x:7778:</span><br><span class="line">natasha:x:6666:</span><br></pre></td></tr></table></figure>

<h6 id="修改组命令groupmod"><a href="#修改组命令groupmod" class="headerlink" title="修改组命令groupmod"></a>修改组命令groupmod</h6><p>-g 修改gid</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># groupmod -g 4444 natasha</span></span><br><span class="line">[root@MR ~]<span class="comment"># tail -n5 /etc/group</span></span><br><span class="line">123:x:1004:</span><br><span class="line">openstack:x:1005:</span><br><span class="line">hah:x:7777:</span><br><span class="line">yue:x:7778:</span><br><span class="line">natasha:x:4444:</span><br></pre></td></tr></table></figure>

<p>-n 修改组名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># groupmod -n hahahaha natasha</span></span><br><span class="line">[root@MR ~]<span class="comment"># tail -n5 /etc/group</span></span><br><span class="line">123:x:1004:</span><br><span class="line">openstack:x:1005:</span><br><span class="line">hah:x:7777:</span><br><span class="line">yue:x:7778:</span><br><span class="line">hahahaha:x:4444:</span><br></pre></td></tr></table></figure>

<h6 id="删除组命令groupdel"><a href="#删除组命令groupdel" class="headerlink" title="删除组命令groupdel"></a>删除组命令groupdel</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># groupdel hahahaha</span></span><br><span class="line">[root@MR ~]<span class="comment"># tail -n5 /etc/group</span></span><br><span class="line">wangqing:x:1003:</span><br><span class="line">123:x:1004:</span><br><span class="line">openstack:x:1005:</span><br><span class="line">hah:x:7777:</span><br><span class="line">yue:x:7778:</span><br></pre></td></tr></table></figure>

<p>给组设定密码命令gpasswd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># gpasswd hahahaha</span></span><br><span class="line">正在修改 hahahaha 组的密码</span><br><span class="line">新密码：</span><br><span class="line">请重新输入新密码：</span><br></pre></td></tr></table></figure>

<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>1.创建用户wangqing，附加组为taoist和tianzun，默认shell为/bin/csh，注释信息为“wu liang tian zun” </p>
<p><strong>groupadd taoist</strong></p>
<p><strong>groupadd tianzun</strong></p>
<p><strong>useradd -G taoist,tianzun -c”wu liang tian zun” -s /bin/csh wangqing</strong></p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/7.linux--用户和组管理/" data-id="ck6akysgi00378wu6eqjh4u6d"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux基础/">linux基础</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-6.python--第四章" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/6.python--第四章/"
    >python第四章</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/6.python--第四章/" class="article-date">
  <time datetime="2019-08-29T15:44:18.554Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">print</span>(<span class="string">"👆以上是不完整的我"</span>) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>[TOC]</p>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gaolei</span><span class="params">(money)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>格式：</p>
<p>函数名(参数列表)</p>
<p>说明：</p>
<p>​    函数名：要使用某个功能函数的名字</p>
<p>​    ()：参数列表的开始和结束</p>
<p>​    参数列表：调用者给函数的信息(实参)</p>
<p>函数调用的本质：实参给形参赋值的过程</p>
<h2 id="最简单的函数"><a href="#最简单的函数" class="headerlink" title="最简单的函数"></a>最简单的函数</h2><p>1.编写函数，实现在控制台上打印hello world!的功能</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"hello world!"</span>)</span><br></pre></td></tr></table></figure>

<p>2.调用函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func()</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello world!</span><br></pre></td></tr></table></figure>

<h2 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h2><p>​        编写函数，给函数一个名字，一个年龄，一些爱好，在函数中进行打印</p>
<blockquote>
<p>natasha    18    pwoer、money、book</p>
</blockquote>
<p>​        实际参数(实参)：是值</p>
<blockquote>
<p>func(“natasha”, 18, [“power”, “money”, “book”])</p>
</blockquote>
<h2 id="函数的返回值"><a href="#函数的返回值" class="headerlink" title="函数的返回值"></a>函数的返回值</h2><p>​        编写函数，实现计算两个数的和</p>
<p>​        注意：在定义的函数体中，尽量不要常出现print和input</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    sum = x + y</span><br><span class="line">    <span class="keyword">return</span> sum <span class="comment">#将结果返回到调用函数的位置，返回的数据可以是任意类型的数据</span></span><br></pre></td></tr></table></figure>

<p>​        res接收了func函数运算后的返回值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res = func(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="传递参数"><a href="#传递参数" class="headerlink" title="传递参数"></a>传递参数</h1><ul>
<li>值传递：传递不可变类型数据</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(num)</span>:</span></span><br><span class="line">    print(id(num))</span><br><span class="line">    num = <span class="number">10</span></span><br><span class="line">    print(id(num))</span><br><span class="line">a = <span class="number">20</span></span><br><span class="line">print(id(a))</span><br><span class="line">func(a)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<ul>
<li>引用传递：传递可变类型数据</li>
</ul>
<p>本质还是值传递，传递的是地址</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span><span class="params">(arr)</span>:</span></span><br><span class="line">    print(id(arr))</span><br><span class="line">    arr.pop()</span><br><span class="line">    print(id(arr))</span><br><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">print(id(li))</span><br><span class="line">func2(li)</span><br><span class="line">print(id(li))</span><br><span class="line">print(li)</span><br></pre></td></tr></table></figure>

<h2 id="关键字参数"><a href="#关键字参数" class="headerlink" title="关键字参数"></a>关键字参数</h2><p>目前为止的要求：函数调用时参数的顺序要与定义时不一致</p>
<ul>
<li>关键字参数：允许函数调用时参数的顺序与定义时不一致</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(name, age)</span>:</span></span><br><span class="line">    print(<span class="string">"%s is a good man! he is %d years old!"</span>%(name, age))</span><br></pre></td></tr></table></figure>

<ul>
<li>使用关键字参数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func(age=<span class="number">18</span>, name=<span class="string">"natasha"</span>)</span><br></pre></td></tr></table></figure>

<h2 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h2><ul>
<li>使用默认参数</li>
<li>在定义函数时尽量将默认参数写在最后</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(name, age=<span class="number">18</span>)</span>:</span></span><br><span class="line">    print(<span class="string">"%s is a good man! he is %d years old!"</span>%(name, age))</span><br></pre></td></tr></table></figure>

<ul>
<li>在调用函数时，如果没有传递参数，就使用默认参数的值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func(<span class="string">"natasha"</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<h2 id="不定长参数"><a href="#不定长参数" class="headerlink" title="不定长参数"></a>不定长参数</h2><p>能处理比当初定义时更多的参数</p>
<ul>
<li><p>在变量前加了星号，变量会存放所有未命名的变量的参数，如果在函数调用时没有指定参数，他就是个空元组</p>
</li>
<li><p>不定长参数在默认参数后面</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(name, age, a = <span class="number">10</span>, *args)</span>:</span></span><br><span class="line">    print(<span class="string">"%s is a good man! he is %d years old"</span>%(name, age))</span><br><span class="line">    print(args, type(args))</span><br><span class="line"></span><br><span class="line">func(<span class="string">"natasha"</span>, <span class="number">18</span>)</span><br></pre></td></tr></table></figure>

<p><code>**</code>代表着键值对字典，和<code>*</code>差不多</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(name, age, **kwargs)</span>:</span></span><br><span class="line">    print(<span class="string">"%s is a good man! he is %d years old"</span>%(name, age))</span><br><span class="line">    print(kwargs, type(kwargs))</span><br><span class="line">    </span><br><span class="line">func(<span class="string">"natasha"</span>, <span class="number">18</span>, x=<span class="number">1</span>, y=<span class="number">2</span>, z=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">    print(args)</span><br><span class="line">    print(kwargs)</span><br><span class="line"></span><br><span class="line">func(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,x=<span class="number">1</span>,y=<span class="number">2</span>,z=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h1 id="多个返回值"><a href="#多个返回值" class="headerlink" title="多个返回值"></a>多个返回值</h1><ul>
<li>返回值可以一次性返回多个值</li>
<li>游戏中返回任务的坐标</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>,<span class="number">2</span></span><br><span class="line"></span><br><span class="line">x, y = func()</span><br><span class="line">z = func()</span><br><span class="line">print(x, y)</span><br><span class="line">print(z)</span><br></pre></td></tr></table></figure>

<h1 id="函数也是一种数据"><a href="#函数也是一种数据" class="headerlink" title="函数也是一种数据"></a>函数也是一种数据</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"></span><br><span class="line">ret = func(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">print(ret)</span><br><span class="line"></span><br><span class="line">f = func</span><br><span class="line">print(f(<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<h1 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h1><p>概念：不在使用def语句这样标准的形式定义函数，使用lambda来创建匿名函数</p>
<p>特定：</p>
<p>​    1、lambda只是一个表达式，函数体比def简单得多</p>
<p>​    2、lambda主体是一个表达式而不是代码块，仅能在lambda表达式中封装有限的逻辑</p>
<p>​    3、lambda函数拥有自己的命名空间，且不能访问自有参数序列之外或全局命名空间里的参数</p>
<p>​    4、虽然lambda函数看起来只能写一行，去不同于c和c++的内联函数，后者的目的是调用小函数时不占用栈内存而增加运行效率</p>
<p>格式:</p>
<p>​    lambda [arg1[, arg2[, arg3, ……]]]:expression</p>
<p>使用：作为参数传递，实现回调。简化代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="keyword">lambda</span> x, y: x + y</span><br><span class="line">ret = f(<span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">print(ret)</span><br></pre></td></tr></table></figure>

<h1 id="map-amp-reduce"><a href="#map-amp-reduce" class="headerlink" title="map&amp;reduce"></a>map&amp;reduce</h1><p>python 内建了map()和reduce()函数</p>
<ul>
<li><code>map(fn, lsd)</code></li>
</ul>
<p>参数：</p>
<p>​    <code>fn</code>：是一个函数</p>
<p>​    <code>lsd</code>：集合</p>
<p>功能：将传输的函数fn依次作用到lsd集合中的每个元素，并把结果作为新的Iterator返回</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chr2int</span><span class="params">(chr)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">"0"</span>: <span class="number">0</span>, <span class="string">"1"</span>: <span class="number">1</span>, <span class="string">"2"</span>: <span class="number">2</span>, <span class="string">"3"</span>: <span class="number">3</span>, <span class="string">"4"</span>: <span class="number">4</span>, <span class="string">"5"</span>: <span class="number">5</span>, <span class="string">"6"</span>: <span class="number">6</span>, <span class="string">"7"</span>: <span class="number">7</span>, <span class="string">"8"</span>: <span class="number">8</span>, <span class="string">"9"</span>: <span class="number">9</span>&#125;[chr]</span><br><span class="line">ret = map(chr2int, <span class="string">"13586"</span>)</span><br><span class="line">print(ret)</span><br><span class="line">print(list(ret))</span><br></pre></td></tr></table></figure>

<ul>
<li><code>reduce(fn, lsd)</code></li>
</ul>
<p>参数：</p>
<p>​    <code>fn</code>：函数</p>
<p>​    <code>lsd</code>：集合</p>
<p>功能：传入的fn函数作用在lsd集合中，这个fn函数必须接受两个参数，reduce把结果继续和序列的下一个元素作累计计算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reduce(f, [a, b, c, d])==f(f(f(a,b),c),d)</span><br></pre></td></tr></table></figure>

<ul>
<li>求一个序列的和</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">res = reduce(func, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>reduce配合map实现str2int</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">str2int</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">chrToint</span><span class="params">(chr)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">"0"</span>: <span class="number">0</span>, <span class="string">"1"</span>: <span class="number">1</span>, <span class="string">"2"</span>: <span class="number">2</span>, <span class="string">"3"</span>: <span class="number">3</span>, <span class="string">"4"</span>: <span class="number">4</span>, <span class="string">"5"</span>: <span class="number">5</span>, <span class="string">"6"</span>: <span class="number">6</span>, <span class="string">"7"</span>: <span class="number">7</span>, <span class="string">"8"</span>: <span class="number">8</span>, <span class="string">"9"</span>: <span class="number">9</span>&#125;[chr]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> x * <span class="number">10</span> + y</span><br><span class="line">    <span class="keyword">return</span> reduce(f, map(chrToint, s))</span><br><span class="line"></span><br><span class="line">res = str2int(<span class="string">"13543"</span>)</span><br><span class="line">print(res)</span><br><span class="line">print(type(res))</span><br></pre></td></tr></table></figure>

<h1 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h1><ul>
<li><code>filter(fn, lsd)</code></li>
</ul>
<p>参数：</p>
<p>​    <code>fn</code>：函数</p>
<p>​    <code>lsd</code>：集合</p>
<p>功能：用于过滤序列，把传入的fn函数依次作用在lsd集合中的每个元素上，然后根据返回值是True还是False决定是否保留该元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">li1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"><span class="comment"># 去掉列表中的所有偶数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#过滤的过程</span></span><br><span class="line"><span class="comment"># for i in li1:</span></span><br><span class="line"><span class="comment">#     if i % 2 == 0:</span></span><br><span class="line"><span class="comment">#         li1.remove(i)</span></span><br><span class="line"><span class="comment"># print(li1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#过滤的逻辑</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(num)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> num % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">res = filter(func, li1)</span><br><span class="line">print(li1)</span><br><span class="line">print(res)</span><br><span class="line">print(list(res))</span><br></pre></td></tr></table></figure>

<ul>
<li>找所有的素数</li>
</ul>
<p>需求：删除列表中是空字符串的元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">li2 = [<span class="string">"a"</span>, <span class="string">""</span>, <span class="string">""</span>, <span class="string">"c"</span>, <span class="string">"    "</span>, <span class="string">"  bsg  "</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(item)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> item <span class="keyword">and</span> item.strip()</span><br><span class="line">res = filter(f, li2)</span><br><span class="line">print(list(res))</span><br></pre></td></tr></table></figure>

<h1 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h1><p>排序算符：冒泡排序、快速排序、      选择排序、计数器排序……</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">li = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对列表进行排序</span></span><br><span class="line">li1 = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>]</span><br><span class="line">li2 = sorted(li1)</span><br><span class="line">print(li2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按绝对值大小排序</span></span><br><span class="line">li3 = [<span class="number">3</span>,<span class="number">-4</span>,<span class="number">1</span>,<span class="number">-2</span>,<span class="number">5</span>]</span><br><span class="line"><span class="comment"># key接收函数来实现自定义的排序</span></span><br><span class="line">li4 = sorted(li3, key=abs)</span><br><span class="line">print(li4)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#降序排序</span></span><br><span class="line">li5 = [<span class="number">3</span>,<span class="number">-4</span>,<span class="number">1</span>,<span class="number">-2</span>,<span class="number">5</span>]</span><br><span class="line">li6 = sorted(li5, reverse=<span class="literal">True</span>)</span><br><span class="line">print(li6)</span><br></pre></td></tr></table></figure>

<ul>
<li>字符串大小问题</li>
</ul>
<p>原理：获取两个字符的第一个字符进行比较，谁的ASCII值大那么谁就大，如果相同则获取下一位字符比较</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print("abc"&gt;"ab")</span></span><br><span class="line">li7 = [<span class="string">"abc"</span>, <span class="string">"awg"</span>, <span class="string">"agaerger"</span>, <span class="string">"eherth"</span>]</span><br><span class="line"><span class="comment">#自定义排序逻辑</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> len(x)</span><br><span class="line">li8 = sorted(li7, key=func)</span><br><span class="line">print(li8)</span><br></pre></td></tr></table></figure>

<h1 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h1><p>作用域：变量可以使用的范围，程序的变量并不是在哪个位置都可以访问的，访问的权限决定于这个变量实在哪里赋值的。</p>
<p>作用域的划分：</p>
<p>​    1、局部作用域(L)</p>
<p>​    2、闭包函数外到函数中(E)</p>
<p>​    3、全局作用域(G)</p>
<p>​    4、内建作用域(B)</p>
<p>变量查找规则：</p>
<p>​    L-&gt;E-&gt;G-&gt;B，首先在自身作用域中查找，找不到的话依次向上级作用中查找，注意不会向低级作用域中查找</p>
<p>Python中只有模块，类以及函数才会引入新的作用域，其它的代码块(比如if、elif、else、for、while、try、except等)是不会引入新的作用域的。</p>
<h2 id="体现作用域"><a href="#体现作用域" class="headerlink" title="体现作用域"></a>体现作用域</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">5</span></span><br><span class="line"><span class="comment">#if不会引入新的作用域</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">1</span>:</span><br><span class="line">    index = <span class="number">10</span></span><br><span class="line">    print(<span class="string">"num = %d"</span>%num)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"index = %d"</span>%index)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="comment"># 取值的使用</span></span><br><span class="line">    print(<span class="string">"在func中使用num：%d"</span>%num)</span><br><span class="line">    <span class="comment"># 定义局部变量</span></span><br><span class="line">    tmp = <span class="number">100</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">print(func(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"><span class="comment">#在全局中使用局部变量，找不到的</span></span><br><span class="line"><span class="comment"># print("tmp = %d"%tmp)</span></span><br></pre></td></tr></table></figure>

<h1 id="修改变量"><a href="#修改变量" class="headerlink" title="修改变量"></a>修改变量</h1><h2 id="修改全局变量"><a href="#修改全局变量" class="headerlink" title="修改全局变量"></a>修改全局变量</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">10</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 在函数的内部可以直接获取全局变量的值，但是不能直接修改全局变量的值。直接修改相当于定义一个新的局部变量，没有修改到全局变量本身</span></span><br><span class="line">    <span class="comment"># 需要将定义的变量声明成全局变量</span></span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    num = <span class="number">2</span></span><br><span class="line">    print(<span class="string">"1-----num = %d"</span> % num)</span><br><span class="line"></span><br><span class="line">func()</span><br><span class="line">print(<span class="string">"2-----num = %d"</span> % num)</span><br></pre></td></tr></table></figure>

<h2 id="修改嵌套作用域中的变量"><a href="#修改嵌套作用域中的变量" class="headerlink" title="修改嵌套作用域中的变量"></a>修改嵌套作用域中的变量</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">30</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 有global会在nonlocal那里报错，申明为全局的后就没有嵌套的了</span></span><br><span class="line">    <span class="comment"># global a</span></span><br><span class="line">    <span class="comment"># a = 10</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="comment">#想修改嵌套作用域中的变量，需要将它声明</span></span><br><span class="line">        <span class="comment"># nonlocal a</span></span><br><span class="line">        <span class="comment"># a = 20</span></span><br><span class="line">        print(<span class="string">"1----a = %d"</span>%a)</span><br><span class="line">    f()</span><br><span class="line">    print(<span class="string">"2----a = %d"</span>%a)</span><br><span class="line"></span><br><span class="line">func()</span><br><span class="line">print(<span class="string">"3----a = %d"</span>%a)</span><br></pre></td></tr></table></figure>

<h1 id="变量的作用域链"><a href="#变量的作用域链" class="headerlink" title="变量的作用域链"></a>变量的作用域链</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span><span class="params">()</span>:</span></span><br><span class="line">    b = <span class="number">20</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func2</span><span class="params">()</span>:</span></span><br><span class="line">        c = <span class="number">30</span></span><br><span class="line">        <span class="keyword">return</span> a + b + c</span><br><span class="line">    <span class="keyword">return</span> func2()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(func1())</span><br></pre></td></tr></table></figure>

<h1 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h1><p>概念：在函数体重定义内部函数，并且使用了外部函数的变量，然后把内部函数给，那么这个内部函数就是闭包</p>
<p>优点：避免污染全局环境，这样就可以在函数体外使用函数体中定义的变量</p>
<p>缺点：数据长期驻留在内存中，造成内存极大的浪费。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span><span class="params">()</span>:</span></span><br><span class="line">    b = <span class="number">20</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func2</span><span class="params">()</span>:</span></span><br><span class="line">        c = <span class="number">30</span></span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    <span class="keyword">return</span> func2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f2 = func1()</span><br><span class="line">print(f2())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func3</span><span class="params">()</span>:</span></span><br><span class="line">    b = <span class="number">40</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func4</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> b</span><br><span class="line">    <span class="keyword">return</span> func4</span><br></pre></td></tr></table></figure>

<h1 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h1><h2 id="装饰器概念"><a href="#装饰器概念" class="headerlink" title="装饰器概念"></a>装饰器概念</h2><p>是一个闭包，把一个函数作为参数然后返回一个替代版函数，本质上就是一个返回函数的函数</p>
<ul>
<li>在不修改原函数的前提下增加函数的功能，最好的方式是使用装饰器</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"hello,world!"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"***********"</span>)</span><br><span class="line">    func()</span><br></pre></td></tr></table></figure>

<h2 id="简单的装饰器"><a href="#简单的装饰器" class="headerlink" title="简单的装饰器"></a>简单的装饰器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"hello,world!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(f)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">"***********"</span>)</span><br><span class="line">        f()</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">d = wrapper(func)</span><br><span class="line">d()</span><br><span class="line">func = wrapper(func)</span><br><span class="line">func()</span><br></pre></td></tr></table></figure>

<h2 id="复杂的装饰器"><a href="#复杂的装饰器" class="headerlink" title="复杂的装饰器"></a>复杂的装饰器</h2><ul>
<li>下不修改say原函数代码的情况下增加say的功能，判断age是否符合常理</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">say</span><span class="params">(name, age)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"%s is a good man! he is %d years old"</span>%(name, age)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(f)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(name, age)</span>:</span></span><br><span class="line">        <span class="comment">#增加功能</span></span><br><span class="line">        <span class="keyword">if</span> age &lt;= <span class="number">0</span>:</span><br><span class="line">            age = <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> f(name, age)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">say = wrapper(say)</span><br><span class="line"></span><br><span class="line">print(say(<span class="string">"natasha"</span>, <span class="number">18</span>))</span><br></pre></td></tr></table></figure>

<h2 id="使用-符号装饰"><a href="#使用-符号装饰" class="headerlink" title="使用@符号装饰"></a>使用@符号装饰</h2><blockquote>
<p> python2.4支持使用@将装饰器应用在函数上，只需要再函数定义前加上@装饰器的名称即可</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(f)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(name, age)</span>:</span></span><br><span class="line">        <span class="comment">#增加功能</span></span><br><span class="line">        <span class="keyword">if</span> age &lt;= <span class="number">0</span>:</span><br><span class="line">            age = <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> f(name, age)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">say</span><span class="params">(name, age)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"%s is a good man! he is %d years old"</span>%(name, age)</span><br></pre></td></tr></table></figure>

<ul>
<li>相当于  say = wrapper(say)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(say(<span class="string">"natasha"</span>, <span class="number">-18</span>))</span><br></pre></td></tr></table></figure>

<h2 id="通用装饰器"><a href="#通用装饰器" class="headerlink" title="通用装饰器"></a>通用装饰器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(f)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        <span class="comment">#在这增加功能</span></span><br><span class="line">        print(<span class="string">"no zuo no die"</span>)</span><br><span class="line">        res = f(*args, **kwargs)</span><br><span class="line">        <span class="comment">#如果要修改原函数的返回值，在这修改</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(name, age)</span>:</span></span><br><span class="line">    print(name, age)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"natasha is a good man"</span></span><br><span class="line"></span><br><span class="line">print(func(<span class="string">"mary"</span>, <span class="number">17</span>))</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span><span class="params">(height)</span>:</span></span><br><span class="line">    print(height)</span><br><span class="line">    print(<span class="string">"**********"</span>)</span><br><span class="line">func2(<span class="number">111</span>)</span><br></pre></td></tr></table></figure>

<h2 id="参数的装饰器"><a href="#参数的装饰器" class="headerlink" title="参数的装饰器"></a>参数的装饰器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(count=<span class="number">3</span>)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deco</span><span class="params">(f)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(count):</span><br><span class="line">                f(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="keyword">return</span> deco</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrapper()</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"natasha is a good man"</span>)</span><br><span class="line"></span><br><span class="line">func()</span><br></pre></td></tr></table></figure>

<h2 id="计算程序运行时间"><a href="#计算程序运行时间" class="headerlink" title="计算程序运行时间"></a>计算程序运行时间</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timer</span><span class="params">(f)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        time1 = time.time()</span><br><span class="line">        res = f()</span><br><span class="line">        time2 = time.time()</span><br><span class="line">        print(<span class="string">"程序运行:%f"</span>%(time2-time1))</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@timer</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"natasha is a good man"</span>)</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">"natasha is a good man"</span>)</span><br><span class="line"></span><br><span class="line">func()</span><br></pre></td></tr></table></figure>

<h2 id="多个装饰器"><a href="#多个装饰器" class="headerlink" title="多个装饰器"></a>多个装饰器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper1</span><span class="params">(f)</span>:</span></span><br><span class="line">    print(<span class="string">"enter wrapper1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner1</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">"enter inner1"</span>)</span><br><span class="line">        res = f(*args, **kwargs)</span><br><span class="line">        print(<span class="string">"exit inner1"</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    print(<span class="string">"exit wrapper1"</span>)</span><br><span class="line">    <span class="keyword">return</span> inner1</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper2</span><span class="params">(f)</span>:</span></span><br><span class="line">    print(<span class="string">"enter wrapper2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner2</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">"enter inner2"</span>)</span><br><span class="line">        res = f(*args, **kwargs)</span><br><span class="line">        print(<span class="string">"exit inner2"</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    print(<span class="string">"exit wrapper2"</span>)</span><br><span class="line">    <span class="keyword">return</span> inner2</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper3</span><span class="params">(f)</span>:</span></span><br><span class="line">    print(<span class="string">"enter wrapper3"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner3</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">"enter inner3"</span>)</span><br><span class="line">        res = f(*args, **kwargs)</span><br><span class="line">        print(<span class="string">"exit inner3"</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    print(<span class="string">"exit wrapper3"</span>)</span><br><span class="line">    <span class="keyword">return</span> inner3</span><br></pre></td></tr></table></figure>

<p>装饰时：从距离近的装饰器开始装饰</p>
<p>执行时：从距离远的装饰器内部函数开始执行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@wrapper1</span></span><br><span class="line"><span class="meta">@wrapper2</span></span><br><span class="line"><span class="meta">@wrapper3</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"></span><br><span class="line">print(<span class="string">"----------------"</span>)</span><br><span class="line">func(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">inner3 = wrapper3(func)</span><br><span class="line">inner2 = wrapper2(inner3)</span><br><span class="line">inner1 = wrapper1(inner2)</span><br><span class="line">func = inner1</span><br></pre></td></tr></table></figure>

<h2 id="装饰器使用的场景"><a href="#装饰器使用的场景" class="headerlink" title="装饰器使用的场景"></a>装饰器使用的场景</h2><p>1、参数、结果检查</p>
<p>2、缓存</p>
<p>3、计数</p>
<p>4、日志</p>
<p>5、统计</p>
<p>6、权限管理</p>
<p>7、重试</p>
<h2 id="计数函数执行次数"><a href="#计数函数执行次数" class="headerlink" title="计数函数执行次数"></a>计数函数执行次数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">(f)</span>:</span></span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        <span class="keyword">nonlocal</span> index</span><br><span class="line">        index += <span class="number">1</span></span><br><span class="line">        res = f(*args, **kwargs)</span><br><span class="line">        print(<span class="string">"第%d次执行"</span>%index)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@count</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"natasha is a good man"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@count</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"natasha is a nice man"</span>)</span><br><span class="line"></span><br><span class="line">func()</span><br><span class="line">func()</span><br><span class="line">func1()</span><br><span class="line">func()</span><br><span class="line">func1()</span><br></pre></td></tr></table></figure>

<h2 id="retry装饰器"><a href="#retry装饰器" class="headerlink" title="retry装饰器"></a>retry装饰器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">retry</span><span class="params">(count=<span class="number">3</span>, wait=<span class="number">0</span>,exceptions=<span class="params">(Exception,)</span>)</span>:</span></span><br><span class="line">    <span class="keyword">import</span> time</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(f)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(count):</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    print(<span class="string">"-------------------"</span>)</span><br><span class="line">                    res = f(*args, **kwargs)</span><br><span class="line">                <span class="keyword">except</span> exceptions <span class="keyword">as</span> e:</span><br><span class="line">                    time.sleep(wait)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">return</span> res</span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="meta">@retry(5)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connetSQL</span><span class="params">(ip, port, dbName, passwd)</span>:</span></span><br><span class="line">    num = random.choice([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">    print(<span class="string">"**************"</span>, num)</span><br><span class="line">    <span class="keyword">if</span> num &lt;= <span class="number">4</span>:</span><br><span class="line">        <span class="number">10</span> / <span class="number">0</span></span><br><span class="line"></span><br><span class="line">connetSQL(<span class="string">""</span>, <span class="string">""</span>, <span class="string">""</span>, <span class="string">""</span>)</span><br></pre></td></tr></table></figure>


      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/6.python--第四章/" data-id="ck6akysfb00288wu6roejxwcs"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-6.linux--yum工具的使用" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/6.linux--yum工具的使用/"
    >yum工具的使用</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/6.linux--yum工具的使用/" class="article-date">
  <time datetime="2019-08-29T15:44:18.552Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux基础/">linux基础</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; print(&quot;👆以上是不完整的我&quot;) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>[toc]</p>
<h2 id="rpm的弊端"><a href="#rpm的弊端" class="headerlink" title="rpm的弊端"></a>rpm的弊端</h2><p>rpm弊端是显而易见的，当用rpm安装软件时，若遇到有依赖关系的软件，必须先安装依赖的软件才能继续安装我们要安装的软件，当依赖关系很复杂的情况下，这种安装方式就很气人，所以我们需要另一种安装方式来解决这个问题——-yum工具的使用</p>
<h2 id="yum的优劣势"><a href="#yum的优劣势" class="headerlink" title="yum的优劣势"></a>yum的优劣势</h2><ul>
<li>yum最大的优势就是能够解决rpm的依赖问题，yum能够自动解决软件安装时的依赖关系。</li>
<li>yum的缺陷就是如果在未完成安装的情况下强行中止安装过程，下次再安装时将无法解决依赖关系，</li>
</ul>
<h2 id="什么是yum及其作用"><a href="#什么是yum及其作用" class="headerlink" title="什么是yum及其作用"></a>什么是yum及其作用</h2><p>yum是yellowdog update manager的简称，它能够实现rpm管理的所有操作，并能够自动解决各rpm包之间的依赖关系。yum是rpm的前端工具，是基于rpm来实现软件的管理的一个工具。</p>
<ul>
<li><p>挂载光盘</p>
</li>
<li><p>插入光盘</p>
</li>
<li><p>执行挂载命令</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># mkdir /mnt/cdrom</span></span><br><span class="line">[root@zhoulijie ~]<span class="comment"># mount /dev/cdrom /mnt/cdrom/</span></span><br><span class="line">mount: /dev/sr0 写保护，将以只读方式挂载</span><br><span class="line">[root@zhoulijie ~]<span class="comment"># ls /mnt/cdrom/</span></span><br><span class="line">addons            GPL       media.repo               RPM-GPG-KEY-redhat-release</span><br><span class="line">EFI               images    Packages                 TRANS.TBL</span><br><span class="line">EULA              isolinux  repodata</span><br><span class="line">extra_files.json  LiveOS    RPM-GPG-KEY-redhat-beta</span><br></pre></td></tr></table></figure>

<h2 id="yum的原理"><a href="#yum的原理" class="headerlink" title="yum的原理"></a>yum的原理</h2><p><img src="https://s2.ax1x.com/2019/04/27/EM9y59.png" alt></p>
<p>yum的工作需要两部分来合作，一部分是yum服务器，另一部分就是client的yum工具。下面分别介绍两部分工作原理。</p>
<h6 id="yum服务器端工作原理"><a href="#yum服务器端工作原理" class="headerlink" title="yum服务器端工作原理"></a>yum服务器端工作原理</h6><p>所有要发行的rpm包都放在yum服务器上以提供别人来下载，rpm包根据kernel的版本号，cpu的版本号分别编译发布。yum服务器只要提供简单的下载就可以了，ftp或者http的形式都可以。yum服务器有一个最重要的环节就是整理出每个rpm包的基本信息，包括rpm包对应的版本号、conf文件、binary信息，以及很关键的依赖信息。在yum服务器上提供了createrepo工具，用于把rpm包的基本概要信息做成一张“清单”，这张“清单”就是描述每个rpm包的spec文件中信息。</p>
<h5 id="client端工作原理"><a href="#client端工作原理" class="headerlink" title="client端工作原理"></a>client端工作原理</h5><p>client每次调用yum install或者search的时候，都会去解析/etc/yum.repos.d下面所有以.repo结尾的配置文件，这些配置文件指定了yum服务器的地址。yum会定期去更新yum服务器上的rpm包清单，然后把清单下载保存到yum客户端自己的cache里面，根据/etc/yum.conf里配置（默认是/var/cache/yum下面），每次调用yum装包的时候都会去这个cache目录下去找清单，根据清单里的rpm包描述从而来确定安装包的名字、版本号、所需要的依赖包等，然后再去yum服务器下载rpm安装。（前提是不存在rpm包的cache）</p>
<h2 id="yum的元数据"><a href="#yum的元数据" class="headerlink" title="yum的元数据"></a>yum的元数据</h2><h4 id="yum的配置文件"><a href="#yum的配置文件" class="headerlink" title="yum的配置文件"></a>yum的配置文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[bendiyum]      //仓库名称</span><br><span class="line">name=bendiyum    //描写信息</span><br><span class="line">baseurl=file:///mnt/cdrom     //仓库具体路径，可填以下三种</span><br><span class="line">							ftp://</span><br><span class="line">							http://</span><br><span class="line">							file:///</span><br><span class="line">enabled=1      //可选1或者0，1为启用此仓库，0为禁用此仓库</span><br><span class="line">gpgcheck=0     //可选1或者0，1为检查软件和发性，0为不检查来源</span><br><span class="line">			若gpgcheck=1，则必须用gpgkey定义密钥文件的具体路径</span><br><span class="line"> gpgkey=</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># vim /etc/yum.conf</span></span><br><span class="line">[main]  </span><br><span class="line">cachedir=/var/cache/yum/<span class="variable">$basearch</span>/<span class="variable">$releasever</span>     //缓存目录</span><br><span class="line">keepcache=0         //缓存软件包, 1启动 0 关闭</span><br><span class="line">debuglevel=2        //调试级别</span><br><span class="line">logfile=/var/<span class="built_in">log</span>/yum.log       //日志记录位置</span><br><span class="line">exactarch=1          //检查平台是否兼容</span><br><span class="line">obsoletes=1         //检查包是否废弃</span><br><span class="line">gpgcheck=1         //检查来源是否合法,需要有制作者的公钥信息</span><br><span class="line">plugins=1           //是否启用插件</span><br><span class="line">installonly_limit=3</span><br><span class="line"></span><br><span class="line">This is the default, <span class="keyword">if</span> you make this bigger yum won<span class="string">'t see if the metadata</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">is newer on the remote and so you'</span>ll <span class="string">"gain"</span> the bandwidth of not having to</span><br><span class="line"></span><br><span class="line">download the new metadata and <span class="string">"pay"</span> <span class="keyword">for</span> it by yum not having correct</span><br><span class="line"></span><br><span class="line">information.</span><br><span class="line"></span><br><span class="line">It is esp. important, to have correct metadata, <span class="keyword">for</span> distributions like</span><br><span class="line"></span><br><span class="line">Fedora <span class="built_in">which</span> don<span class="string">'t keep old packages around. If you don'</span>t like this checking</span><br><span class="line"></span><br><span class="line">interupting your <span class="built_in">command</span> line usage, it<span class="string">'s much better to have something</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">manually check the metadata once an hour (yum-updatesd will do this).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">metadata_expire=90m         //每小时手动检查元数据</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">PUT YOUR REPOS HERE OR IN separate files named file.repo</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">in /etc/yum.repos.d         //包含repos.d目录</span></span><br></pre></td></tr></table></figure>

<h2 id="yum仓库管理"><a href="#yum仓库管理" class="headerlink" title="yum仓库管理"></a>yum仓库管理</h2><h4 id="yum本地仓库"><a href="#yum本地仓库" class="headerlink" title="yum本地仓库"></a>yum本地仓库</h4><ul>
<li>备份挂载目录</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># mkdir /opt/myrepo</span></span><br><span class="line">[root@zhoulijie ~]<span class="comment"># cp -r /mnt/cdrom /opt/myrepo/</span></span><br><span class="line">[root@zhoulijie ~]<span class="comment"># ls /opt/myrepo/</span></span><br><span class="line">[root@zhoulijie ~]<span class="comment"># ls /opt/myrepo/cdrom</span></span><br><span class="line">addons            GPL       media.repo               RPM-GPG-KEY-redhat-release</span><br><span class="line">EFI               images    Packages                 TRANS.TBL</span><br><span class="line">EULA              isolinux  repodata</span><br><span class="line">extra_files.json  LiveOS    RPM-GPG-KEY-redhat-beta</span><br></pre></td></tr></table></figure>

<ul>
<li>配置repo文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># cd /etc/yum.repos.d/</span></span><br><span class="line">[root@zhoulijie yum.repos.d]<span class="comment"># vim bendiyum.repo</span></span><br><span class="line">[root@zhoulijie yum.repos.d]<span class="comment"># cat bendiyum.repo</span></span><br><span class="line">[bendiyum]</span><br><span class="line">name=bendiyum</span><br><span class="line">baseurl=file:////opt/myrepo/cdrom</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure>

<ul>
<li>清空yum本地缓存</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie yum.repos.d]<span class="comment"># yum clean all</span></span><br><span class="line">已加载插件：langpacks, product-id, search-disabled-repos, subscription-manager</span><br><span class="line">This system is not registered with an entitlement server. You can use subscription-manager to register.</span><br><span class="line">正在清理软件源： bendiyum</span><br><span class="line">Cleaning up everything</span><br><span class="line">Maybe you want: rm -rf /var/cache/yum, to also free up space taken by orphaned data from disabled or removed repos</span><br></pre></td></tr></table></figure>

<ul>
<li>检验yum本地仓库</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie yum.repos.d]<span class="comment"># yum list | wc -l</span></span><br><span class="line">5096</span><br></pre></td></tr></table></figure>

<h4 id="yum网络仓库"><a href="#yum网络仓库" class="headerlink" title="yum网络仓库"></a>yum网络仓库</h4><ul>
<li>官方网络yum仓库（国外）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://mirrors.aliyun.com/repo/Centos-7.repo</span><br></pre></td></tr></table></figure>

<ul>
<li>阿里云yum仓库</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://mirrors.aliyun.com/repo/Centos-5.repo</span><br></pre></td></tr></table></figure>

<ul>
<li>163yum仓库</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://mirrors.163.com/.<span class="built_in">help</span>/CentOS6-Base-163.repo</span><br></pre></td></tr></table></figure>

<ul>
<li>xx大学yum仓库</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://mirror.tuna.tsinghua.edu.cn/<span class="built_in">help</span>/centos/</span><br></pre></td></tr></table></figure>

<ul>
<li>epel源</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//国外</span><br><span class="line">yum -y install epel-release</span><br><span class="line"></span><br><span class="line">//阿里</span><br><span class="line">wget http://mirrors.aliyun.com/repo/epel-7.repo</span><br></pre></td></tr></table></figure>

<h6 id="软件官方仓库"><a href="#软件官方仓库" class="headerlink" title="软件官方仓库"></a>软件官方仓库</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 源查找方式基本一致,zabbix,mysql,saltstack,openstack等等，上官网找</span><br><span class="line">[root@localhost ~]<span class="comment"># vim /etc/yum.repos.d/nginx.repo</span></span><br><span class="line">[nginx]</span><br><span class="line">name=nginx repo </span><br><span class="line">baseurl=http://nginx.org/packages/centos/7/<span class="variable">$basearch</span>/ </span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure>

<p>redhat7使用centos7的yum源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">1.卸载红帽yum源</span><br><span class="line">[root@localhost ~]<span class="comment"># rpm -e $(rpm -qa|grep yum) --nodeps</span></span><br><span class="line"></span><br><span class="line">2.删除所有repo相关文件</span><br><span class="line">[root@localhost ~]<span class="comment"># rm -f /etc/yum.conf</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rm -rf /etc/yum.repos.d/</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rm -rf /var/cache/yum</span></span><br><span class="line"></span><br><span class="line">3.下载centos相关yum组件</span><br><span class="line">[root@localhost ~]<span class="comment"># wget https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-3.4.3-154.el7.centos.noarch.rpm</span></span><br><span class="line">[root@localhost ~]<span class="comment"># wget https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-metadata-parser-1.1.4-10.el7.x86_64.rpm</span></span><br><span class="line">[root@localhost ~]<span class="comment"># wget https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.31-42.el7.noarch.rpm</span></span><br><span class="line">[root@localhost ~]<span class="comment"># wget https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-updateonboot-1.1.31-42.el7.noarch.rpm</span></span><br><span class="line">[root@localhost ~]<span class="comment"># wget https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-utils-1.1.31-42.el7.noarch.rpm</span></span><br><span class="line"></span><br><span class="line">//如果没有wget命令则使用curl命令</span><br><span class="line">[root@localhost ~]<span class="comment"># curl -o yum-utils-1.1.31-42.el7.noarch.rpm  https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-utils-1.1.31-42.el7.noarch.rpm</span></span><br><span class="line">[root@localhost ~]<span class="comment"># curl -o yum-3.4.3-154.el7.centos.noarch.rpm  https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-3.4.3-154.el7.centos.noarch.rpm</span></span><br><span class="line">[root@localhost ~]<span class="comment"># curl -o yum-metadata-parser-1.1.4-10.el7.x86_64.rpm  https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-metadata-parser-1.1.4-10.el7.x86_64.rpm</span></span><br><span class="line">[root@localhost ~]<span class="comment"># curl -o yum-plugin-fastestmirror-1.1.31-42.el7.noarch.rpm   https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.31-42.el7.noarch.rpm</span></span><br><span class="line">[root@localhost ~]<span class="comment"># curl -o yum-updateonboot-1.1.31-42.el7.noarch.rpm https://mirrors.aliyun.com/centos/7/os/x86_64/Packages/yum-updateonboot-1.1.31-42.el7.noarch.rpm</span></span><br><span class="line"></span><br><span class="line">3.安装所有相关组件</span><br><span class="line">[root@localhost ~]<span class="comment"># rpm -ivh yum-* --nodeps</span></span><br><span class="line"></span><br><span class="line">4.下载base和epel仓库</span><br><span class="line">[root@localhost ~]<span class="comment"># wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span></span><br><span class="line">[root@localhost ~]<span class="comment"># sed -i 's#\$releasever#7#g' /etc/yum.repos.d/CentOS-Base.repo</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span></span><br></pre></td></tr></table></figure>

<h2 id="yum管理软件"><a href="#yum管理软件" class="headerlink" title="yum管理软件"></a>yum管理软件</h2><h4 id="yum命令语法："><a href="#yum命令语法：" class="headerlink" title="yum命令语法："></a>yum命令语法：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum [options] [<span class="built_in">command</span>] [package ...]</span><br></pre></td></tr></table></figure>

<h6 id="常用的选项"><a href="#常用的选项" class="headerlink" title="常用的选项"></a>常用的选项</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">--nogpgcheck                //如果从网上下载包有时会检查gpgkey，此时可以使用此命令跳过gpgkey的检查</span><br><span class="line">-y                          //自动回答为<span class="string">"yes"</span></span><br><span class="line">-q                          //静默模式，安装时不输出信息至标准输出</span><br><span class="line">--disablerepo=repoidglob    //临时禁用此处指定的repo</span><br><span class="line">--enablerepo=repoidglob     //临时启用此处指定的repo</span><br><span class="line">--noplugins                 //禁用所有插件</span><br><span class="line">```bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###### 常用的命令</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">list            //列表</span><br><span class="line">    all         //默认项</span><br><span class="line">    available   //列出仓库中有的，但尚未安装的所有可用的包</span><br><span class="line">    installed   //列出已经安装的包</span><br><span class="line">    updates     //可用的升级</span><br><span class="line">    </span><br><span class="line">clean           //清理缓存</span><br><span class="line">    packages</span><br><span class="line">    headers</span><br><span class="line">    metadata</span><br><span class="line">    dbcache</span><br><span class="line">    all</span><br><span class="line">    </span><br><span class="line">repolist        //显示repo列表及其简要信息</span><br><span class="line">    all</span><br><span class="line">    enabled     //默认项</span><br><span class="line">    disabled</span><br><span class="line">    </span><br><span class="line">install         //安装</span><br><span class="line">    yum install packages [...]</span><br><span class="line">    </span><br><span class="line">update          //升级</span><br><span class="line">    yum update packages [...]</span><br><span class="line">update_to       //升级为指定版本</span><br><span class="line"></span><br><span class="line">downgrade package1 [package2 ...]   //降级</span><br><span class="line"></span><br><span class="line">remove|erase    //卸载</span><br><span class="line"></span><br><span class="line">info    //显示rpm -qi package的结果</span><br><span class="line">    yum info packages</span><br><span class="line">    </span><br><span class="line">provides|whatprovides   //查看指定的文件或特性是由哪个包安装生成的</span><br><span class="line"></span><br><span class="line">search string1 [string2 ...]    //以指定的关键字搜索程序包名及summary信息</span><br><span class="line"></span><br><span class="line">deplist package [package2 ...]  //显示指定包的依赖关系</span><br><span class="line"></span><br><span class="line"><span class="built_in">history</span>     //查看yum的历史事务信息</span><br><span class="line"></span><br><span class="line">localinstall    //安装本地rpm包，自动解决依赖关系</span><br><span class="line"></span><br><span class="line">grouplist       //列出可用的组</span><br><span class="line"></span><br><span class="line">groupinstall <span class="string">"group name"</span>   //安装一组软件</span><br><span class="line">        </span><br><span class="line">createrepo命令    //创建yum仓库的元数据信息</span><br><span class="line">[root@localhost ~]<span class="comment"># yum install createrepo -y</span></span><br><span class="line">[root@localhost ~]<span class="comment"># createrepo [options] &lt;directory&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#### 具体实例</span></span><br><span class="line"><span class="comment">###### 搜索软件包</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">//列出软件仓库中可用的软件</span><br><span class="line">[root@localhost ~]<span class="comment"># yum list all</span></span><br><span class="line"></span><br><span class="line">//进行模糊查找</span><br><span class="line">[root@localhost ~]<span class="comment"># yum list | grep ftp</span></span><br><span class="line"></span><br><span class="line">//列出软件包详情</span><br><span class="line">[root@localhost ~]<span class="comment"># yum info ftp</span></span><br></pre></td></tr></table></figure>

<h6 id="安装软件包"><a href="#安装软件包" class="headerlink" title="安装软件包"></a>安装软件包</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//安装软件只需要给出软件名称</span><br><span class="line">[root@localhost ~]<span class="comment"># yum install traceroute</span></span><br><span class="line"></span><br><span class="line">//安装过程中分析依赖关系后, 直接安装, 无需交互</span><br><span class="line">[root@localhost ~]<span class="comment"># yum -y install php</span></span><br><span class="line"></span><br><span class="line">//安装本地的rpm包, 如果有依赖关系, 会自动从软件仓库中下载所需依赖（非来自.repo定义的软件仓库）</span><br><span class="line">[root@localhost ~]<span class="comment"># yum localinstall /mnt/Packages/bind-9.9.4-50.el7.x86_64.rpm</span></span><br><span class="line"></span><br><span class="line">//安装网络上rpm包</span><br><span class="line">[root@localhost ~]<span class="comment"># yum install http://repo.zabbix.com/zabbix/3.4/rhel/7/x86_64/zabbix-release-3.4-2.el7.noarch.rpm</span></span><br></pre></td></tr></table></figure>

<h6 id="重装软件包"><a href="#重装软件包" class="headerlink" title="重装软件包"></a>重装软件包</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//检查软件是否存在</span><br><span class="line">[root@localhost ~]<span class="comment"># rpm -q vsftpd</span></span><br><span class="line">vsftpd-2.2.2-24.el6.x86_64</span><br><span class="line"></span><br><span class="line">//检查vsftpd软件配置文件</span><br><span class="line">[root@localhost ~]<span class="comment"># rpm -qc vsftpd</span></span><br><span class="line">/etc/logrotate.d/vsftpd</span><br><span class="line">/etc/pam.d/vsftpd</span><br><span class="line">/etc/vsftpd/ftpusers</span><br><span class="line">/etc/vsftpd/user_list</span><br><span class="line">/etc/vsftpd/vsftpd.conf</span><br><span class="line"></span><br><span class="line">//不小心删除vsftpd配置文件</span><br><span class="line">[root@localhost ~]<span class="comment"># rm -f /etc/vsftpd/vsftpd.conf</span></span><br><span class="line"></span><br><span class="line">//重新安装软件</span><br><span class="line">[root@localhost ~]<span class="comment"># yum reinstall vsftpd</span></span><br><span class="line"></span><br><span class="line">//再次检查</span><br><span class="line">[root@localhost ~]<span class="comment"># rpm -qc vsftpd</span></span><br><span class="line">/etc/logrotate.d/vsftpd</span><br><span class="line">/etc/pam.d/vsftpd</span><br><span class="line">/etc/vsftpd/ftpusers</span><br><span class="line">/etc/vsftpd/user_list</span><br><span class="line">/etc/vsftpd/vsftpd.conf</span><br></pre></td></tr></table></figure>

<p>更新软件包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//对比Linux已安装的软件和yum仓库中的软件, 有哪些需要升级</span><br><span class="line">[root@localhost ~]<span class="comment"># yum check-update</span></span><br><span class="line"></span><br><span class="line">//更新软件</span><br><span class="line">[root@localhost ~]<span class="comment">#  yum update acl -y</span></span><br></pre></td></tr></table></figure>

<h6 id="删除软件包"><a href="#删除软件包" class="headerlink" title="删除软件包"></a>删除软件包</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//先安装一个samba软件</span><br><span class="line">[root@localhost ~]<span class="comment"># yum -y install samba</span></span><br><span class="line"></span><br><span class="line">//删除该软件包,不会删除依赖, 但是我们尽可能不要使用删除软件操作</span><br><span class="line">[root@localhost ~]<span class="comment"># yum -y erase samba</span></span><br><span class="line">[root@localhost ~]<span class="comment"># yum -y remove samba</span></span><br></pre></td></tr></table></figure>

<h6 id="与仓库相关的命令"><a href="#与仓库相关的命令" class="headerlink" title="与仓库相关的命令"></a>与仓库相关的命令</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//列出yum源可用的软件仓库</span><br><span class="line">[root@localhost ~]<span class="comment"># yum repolist</span></span><br><span class="line"></span><br><span class="line">//列出全部yum源可用和禁用的仓库</span><br><span class="line">[root@localhost ~]<span class="comment"># yum repolist all</span></span><br><span class="line"></span><br><span class="line">//查看这个文件或命令属于哪个包</span><br><span class="line">[root@localhost ~]<span class="comment"># yum provides /etc/my.cnf</span></span><br><span class="line">[root@localhost ~]<span class="comment"># yum provides cd</span></span><br><span class="line">[root@localhost ~]<span class="comment"># yum provides *bin/pstree</span></span><br></pre></td></tr></table></figure>

<h6 id="与缓存相关的命令"><a href="#与缓存相关的命令" class="headerlink" title="与缓存相关的命令"></a>与缓存相关的命令</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">//缓存yum源软件仓库, xml元数据文件</span><br><span class="line">[root@localhost ~]<span class="comment"># yum makecache</span></span><br><span class="line"></span><br><span class="line">//缓存软件包, 修改yum全局配置文件</span><br><span class="line">[root@localhost ~]<span class="comment"># vim /etc/yum.conf</span></span><br><span class="line">[main]</span><br><span class="line">cachedir=/var/cache/yum/<span class="variable">$basearch</span>/<span class="variable">$releasever</span></span><br><span class="line">keepcache=1 //启动缓存</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//查看缓存的xml文件</span><br><span class="line">[root@localhost ~]<span class="comment"># ls /var/cache/yum/x86_64/7/base/</span></span><br><span class="line"></span><br><span class="line">//查看缓存软件包路径</span><br><span class="line">[root@localhost ~]<span class="comment"># ls /var/cache/yum/x86_64/7/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#另一种缓存rpm包方式</span></span><br><span class="line"></span><br><span class="line">//1.安装插件支持只下载软件包不安装</span><br><span class="line">[root@localhost ~]<span class="comment"># yum -y install yum-plugin-downloadonly</span></span><br><span class="line">//2.将软件下载至指定目录</span><br><span class="line">[root@localhost ~]<span class="comment"># yum -y install --downloadonly --downloaddir=/tmp httpd</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//清除所有yum缓存</span><br><span class="line">[root@localhost ~]<span class="comment"># yum clean all</span></span><br><span class="line"></span><br><span class="line">//只清除缓存的软件包</span><br><span class="line">[root@localhost ~]<span class="comment"># yum clean packages</span></span><br></pre></td></tr></table></figure>

<h6 id="与包组相关的命令"><a href="#与包组相关的命令" class="headerlink" title="与包组相关的命令"></a>与包组相关的命令</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//列出已经安装和所有可使用的软件组</span><br><span class="line">[root@localhost ~]<span class="comment"># yum groups list</span></span><br><span class="line"></span><br><span class="line">//安装一整个组的软件</span><br><span class="line">[root@localhost ~]<span class="comment"># yum groups install Development tools \</span></span><br><span class="line">Compatibility libraries \</span><br><span class="line">Base Debugging Tools</span><br><span class="line"></span><br><span class="line">//yum删除包组</span><br><span class="line">[root@localhost ~]<span class="comment"># yum groups remove  -y Base</span></span><br></pre></td></tr></table></figure>

<p>####### 与历史记录相关的命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//查看历史执行yum命令</span><br><span class="line">[root@localhost ~]<span class="comment"># yum history</span></span><br><span class="line"></span><br><span class="line">//查询历史执行yum命令ID详细信息</span><br><span class="line">[root@localhost ~]<span class="comment"># yum history info N</span></span><br><span class="line"></span><br><span class="line">//撤销历史执行过的yum命令</span><br><span class="line">[root@localhost ~]<span class="comment"># yum history undo N</span></span><br></pre></td></tr></table></figure>

<h6 id="YUM签名检查机制"><a href="#YUM签名检查机制" class="headerlink" title="YUM签名检查机制"></a>YUM签名检查机制</h6><ul>
<li>rpm软件提供组织redhat在构建rpm包时, 使用其私钥private key对 rpm进行签名</li>
<li>客户端在使用rpm为了验证其合法性, 可以使用redhat提供的公钥public key进行签名检查</li>
</ul>
<p>方式1：指定公钥位置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># vim /etc/yum.repos.d/CentOS-Base.repo</span></span><br><span class="line">[base]</span><br><span class="line">name=CentOS-<span class="variable">$releasever</span> - Base mirrorlist=http://mirrorlist.centos.org/?release=<span class="variable">$releasever</span>&amp;arch=<span class="variable">$basearch</span>&amp;repo=os&amp;infra=<span class="variable">$infra</span> <span class="comment">#baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/</span></span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br></pre></td></tr></table></figure>

<p>方式2：提前导入公钥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span></span><br><span class="line">[root@localhost ~]<span class="comment"># vim /etc/yum.repos.d/CentOS-Base.repo</span></span><br><span class="line">[base]</span><br><span class="line">name=CentOS-<span class="variable">$releasever</span> - Base </span><br><span class="line">mirrorlist=http://mirrorlist.centos.org/?release=<span class="variable">$releasever</span>&amp;arch=<span class="variable">$basearch</span>&amp;repo=os&amp;infra=<span class="variable">$infra</span></span><br><span class="line">baseurl=http://mirror.centos.org/centos/<span class="variable">$releasever</span>/os/<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=1</span><br></pre></td></tr></table></figure>

<p>方式3：不进行签名验证</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//不检查软件包的签名</span><br><span class="line">[root@localhost ~]<span class="comment"># yum install httpd --nogpgcheck</span></span><br></pre></td></tr></table></figure>

<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>如何配置本地光盘yum仓库以及网络yum仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mkdir /mnt/cdrom</span><br><span class="line">mount /dev/cdrom /mnt/cdrom</span><br><span class="line"></span><br><span class="line">vim /etc/yum.repo.d/bendiyum.repo</span><br><span class="line">[bendiyum]</span><br><span class="line">name=bendiyum</span><br><span class="line">baseurl=file:///mnt/cdrom</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line"></span><br><span class="line">yum clean all</span><br><span class="line">yum list | wc -l</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">首先了解到网络源的位置</span><br><span class="line">使用wget下载</span><br></pre></td></tr></table></figure>

<p>如何使用yum安装 httpd php nginx</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y httpd php nginx</span><br></pre></td></tr></table></figure>

<p>如何配置yum缓存rpm包（至少阐述两种方式）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall /mnt/Packages/<span class="built_in">bind</span>-9.9.4-50.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">yum install http://repo.zabbix.com/zabbix/3.4/rhel/7/x86_64/zabbix-release-3.4-2.el7.noarch.rpm</span><br></pre></td></tr></table></figure>

<p>如何使用yum安装本地缓存好的rpm包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall /mnt/Packages/<span class="built_in">bind</span>-9.9.4-50.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p>如何使用yum删除httpd软件包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove httpd</span><br></pre></td></tr></table></figure>

<p>如何构建企业内部yum仓库服务(请写出详细步骤,至少准备两台虚拟机，使用http方式)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/6.linux--yum工具的使用/" data-id="ck6akysgg00348wu6mcug1uk7"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux基础/">linux基础</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-6.linux--httpd服务" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/6.linux--httpd服务/"
    >httpd服务</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/6.linux--httpd服务/" class="article-date">
  <time datetime="2019-08-29T15:44:18.550Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux进阶/">linux进阶</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; print(&quot;👆以上是不完整的我&quot;) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>[TOC]</p>
<h2 id="httpd简介"><a href="#httpd简介" class="headerlink" title="httpd简介"></a>httpd简介</h2><p>Apache HTTP Server（简称Apache或httpd）是Apache软件基金会的一个开放源代码的网页服务器软件，旨在为unix，windows等操作系统中提供开源httpd服务。由于其安全性、高效性及可扩展性，被广泛使用，自1996年4月以来，Apache一直是Internet上最流行的HTTP服务器。它快速、可靠并且可通过简单的API扩充，将Perl／Python等解释器等编译到httpd的相关模块中。</p>
<p><a href="http://httpd.apache.org/docs/2.4/install.html" target="_blank" rel="noopener"><strong>apache</strong></a></p>
<h2 id="httpd版本"><a href="#httpd版本" class="headerlink" title="httpd版本"></a>httpd版本</h2><p>在CentOS6.X的版本中默认是提供httpd-2.2版本的rpm包</p>
<p>在CentOS7.X的版本中默认师提供httpd-2.4版本的rpm包</p>
<blockquote>
<p> 本篇博文主要介绍httpd-2.4</p>
</blockquote>
<h3 id="httpd的特性"><a href="#httpd的特性" class="headerlink" title="httpd的特性"></a>httpd的特性</h3><table>
<thead>
<tr>
<th align="center">工作模型</th>
<th align="center">工作方式</th>
</tr>
</thead>
<tbody><tr>
<td align="center">prefork</td>
<td align="center">多进程模型，预先生成进程，一个请求用一个进程响应 一个主进程负责生成n个子进程，子进程也称为工作进程 每个子进程处理一个用户请求，即使没有用户请求，也会预先生成多个空闲进程，随时等待请求到达 最大不会超过1024个</td>
</tr>
<tr>
<td align="center">worker</td>
<td align="center">基于线程工作，一个请求用一个线程响应（启动多个进程，每个进程生成多个线程）</td>
</tr>
<tr>
<td align="center">event</td>
<td align="center">基于事件的驱动，一个进程处理多个请求</td>
</tr>
</tbody></table>
<h3 id="httpd-2-4新增的模块"><a href="#httpd-2-4新增的模块" class="headerlink" title="httpd-2.4新增的模块"></a>httpd-2.4新增的模块</h3><ul>
<li>mod_proxy_fcgi        反向代理时支持apache服务器后端的模块</li>
<li>mod_ratelimit        提供速率限制功能的模块</li>
<li>mod_remoteip        基于ip的访问控制机制被改变，不再支持使用Order，Deny，Allow来做基于IP的访问控制</li>
</ul>
<h2 id="httpd基础"><a href="#httpd基础" class="headerlink" title="httpd基础"></a>httpd基础</h2><h3 id="httpd自带的工具程序"><a href="#httpd自带的工具程序" class="headerlink" title="httpd自带的工具程序"></a>httpd自带的工具程序</h3><ul>
<li><p>htpasswd        basic认证基于文件实现时，用到的帐号密码生成工具</p>
</li>
<li><p>htpasswd        httpd自带的服务控制脚本，支持start，stop，restart</p>
</li>
<li><p>apxs        由httpd-devel包提供的，扩展httpd使用第三方模块的工具</p>
</li>
<li><p>rotatelogs        日志滚动工具</p>
</li>
<li><p>suexec        访问某些有特殊权限配置的资源时，临时切换至指定用户运行的工具</p>
</li>
<li><p>ab        apache benchmark，httpd的压力测试工具</p>
</li>
</ul>
<h3 id="rpm包安装httpd程序环境"><a href="#rpm包安装httpd程序环境" class="headerlink" title="rpm包安装httpd程序环境"></a>rpm包安装httpd程序环境</h3><p><code>/var/log/httpd/access.log</code>        访问日志</p>
<p><code>/var/log/httpd/error_log</code>        错误日志</p>
<p><code>/var/www/html/</code>        站点文档目录</p>
<p><code>/usr/lib64/httpd/modules/</code>        模块文件路径</p>
<p><code>/etc/httpd/conf/httpd.conf</code>        主配置文件</p>
<p><code>/etc/httpd/conf.modules.d/*.conf</code>        模块配置文件</p>
<p><code>/etc/httpd/conf.d/*.conf</code>        辅助配置文件</p>
<h3 id="web相关的命令"><a href="#web相关的命令" class="headerlink" title="web相关的命令"></a>web相关的命令</h3><h4 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h4><ul>
<li>curl是基于URL语法在命令行方式下工作的文件传输工具</li>
<li>支持FTP，FTPS，HTTP，HTTPS，GOPHER，TELNET，DICT，FILE及LDAP等协议</li>
<li>功能有很多：https认证、http的POST/PUT等方法、ftp上传、kerberos认证、http上传、代理服务器、cookies、用户名/密码认证等</li>
<li>最常用于下载</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看帮助信息</span></span><br><span class="line">[root@server222 ~]<span class="comment"># curl --help</span></span><br><span class="line"><span class="comment"># -o  把输出写到文件中</span></span><br><span class="line">[root@server222 ~]<span class="comment"># curl -o blog.html https://chineselijie.github.io/</span></span><br><span class="line">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100 13560  100 13560    0     0  15741      0 --:--:-- --:--:-- --:--:-- 15730</span><br><span class="line">[root@server222 ~]<span class="comment"># ls</span></span><br><span class="line">anaconda-ks.cfg  initial-setup-ks.cfg  模板  图片  下载  桌面</span><br><span class="line">blog.html        公共                  视频  文档  音乐</span><br></pre></td></tr></table></figure>

<h4 id="httpd"><a href="#httpd" class="headerlink" title="httpd"></a>httpd</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">httpd [options]</span><br><span class="line">-l	查看静态编译的模块，列出核心中编译了哪些模块</span><br><span class="line">-M	输出一个已经启用的模块列表</span><br><span class="line">-v  显示httpd的版本，然后退出</span><br><span class="line">-V	显示httpd和apr/apr-util的版本和编译参数，然后退出</span><br><span class="line">-X	以调试模式运行httpd，ctrl+c退出</span><br><span class="line">-t	检查配置文件是否有语法错误</span><br></pre></td></tr></table></figure>

<h2 id="编译安装httpd-2-4"><a href="#编译安装httpd-2-4" class="headerlink" title="编译安装httpd-2.4"></a>编译安装httpd-2.4</h2><p>准备环境</p>
<ol>
<li>需yum安装Development Tools</li>
<li>需yum安装openssl-devel、pcre-devel、expat-devel、libtool</li>
<li>需编译安装apr-1.4、apr-util-1.4（1.4以上版本）</li>
<li>编译安装httpd-2.4</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装Development Tools</span></span><br><span class="line">[root@server222 ~]<span class="comment"># yum groups mark install "Development Tools"</span></span><br><span class="line"><span class="comment"># 安装apache系统用户</span></span><br><span class="line">[root@server222 ~]<span class="comment"># useradd -r -M -s /sbin/nologin apache</span></span><br><span class="line">[root@server222 ~]<span class="comment"># id apache</span></span><br><span class="line">uid=990(apache) gid=985(apache) 组=985(apache)</span><br><span class="line"><span class="comment"># 安装openssl-devel、pcre-devel、expat-devel、libtool</span></span><br><span class="line">[root@server222 ~]<span class="comment"># yum -y install openssl-devel pcre-devel expat-devel libtool</span></span><br><span class="line"><span class="comment"># 下载 apr-1.7、apr-util-1.6、httpd-2.4</span></span><br><span class="line">[root@server222 ~]<span class="comment"># wget https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-util-1.6.1.tar.bz2 https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-1.7.0.tar.bz2 https://mirrors.tuna.tsinghua.edu.cn/apache/httpd/httpd-2.4.39.tar.bz2</span></span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">[root@server222 ~]<span class="comment"># tar -xf apr-util-1.6.1.tar.bz2</span></span><br><span class="line">[root@server222 ~]<span class="comment"># tar -xf apr-1.7.0.tar.bz2</span></span><br><span class="line">[root@server222 ~]<span class="comment"># tar -xf httpd-2.4.39.tar.bz2</span></span><br><span class="line"><span class="comment"># 安装apr</span></span><br><span class="line">[root@server222 ~]<span class="comment"># cd apr-1.7.0/</span></span><br><span class="line">[root@server222 apr-1.7.0]<span class="comment"># vim configure</span></span><br><span class="line">查找/<span class="variable">$cfgfile</span></span><br><span class="line"><span class="comment">#  $RM "$cfgfile    //将这行注释</span></span><br><span class="line">保存并退出</span><br><span class="line">[root@server222 apr-1.7.0]<span class="comment"># ./configure --prefix=/usr/local/apr</span></span><br><span class="line">[root@server222 apr-1.7.0]<span class="comment"># make &amp;&amp; make install</span></span><br><span class="line"><span class="comment"># 安装apr-util</span></span><br><span class="line">[root@server222 apr-1.7.0]<span class="comment"># cd /root/apr-util-1.6.1/ </span></span><br><span class="line">[root@server222 apr-util-1.6.1]<span class="comment"># ./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr</span></span><br><span class="line">[root@server222 apr-util-1.6.1]<span class="comment"># make &amp;&amp; make install</span></span><br><span class="line"><span class="comment"># 安装httpd</span></span><br><span class="line">[root@server222 apr-util-1.6.1]<span class="comment"># cd /root/httpd-2.4.39/</span></span><br><span class="line">[root@server222 httpd-2.4.39]<span class="comment"># ./configure --prefix=/usr/local/apache \</span></span><br><span class="line">&gt; --sysconfdir=/etc/httpd24 \</span><br><span class="line">&gt; --<span class="built_in">enable</span>-so \</span><br><span class="line">&gt; --<span class="built_in">enable</span>-ssl \</span><br><span class="line">&gt; --<span class="built_in">enable</span>-cgi \</span><br><span class="line">&gt; --<span class="built_in">enable</span>-rewrite \</span><br><span class="line">&gt; --with-zlib \</span><br><span class="line">&gt; --with-pcre \</span><br><span class="line">&gt; --with-apr=/usr/<span class="built_in">local</span>/apr \</span><br><span class="line">&gt; --with-apr-util=/usr/<span class="built_in">local</span>/apr-util/ \</span><br><span class="line">&gt; --<span class="built_in">enable</span>-modules=most \</span><br><span class="line">&gt; --<span class="built_in">enable</span>-mpms-shared=all \</span><br><span class="line">&gt; --with-mpm=prefork</span><br><span class="line"></span><br><span class="line">[root@server222 httpd-2.4.39]<span class="comment"># make &amp;&amp; make install</span></span><br><span class="line"><span class="comment"># 创建http的控制脚本</span></span><br><span class="line">[root@server222 httpd-2.4.39]<span class="comment"># echo 'export PATH=/usr/local/apache/bin:$PATH' &gt;/etc/profile.d/httpd.sh</span></span><br><span class="line">[root@server222 httpd-2.4.39]<span class="comment"># bash</span></span><br><span class="line">[root@server222 httpd-2.4.39]<span class="comment"># which httpd</span></span><br><span class="line">/usr/<span class="built_in">local</span>/apache/bin/httpd</span><br><span class="line">[root@server222 httpd-2.4.39]<span class="comment"># /usr/local/apache/bin/apachectl start</span></span><br><span class="line">AH00558: httpd: Could not reliably determine the server<span class="string">'s fully qualified domain name, using fe80::1bd0:d77:f2c2:6f3%ens33. Set the '</span>ServerName<span class="string">' directive globally to suppress this message</span></span><br><span class="line"><span class="string">httpd (pid 104458) already running</span></span><br><span class="line"><span class="string"># 出现报错 解决</span></span><br><span class="line"><span class="string">[root@server222 httpd-2.4.39]# vim /etc/httpd24/httpd.conf</span></span><br><span class="line"><span class="string">查找 /ServerName www.example.com</span></span><br><span class="line"><span class="string"># ServerName www.example.com:80  //将前面的注释取消掉</span></span><br><span class="line"><span class="string">保存并退出</span></span><br><span class="line"><span class="string">[root@server222 httpd-2.4.39]# /usr/local/apache/bin/apachectl start</span></span><br><span class="line"><span class="string">httpd (pid 104458) already running</span></span><br><span class="line"><span class="string">[root@server222 httpd-2.4.39]# ss -antl</span></span><br><span class="line"><span class="string">State       Recv-Q Send-Q Local Address:Port               Peer Address:Port         </span></span><br><span class="line"><span class="string">LISTEN      0      128            *:111                        *:*</span></span><br><span class="line"><span class="string">LISTEN      0      5      192.168.122.1:53                         *:*               </span></span><br><span class="line"><span class="string">LISTEN      0      128            *:22                         *:*</span></span><br><span class="line"><span class="string">LISTEN      0      128    127.0.0.1:631                        *:*</span></span><br><span class="line"><span class="string">LISTEN      0      100    127.0.0.1:25                         *:*</span></span><br><span class="line"><span class="string">LISTEN      0      128           :::111                       :::*</span></span><br><span class="line"><span class="string">LISTEN      0      128           :::80                        :::*</span></span><br><span class="line"><span class="string">LISTEN      0      128           :::22                        :::*</span></span><br><span class="line"><span class="string">LISTEN      0      128          ::1:631                       :::*</span></span><br><span class="line"><span class="string">LISTEN      0      100          ::1:25                        :::*</span></span><br><span class="line"><span class="string"># 可以看到80 端口已经启用</span></span><br><span class="line"><span class="string"># 关闭防护墙和SElinux</span></span><br><span class="line"><span class="string">[root@server222 httpd-2.4.39]# systemctl stop firewalld.service</span></span><br><span class="line"><span class="string">[root@server222 httpd-2.4.39]# setenforce 0</span></span><br></pre></td></tr></table></figure>

<p>打开火狐输入IP地址</p>
<p><img src="https://s2.ax1x.com/2019/06/30/ZlhJG8.png" alt></p>
<blockquote>
<p>简略解释选项含义：</p>
<p>–enable-so 启用动态支持</p>
<p>–with-zlib 使用zlib压缩库，将数据压缩再传输</p>
<p>–enable-modules=most 启用哪些模块</p>
<p>–enable-mpms-shared=all  把哪些模块做成动态共享模块</p>
</blockquote>
<h2 id="httpd常用配置"><a href="#httpd常用配置" class="headerlink" title="httpd常用配置"></a>httpd常用配置</h2><p>yum安装：/etc/httpd/conf.modules.d/00-mpm.conf：切换使用MPM（工作模型）</p>
<ul>
<li>prefork</li>
<li>event</li>
<li>worker</li>
</ul>
<p>源码安装：就在主配置文件中（/etc/httpd/httpd.conf）</p>
<ul>
<li>模块文件在/usr/local/apache/modules中以.so结尾的文件</li>
</ul>
<p>查看配置文件<code>/etc/httpd/httpd.conf</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Example:</span></span><br><span class="line"><span class="comment"># LoadModule foo_module modules/mod_foo.so</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">LoadModule mpm_event_module modules/mod_mpm_event.so</span><br><span class="line"><span class="comment">#LoadModule mpm_prefork_module modules/mod_mpm_prefork.so</span></span><br><span class="line"><span class="comment">#LoadModule mpm_worker_module modules/mod_mpm_worker.so</span></span><br><span class="line">LoadModule authn_file_module modules/mod_authn_file.so</span><br><span class="line"><span class="comment">#LoadModule authn_dbm_module modules/mod_authn_dbm.so</span></span><br><span class="line"><span class="comment">#LoadModule authn_anon_module modules/mod_authn_anon.so</span></span><br><span class="line"><span class="comment">#LoadModule authn_dbd_module modules/mod_authn_dbd.so</span></span><br><span class="line"><span class="comment">#LoadModule authn_socache_module modules/mod_authn_socache.so</span></span><br><span class="line">LoadModule authn_core_module modules/mod_authn_core.so</span><br></pre></td></tr></table></figure>

<p>访问控制法则</p>
<ul>
<li>可针对全局设置，也可针对某个目录做访问控制</li>
</ul>
<table>
<thead>
<tr>
<th align="center">法则</th>
<th align="center">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Require all granted</td>
<td align="center">允许所有主机访问</td>
</tr>
<tr>
<td align="center">Require all denied</td>
<td align="center">拒绝所有主机访问</td>
</tr>
<tr>
<td align="center">Require ip IPADDR</td>
<td align="center">授权指定来源地址的主机访问</td>
</tr>
<tr>
<td align="center">Require not ip IPADDR</td>
<td align="center">拒绝指定来源地址的主机访问</td>
</tr>
<tr>
<td align="center">Require host HOSTNAME</td>
<td align="center">授权指定来源主机名的主机访问</td>
</tr>
<tr>
<td align="center">Require not host HOSTNAME</td>
<td align="center">拒绝指定来源主机名的主机访问</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>IPADDR的类型</th>
<th>HOSTNAME的类型</th>
</tr>
</thead>
<tbody><tr>
<td>IP：192.168.1.1  Network/mask：192.168.1.0/255.255.255.0 Network/Length：192.168.1.0/24 Net：192.168</td>
<td>FQDN：特定主机的全名 DOMAIN：指定域内的所有主机</td>
</tr>
</tbody></table>
<ul>
<li>注意：httpd-2.4版本默认是拒绝所有主机访问的，所以安装以后必须做显示授权访问</li>
</ul>
<p><strong>禁止特殊IP访问</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># vim /etc/httpd/httpd.conf</span></span><br><span class="line"><span class="comment">#在最后面加上</span></span><br><span class="line">&lt;VirtualHost 192.168.176.222:80&gt;</span><br><span class="line">    DocumentRoot <span class="string">"/usr/local/apache/htdocs"</span></span><br><span class="line">    &lt;Directory /usr/<span class="built_in">local</span>/apache/htdocs&gt;</span><br><span class="line">        &lt;RequireAll&gt;</span><br><span class="line">        Require all granted</span><br><span class="line">        Require not ip 192.168.176.111</span><br><span class="line">        &lt;/RequireAll&gt;</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">[root@server222 ~]<span class="comment"># /usr/local/apache/bin/apachectl restart</span></span><br></pre></td></tr></table></figure>

<p>在本地主机访问：</p>
<p><img src="https://s2.ax1x.com/2019/06/30/Zlh5Ix.png" alt></p>
<p><strong>虚拟主机</strong>有三类：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># yum install httpd -y</span></span><br><span class="line">[root@server222 ~]<span class="comment"># vim /etc/httpd/conf/httpd.conf</span></span><br><span class="line">119 DocumentRoot <span class="string">"/home/wwwroot"</span></span><br><span class="line">120 </span><br><span class="line">121 <span class="comment">#</span></span><br><span class="line">122 <span class="comment"># Relax access to content within /var/www.</span></span><br><span class="line">123 <span class="comment">#</span></span><br><span class="line">124 &lt;Directory <span class="string">"/home/wwwroot"</span>&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>相同IP不同端口</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># mkdir -p /home/wwwroot/80</span></span><br><span class="line">[root@server222 ~]<span class="comment"># mkdir -p /home/wwwroot/81</span></span><br><span class="line">[root@server222 ~]<span class="comment"># echo "port:80" &gt; /home/wwwroot/80/index.html</span></span><br><span class="line">[root@server222 ~]<span class="comment"># echo "port:81" &gt; /home/wwwroot/81/index.html</span></span><br><span class="line">[root@server222 ~]<span class="comment"># vim /etc/httpd/conf/httpd.conf</span></span><br><span class="line"><span class="comment">#找到Listen 80，在下一行加上Listen 81</span></span><br><span class="line">Listen 80</span><br><span class="line">Listen 81</span><br><span class="line">[root@server222 ~]<span class="comment"># vim /etc/httpd/conf/httpd.conf</span></span><br><span class="line">[root@server222 ~]<span class="comment"># tail -n 16 /etc/httpd/conf/httpd.conf</span></span><br><span class="line">&lt;VirtualHost 192.168.176.222:80&gt;</span><br><span class="line">DocumentRoot <span class="string">"/home/wwwroot/80"</span></span><br><span class="line">ServerName <span class="string">"www.123.com"</span></span><br><span class="line">&lt;Directory <span class="string">"/home/wwwroot/80"</span>&gt;</span><br><span class="line">AllowOverride None</span><br><span class="line">Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;VirtualHost 192.168.176.222:81&gt;</span><br><span class="line">DocumentRoot <span class="string">"/home/wwwroot/81"</span></span><br><span class="line">ServerName <span class="string">"www.abc.com"</span></span><br><span class="line">&lt;Directory <span class="string">"/home/wwwroot/81"</span>&gt;</span><br><span class="line">AllowOverride None</span><br><span class="line">Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">[root@server222 ~]<span class="comment"># setenforce 0</span></span><br><span class="line">[root@server222 ~]<span class="comment"># systemctl restart httpd</span></span><br></pre></td></tr></table></figure>

<ul>
<li>不同IP相同端口</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># vim /etc/sysconfig/network-scripts/ifcfg-ens33</span></span><br><span class="line">[root@server222 ~]<span class="comment"># tail -n 7 /etc/sysconfig/network-scripts/ifcfg-ens33</span></span><br><span class="line">IPADDR0=192.168.176.222</span><br><span class="line">IPADDR1=192.168.176.223</span><br><span class="line">IPADDR2=192.168.176.224</span><br><span class="line">PREFIX=24</span><br><span class="line">GATEWAY=192.168.176.2</span><br><span class="line">DNS1=192.168.176.2</span><br><span class="line">IPV6_PRIVACY=no</span><br><span class="line">[root@server222 ~]<span class="comment"># systemctl restart network</span></span><br><span class="line">[root@server222 ~]<span class="comment"># ping 192.168.176.222</span></span><br><span class="line">[root@server222 ~]<span class="comment"># ping 192.168.176.223</span></span><br><span class="line">[root@server222 ~]<span class="comment"># ping 192.168.176.224</span></span><br><span class="line">[root@server222 ~]<span class="comment"># mkdir -p /home/wwwroot/10</span></span><br><span class="line">[root@server222 ~]<span class="comment"># mkdir -p /home/wwwroot/20</span></span><br><span class="line">[root@server222 ~]<span class="comment"># mkdir -p /home/wwwroot/30</span></span><br><span class="line">[root@server222 ~]<span class="comment"># echo "IP:192.168.176.222" &gt; /home/wwwroot/10/index.html</span></span><br><span class="line">[root@server222 ~]<span class="comment"># echo "IP:192.168.176.223" &gt; /home/wwwroot/20/index.html</span></span><br><span class="line">[root@server222 ~]<span class="comment"># echo "IP:192.168.176.224" &gt; /home/wwwroot/30/index.html</span></span><br><span class="line">[root@server222 ~]<span class="comment"># vim /etc/httpd/conf/httpd.conf</span></span><br><span class="line">[root@server222 ~]<span class="comment"># tail -n 24 /etc/httpd/conf/httpd.conf</span></span><br><span class="line">&lt;VirtualHost 192.168.176.222&gt;</span><br><span class="line">DocumentRoot /home/wwwroot/10</span><br><span class="line">ServerName www.123.com</span><br><span class="line">&lt;Directory /home/wwwroot/10 &gt;</span><br><span class="line">AllowOverride None</span><br><span class="line">Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;VirtualHost 192.168.176.223&gt;</span><br><span class="line">DocumentRoot /home/wwwroot/20</span><br><span class="line">ServerName www.456.com</span><br><span class="line">&lt;Directory /home/wwwroot/20 &gt;</span><br><span class="line">AllowOverride None</span><br><span class="line">Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;VirtualHost 192.168.176.224&gt;</span><br><span class="line">DocumentRoot /home/wwwroot/30</span><br><span class="line">ServerName www.789.com</span><br><span class="line">&lt;Directory /home/wwwroot/30 &gt;</span><br><span class="line">AllowOverride None</span><br><span class="line">Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">[root@server222 ~]<span class="comment"># setenforce 0</span></span><br><span class="line">[root@server222 ~]<span class="comment"># systemctl restart httpd</span></span><br></pre></td></tr></table></figure>

<ul>
<li>相同IP相同端口不同域名(常用)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># tail -n 1 /etc/hosts</span></span><br><span class="line">192.168.176.222 www.123.com www.abc.com</span><br><span class="line">[root@server222 ~]<span class="comment"># ping www.123.com</span></span><br><span class="line">[root@server222 ~]<span class="comment"># ping www.abc.com</span></span><br><span class="line">[root@server222 ~]<span class="comment"># mkdir -p /home/wwwroot/123</span></span><br><span class="line">[root@server222 ~]<span class="comment"># mkdir -p /home/wwwroot/abc</span></span><br><span class="line">[root@server222 ~]<span class="comment"># echo "WWW.123.com" &gt; /home/wwwroot/123/index.html</span></span><br><span class="line">[root@server222 ~]<span class="comment"># echo "WWW.abc.com" &gt; /home/wwwroot/abc/index.html</span></span><br><span class="line">[root@server222 ~]<span class="comment"># vim /etc/httpd/conf/httpd.conf</span></span><br><span class="line">[root@server222 ~]<span class="comment"># tail -n 16 /etc/httpd/conf/httpd.conf</span></span><br><span class="line">&lt;VirtualHost 192.168.176.222&gt;</span><br><span class="line">DocumentRoot <span class="string">"/home/wwwroot/123"</span></span><br><span class="line">ServerName <span class="string">"www.123.com"</span></span><br><span class="line">&lt;Directory <span class="string">"/home/wwwroot/123"</span>&gt;</span><br><span class="line">AllowOverride None</span><br><span class="line">Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;VirtualHost 192.168.176.222&gt;</span><br><span class="line">DocumentRoot <span class="string">"/home/wwwroot/abc"</span></span><br><span class="line">ServerName <span class="string">"www.abc.com"</span></span><br><span class="line">&lt;Directory <span class="string">"/home/wwwroot/abc"</span>&gt;</span><br><span class="line">AllowOverride None</span><br><span class="line">Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">[root@server222 ~]<span class="comment"># setenforce 0</span></span><br><span class="line">[root@server222 ~]<span class="comment"># systemctl restart httpd</span></span><br></pre></td></tr></table></figure>

<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>1.编译安装httpd-2.4</p>
<p>2.配置三种不同风格的虚拟主机</p>
<p>3.写博客，要写明环境背景、配置步骤，要有验证截图</p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/6.linux--httpd服务/" data-id="ck6akysf900258wu6tamyl2ks"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux进阶/">linux进阶</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-5.python--第三章" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/5.python--第三章/"
    >python第三章</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/5.python--第三章/" class="article-date">
  <time datetime="2019-08-29T15:44:18.547Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">print</span>(<span class="string">"👆以上是不完整的我"</span>) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>[TOC]</p>
<h1 id="python第三章"><a href="#python第三章" class="headerlink" title="python第三章"></a>python第三章</h1><h2 id="list-列表"><a href="#list-列表" class="headerlink" title="list(列表)"></a>list(列表)</h2><blockquote>
<p>假如 我们要存储5个人的年龄，求他们的平均年龄</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">age1 = <span class="number">15</span></span><br><span class="line">age2 = <span class="number">16</span></span><br><span class="line">age3 = <span class="number">17</span></span><br><span class="line">age4 = <span class="number">18</span></span><br><span class="line">age5 = <span class="number">19</span></span><br><span class="line"></span><br><span class="line">print((age1+age2+age3+age4+age5)/<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果得：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">17.0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>那么问题来了 ，如果说我需要存储100个人的年龄，并且也要求他们的平均年龄</p>
</blockquote>
<p>解决办法：使用列表</p>
<p>列表本质：是一种有序的集合</p>
<h3 id="创建列表"><a href="#创建列表" class="headerlink" title="创建列表"></a>创建列表</h3><p>格式： 列表名 = [列表选项1, 列表选项2, ……, 列表选项n]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建空列表</span></span><br><span class="line">list1 = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建带有元素的列表</span></span><br><span class="line"><span class="comment"># 列表中的元素的数据类型可以不同</span></span><br><span class="line">list2 = [<span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="string">"good"</span>, <span class="literal">True</span>, <span class="literal">None</span>]</span><br></pre></td></tr></table></figure>

<h3 id="列表元素的访问"><a href="#列表元素的访问" class="headerlink" title="列表元素的访问"></a>列表元素的访问</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">list3 = [<span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>]</span><br><span class="line"><span class="comment"># 取值：列表名[下标]</span></span><br><span class="line">print(list3[<span class="number">2</span>])</span><br><span class="line"><span class="comment"># 替换：列表名[下标] = 新值</span></span><br><span class="line">list3[<span class="number">2</span>] = <span class="number">200</span></span><br><span class="line">print(list3)</span><br><span class="line"><span class="comment"># 注意：下标不要越界</span></span><br><span class="line"><span class="comment"># print(list3[5])</span></span><br><span class="line"><span class="comment"># list3[5] = 23</span></span><br><span class="line"><span class="comment"># print(list3)</span></span><br></pre></td></tr></table></figure>

<h3 id="列表操作"><a href="#列表操作" class="headerlink" title="列表操作"></a>列表操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表组合</span></span><br><span class="line">list4 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">list5 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">print(list4, list5)</span><br><span class="line">print(list4 + list5)</span><br><span class="line"><span class="comment"># 列表重复</span></span><br><span class="line">list6 = [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">print(list6 * <span class="number">3</span>)</span><br><span class="line"><span class="comment"># in        not in</span></span><br><span class="line">print(<span class="number">1</span> <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="comment"># 列表截取(切片)</span></span><br><span class="line">list7 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>]</span><br><span class="line">print(list7[<span class="number">2</span>])</span><br><span class="line">print(list7[<span class="number">1</span>:<span class="number">4</span>])</span><br><span class="line"><span class="comment"># -1表示的是最后一个元素的下标， -2倒数第二个元素的下标</span></span><br><span class="line">print(list7[<span class="number">1</span>:<span class="number">-1</span>])</span><br><span class="line">print(list7[<span class="number">4</span>:])</span><br><span class="line">print(list7[:<span class="number">4</span>])</span><br></pre></td></tr></table></figure>

<h3 id="二维列表"><a href="#二维列表" class="headerlink" title="二维列表"></a>二维列表</h3><p>含义：列表中元素是一维列表</p>
<p>本质：一维列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list8 = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">         [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],</span><br><span class="line">         [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]</span><br><span class="line">print(list8)</span><br><span class="line">print(list8[<span class="number">1</span>][<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<h2 id="列表方法"><a href="#列表方法" class="headerlink" title="列表方法"></a>列表方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># append(obj)</span></span><br><span class="line"><span class="comment"># 在列表的末尾添加一个新的元素</span></span><br><span class="line">list1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">list1.append([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>])</span><br><span class="line">print(list1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># extend(seq)</span></span><br><span class="line"><span class="comment"># 在列表末尾一次性追加多个元素</span></span><br><span class="line">list2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">list2.extend([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>])</span><br><span class="line">print(list2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># insert(index, obj)</span></span><br><span class="line"><span class="comment"># 将元素出入列表，不会覆盖原元素，原元素按顺序后移</span></span><br><span class="line">list3 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">list3.insert(<span class="number">2</span>, <span class="number">100</span>)</span><br><span class="line">print(list3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># pop(obj=list[-1])</span></span><br><span class="line"><span class="comment"># 移除列表中指定下标处的元素，默认删除最后一个元素</span></span><br><span class="line">list4 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">list4.pop()</span><br><span class="line"><span class="comment"># list4.pop()</span></span><br><span class="line">print(list4)</span><br><span class="line"></span><br><span class="line"><span class="comment"># remove(obj)</span></span><br><span class="line"><span class="comment"># 移除列表中的某个值的第一个匹配项</span></span><br><span class="line">list5 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>]</span><br><span class="line">list5.remove(<span class="number">3</span>)</span><br><span class="line">print(list5)</span><br><span class="line"></span><br><span class="line"><span class="comment"># clear()</span></span><br><span class="line"><span class="comment"># 清空列表</span></span><br><span class="line">list6 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>]</span><br><span class="line">list6.clear()</span><br><span class="line">print(list6)</span><br><span class="line"></span><br><span class="line"><span class="comment"># index(obj)</span></span><br><span class="line"><span class="comment"># 从列表中找出某个值第一个匹配项的下标</span></span><br><span class="line">list6 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>]</span><br><span class="line">print(list6.index(<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># len(list)</span></span><br><span class="line"><span class="comment"># 返回列表中元素的个数</span></span><br><span class="line">list7 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>]</span><br><span class="line">print(len(list7))</span><br><span class="line"></span><br><span class="line"><span class="comment"># count(obj)</span></span><br><span class="line"><span class="comment"># 统计某个元素在列表中出现的次数</span></span><br><span class="line">list7 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>]</span><br><span class="line">print(list7.count(<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># max(list)</span></span><br><span class="line"><span class="comment"># 返回列表中元素的最大值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># min(list)</span></span><br><span class="line"><span class="comment"># 返回列表中元素的最小值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># reverse()</span></span><br><span class="line"><span class="comment"># 倒序列表中元素</span></span><br><span class="line">list8 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>]</span><br><span class="line">list8.reverse()</span><br><span class="line">print(list8)</span><br><span class="line"></span><br><span class="line"><span class="comment"># sort([func])</span></span><br><span class="line">list9 = [<span class="number">4</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">5</span>]</span><br><span class="line">list9.sort()</span><br><span class="line">list9.reverse()</span><br><span class="line">print(list9)</span><br><span class="line"></span><br><span class="line"><span class="comment"># list(seq)</span></span><br><span class="line"><span class="comment"># 转为列表  字符串、元组、集合</span></span><br><span class="line">print(list(<span class="string">"sunck"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># copy()</span></span><br><span class="line"><span class="comment"># 拷贝</span></span><br></pre></td></tr></table></figure>

<h3 id="浅拷贝与深拷贝"><a href="#浅拷贝与深拷贝" class="headerlink" title="浅拷贝与深拷贝"></a>浅拷贝与深拷贝</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> copy <span class="keyword">import</span> copy, deepcopy</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">==：判断的是值</span></span><br><span class="line"><span class="string">is：判断的是内存地址</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="comment"># num1 = 300</span></span><br><span class="line"><span class="comment"># num2 = 300</span></span><br><span class="line"><span class="comment"># print(id(num1), id(num2))</span></span><br><span class="line"><span class="comment"># print(num1 == num2)</span></span><br><span class="line"><span class="comment"># print(num1 is num2)</span></span><br></pre></td></tr></table></figure>

<h4 id="小整数对象"><a href="#小整数对象" class="headerlink" title="小整数对象"></a>小整数对象</h4><p>小整数对象：[-5, 256]</p>
<blockquote>
<p> 最好在python环境中演示，pycharm进行了其他的优化</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># a = [1,2,3,4,5,[7,8,9]]</span></span><br><span class="line"><span class="comment"># b = a</span></span><br><span class="line"><span class="comment"># print(b == a)</span></span><br><span class="line"><span class="comment"># print(b is a)</span></span><br><span class="line"><span class="comment"># a[5][1] = 100</span></span><br><span class="line"><span class="comment"># print(a, b)</span></span><br><span class="line"><span class="comment"># print(id(a), id(b))</span></span><br><span class="line"><span class="comment"># print(id(a[5]), id(b[5]))</span></span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]</span><br><span class="line"><span class="comment">#深浅拷贝的区分的前提是列表中要有其他列表</span></span><br><span class="line"><span class="comment">#浅拷贝：只拷贝表层元素</span></span><br><span class="line"><span class="comment"># copy</span></span><br><span class="line">b = copy(a)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#深拷贝：在内存中重新创建所有子元素</span></span><br><span class="line"><span class="comment"># deepcopy</span></span><br><span class="line">c = deepcopy(a)</span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">print(a, b, c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(b == a)</span></span><br><span class="line"><span class="comment"># print(b is a)</span></span><br><span class="line"><span class="comment"># print(c == a)</span></span><br><span class="line"><span class="comment"># print(c is a)</span></span><br><span class="line"><span class="comment"># print(id(a[1]), id(b[1]), id(c[1]))</span></span><br><span class="line"><span class="comment"># print(id(a), id(b), id(c))</span></span><br><span class="line"><span class="comment"># print(id(a[3]), id(b[3]), id(c[3]))</span></span><br><span class="line"><span class="comment"># print(id(a[3][1]), id(b[3][1]), id(c[3][1]))</span></span><br></pre></td></tr></table></figure>

<h2 id="tuple-元组"><a href="#tuple-元组" class="headerlink" title="tuple(元组)"></a>tuple(元组)</h2><p>本质：是一种有序集合</p>
<p>特性：</p>
<p>​    1、与列表非常类似</p>
<p>​    2、一旦初始化就不能修改</p>
<p>​    3、使用小括号</p>
<h3 id="创建元组"><a href="#创建元组" class="headerlink" title="创建元组"></a>创建元组</h3><p>元组名 = (元组选项1, 元组选项2, ……, 元组选项n)</p>
<h4 id="创建空元组"><a href="#创建空元组" class="headerlink" title="创建空元组"></a>创建空元组</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">t1 = ()</span><br><span class="line">print(t1)</span><br><span class="line"><span class="comment"># 定义带元素的元组</span></span><br><span class="line"><span class="comment"># 元素类型可以不同</span></span><br><span class="line">t2 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">"good"</span>)</span><br><span class="line">print(t2)</span><br><span class="line"><span class="comment"># 定义含有一个元素的元组</span></span><br><span class="line"><span class="comment"># 注意：加个逗号</span></span><br><span class="line">t3 = (<span class="number">1</span>,)</span><br><span class="line">print(t3)</span><br></pre></td></tr></table></figure>

<h4 id="元组元素的访问"><a href="#元组元素的访问" class="headerlink" title="元组元素的访问"></a>元组元素的访问</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#取值  元组名[下标]</span></span><br><span class="line">t4 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">print(t4[<span class="number">1</span>])</span><br><span class="line"><span class="comment"># print(t4[5]) #下标越界</span></span><br><span class="line">print(t4[<span class="number">-1</span>])</span><br><span class="line">print(t4[<span class="number">-5</span>])</span><br><span class="line"><span class="comment"># print(t4[-6])  # 下标越界</span></span><br><span class="line"><span class="comment">#修改元组,元组的元素不能修改，但是元素如果是个列表那么可以修改这个列表</span></span><br><span class="line">t5 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>])</span><br><span class="line"><span class="comment"># t5[5] = [8,7,6]</span></span><br><span class="line">t5[<span class="number">5</span>][<span class="number">1</span>] = <span class="number">100</span></span><br><span class="line">print(t5)</span><br></pre></td></tr></table></figure>

<h4 id="元组的操作"><a href="#元组的操作" class="headerlink" title="元组的操作"></a>元组的操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#元祖的组合</span></span><br><span class="line">t6 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">t7 = (<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">print(t6 + t7)</span><br><span class="line"><span class="comment">#元组重复</span></span><br><span class="line">print(t6 * <span class="number">3</span>)</span><br><span class="line"><span class="comment"># 元组截取（切片）</span></span><br><span class="line"><span class="comment"># 与列表、字符串向类似</span></span><br><span class="line">t8 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>)</span><br><span class="line">print(t8[<span class="number">2</span>:<span class="number">7</span>])</span><br></pre></td></tr></table></figure>

<h4 id="元组的方法"><a href="#元组的方法" class="headerlink" title="元组的方法"></a>元组的方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># len(tuple)</span></span><br><span class="line"><span class="comment"># 返回元组的元素个数</span></span><br><span class="line">t9 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">print(len(t9))</span><br><span class="line"></span><br><span class="line"><span class="comment"># max(tuple)</span></span><br><span class="line"><span class="comment"># min(tuple)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tuple(seq)</span></span><br><span class="line"><span class="comment"># 将集合转为元组</span></span><br><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">t10 = tuple(l)</span><br><span class="line">print(t10)</span><br></pre></td></tr></table></figure>

<h2 id="条件控制语句"><a href="#条件控制语句" class="headerlink" title="条件控制语句"></a>条件控制语句</h2><ul>
<li>if语句</li>
<li>if-else 语句</li>
<li>if-elif-else语句</li>
</ul>
<p>格式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 表达式<span class="number">1</span>:</span><br><span class="line">    语句<span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> 表达式<span class="number">2</span>:</span><br><span class="line">    语句<span class="number">2</span></span><br><span class="line">...........</span><br><span class="line"><span class="keyword">elif</span> 表达式n:</span><br><span class="line">    语句n</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    语句e</span><br></pre></td></tr></table></figure>

<p><strong>逻辑</strong>：当程序执行到if-elif-else语句时，首先计算“表达式1”的值，如果“表达式1”的值为真，则执行“语句1”，执行完“语句1”则结束整个if-elif-else语句继续向下执行。如果“表达式1”的值为假，则计算“表达式2”的值，如果“表达式2”的值为真，则执行“语句2”，执行完“语句2”则结束整个if-elif-else语句继续向下执行。如果“表达式2”的值为假，则计算“表达式3”的值。如此进行下去，直到某个表达式的值为真为止。如果所有的表达式都为假，且有else语句则执行“语句e”</p>
<blockquote>
<p>从该控制台输入一个年龄</p>
<p>小于0    输入有误<br>0<del>1      婴儿<br>2</del>6      幼儿<br>7<del>14     儿童<br>15</del>18    少年<br>19<del>30    青年<br>31</del>40    壮年<br>41<del>50    中年<br>51</del>150   老年<br>151~     妖精</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">age = int(input(<span class="string">"输入一个年龄:"</span>))</span><br><span class="line"><span class="keyword">if</span> age &lt;= <span class="number">0</span>:</span><br><span class="line">    print(<span class="string">"输入错误"</span>)</span><br><span class="line"><span class="keyword">if</span>  age &gt; <span class="number">0</span> <span class="keyword">and</span> age &lt;= <span class="number">1</span>:</span><br><span class="line">    print(<span class="string">"婴儿"</span>)</span><br><span class="line"><span class="keyword">if</span>  age &gt;= <span class="number">2</span> <span class="keyword">and</span> age &lt;= <span class="number">6</span>:</span><br><span class="line">    print(<span class="string">"幼儿"</span>)</span><br><span class="line"><span class="keyword">if</span>  age &gt;= <span class="number">7</span> <span class="keyword">and</span> age &lt;= <span class="number">14</span>:</span><br><span class="line">    print(<span class="string">"儿童"</span>)</span><br><span class="line"><span class="keyword">if</span>  age &gt;= <span class="number">15</span> <span class="keyword">and</span> age &lt;= <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">"少年"</span>)</span><br><span class="line"><span class="keyword">if</span>  age &gt;= <span class="number">19</span> <span class="keyword">and</span> age &lt;= <span class="number">30</span>:</span><br><span class="line">	print(<span class="string">"青年"</span>)</span><br><span class="line"><span class="keyword">if</span>  age &gt;= <span class="number">31</span> <span class="keyword">and</span> age &lt;= <span class="number">40</span>:</span><br><span class="line">    print(<span class="string">"壮年"</span>)</span><br><span class="line"><span class="keyword">if</span>  age &gt;= <span class="number">41</span> <span class="keyword">and</span> age &lt;= <span class="number">50</span>:</span><br><span class="line">    print(<span class="string">"中年"</span>)</span><br><span class="line"><span class="keyword">if</span>  age &gt;= <span class="number">51</span> <span class="keyword">and</span> age &lt;= <span class="number">150</span>:</span><br><span class="line">    print(<span class="string">"老年"</span>)</span><br><span class="line"><span class="keyword">if</span>  age &gt; <span class="number">150</span>:</span><br><span class="line">    print(<span class="string">"妖怪"</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>if-else 语句</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> age &lt;= <span class="number">0</span>:</span><br><span class="line">    print(<span class="string">"输入错误"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &gt; <span class="number">0</span> <span class="keyword">and</span> age &lt;= <span class="number">1</span>:</span><br><span class="line">    print(<span class="string">"婴儿"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &gt;= <span class="number">2</span> <span class="keyword">and</span> age &lt;= <span class="number">6</span>:</span><br><span class="line">    print(<span class="string">"幼儿"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &gt;= <span class="number">7</span> <span class="keyword">and</span> age &lt;= <span class="number">14</span>:</span><br><span class="line">    print(<span class="string">"儿童"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &gt;= <span class="number">15</span> <span class="keyword">and</span> age &lt;= <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">"少年"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &gt;= <span class="number">19</span> <span class="keyword">and</span> age &lt;= <span class="number">30</span>:</span><br><span class="line">    print(<span class="string">"青年"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &gt;= <span class="number">31</span> <span class="keyword">and</span> age &lt;= <span class="number">40</span>:</span><br><span class="line">    print(<span class="string">"壮年"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &gt;= <span class="number">41</span> <span class="keyword">and</span> age &lt;= <span class="number">50</span>:</span><br><span class="line">    print(<span class="string">"中年"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &gt;= <span class="number">51</span> <span class="keyword">and</span> age &lt;= <span class="number">150</span>:</span><br><span class="line">    print(<span class="string">"老年"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"妖怪"</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>if-elif-else语句</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> age &lt;= <span class="number">0</span>:</span><br><span class="line">    print(<span class="string">"输入错误"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &lt;= <span class="number">1</span>:</span><br><span class="line">    print(<span class="string">"婴儿"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &lt;= <span class="number">6</span>:</span><br><span class="line">    print(<span class="string">"幼儿"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &lt;= <span class="number">14</span>:</span><br><span class="line">    print(<span class="string">"儿童"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &lt;= <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">"少年"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &lt;= <span class="number">30</span>:</span><br><span class="line">    print(<span class="string">"青年"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &lt;= <span class="number">40</span>:</span><br><span class="line">    print(<span class="string">"壮年"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &lt;= <span class="number">50</span>:</span><br><span class="line">    print(<span class="string">"中年"</span>)</span><br><span class="line"><span class="keyword">elif</span>  age &lt;= <span class="number">150</span>:</span><br><span class="line">    print(<span class="string">"老年"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"妖怪"</span>)</span><br></pre></td></tr></table></figure>

<h2 id="循环语句while"><a href="#循环语句while" class="headerlink" title="循环语句while"></a>循环语句while</h2><p><strong>格式：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 表达式:</span><br><span class="line"></span><br><span class="line">    语句</span><br></pre></td></tr></table></figure>

<p><strong>逻辑</strong>：当程序执行到while语句时，首先计算表达式的值，如果表达式的值为假，则跳过整个while语句继续向下执行。如果表达式的值为真，则执行语句，执行完语句再计算表达式的值。如果表达式的值为假，则跳过整个while语句继续向下执行。如果表达式的值为真，则执行语句，执行完语句在计算表达式的值，如此循环往复直到表达式的值为假才停止。</p>
<blockquote>
<p>打印5句hello world</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> index &lt; <span class="number">5</span>:</span><br><span class="line">    print(<span class="string">"hello world"</span>)</span><br><span class="line">    index += <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hello world</span><br><span class="line">hello world</span><br><span class="line">hello world</span><br><span class="line">hello world</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>

<blockquote>
<p>求1+2+3+……+100的和</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">1</span></span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> index &lt;= <span class="number">100</span>:</span><br><span class="line">    sum = sum + index</span><br><span class="line">    index += <span class="number">1</span></span><br><span class="line">print(<span class="string">"sum = %d"</span>%sum)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sum = <span class="number">5050</span></span><br></pre></td></tr></table></figure>

<p><strong>死循环：表达式永远为真的循环</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    print(<span class="string">"hello world!"</span>)</span><br></pre></td></tr></table></figure>

<h3 id="使用while-else语句"><a href="#使用while-else语句" class="headerlink" title="使用while-else语句"></a>使用while-else语句</h3><p>格式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 表达式:</span><br><span class="line">    语句<span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    语句<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>逻辑：</strong>在表达式的值为False时执行else语句中的语句2</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> a &lt; <span class="number">5</span>:</span><br><span class="line">    print(<span class="string">"This is an apple."</span>)</span><br><span class="line">    a += <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"This is a banana."</span>)</span><br></pre></td></tr></table></figure>

<h2 id="循环语句-for"><a href="#循环语句-for" class="headerlink" title="循环语句 for"></a>循环语句 for</h2><p>格式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 集合:</span><br><span class="line">    语句</span><br></pre></td></tr></table></figure>

<p><strong>逻辑：</strong>当程序执行到for语句时，按顺序取“集合”中的每个元素赋值给“变量”，在执行“语句”。如此循环往复，直到取完集合中的元素为止。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]:</span><br><span class="line">    <span class="comment"># print("x = %d"%x)</span></span><br><span class="line">    print(<span class="string">"This is an apple."</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">This <span class="keyword">is</span> an apple.</span><br><span class="line">This <span class="keyword">is</span> an apple.</span><br><span class="line">This <span class="keyword">is</span> an apple.</span><br><span class="line">This <span class="keyword">is</span> an apple.</span><br><span class="line">This <span class="keyword">is</span> an apple.</span><br></pre></td></tr></table></figure>

<h3 id="列表生成器"><a href="#列表生成器" class="headerlink" title="列表生成器"></a>列表生成器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># range([startNum,]endNum[, step])</span></span><br><span class="line"><span class="comment"># startNum：开始的数字，默认为0</span></span><br><span class="line"><span class="comment"># endNum：结束的数字，不包含在内</span></span><br><span class="line"><span class="comment"># step: 步长，默认为1</span></span><br><span class="line"><span class="comment"># [1,2,3,4,5]</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">6</span>):</span><br><span class="line">    print(<span class="string">"x = %d"</span>%x)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1</span></span><br><span class="line">x = <span class="number">2</span></span><br><span class="line">x = <span class="number">3</span></span><br><span class="line">x = <span class="number">4</span></span><br><span class="line">x = <span class="number">5</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>求1+2+3+……+100的和</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">101</span>):</span><br><span class="line">    sum += i</span><br><span class="line">print(<span class="string">"sum = %d"</span>%sum)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sum = <span class="number">5050</span></span><br></pre></td></tr></table></figure>

<p><strong>同时遍历下标和元素</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index, x <span class="keyword">in</span> enumerate([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]):</span><br><span class="line">    print(index, x)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h3 id="pass语句"><a href="#pass语句" class="headerlink" title="pass语句"></a>pass语句</h3><p>作用：当语句要求不希望任何命令或代码来执行</p>
<p>说明：pass语句时一个空操作，在执行时没有任何响应。pass也是代码最终会用的，但是暂时写不出来</p>
<p>使用在 if语句、while语句、for语句、函数、类等位置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="break"><a href="#break" class="headerlink" title="break"></a>break</h3><p>作用：跳出循环</p>
<p>注意：只能跳出距离最近的for或者while</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]:</span><br><span class="line">    <span class="keyword">if</span> x == <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    print(<span class="string">"x = %d"</span>%x)</span><br><span class="line">print(<span class="string">"-------------------"</span>)</span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]:</span><br><span class="line">    print(<span class="string">"m = %d"</span>%m)</span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]:</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        print(<span class="string">"n = %d"</span>%n)</span><br></pre></td></tr></table></figure>

<p><strong>循环语句可以有else语句，表达式错误导致循环终止时被执行，但循环被break终止时else语句不执行</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> index &lt; <span class="number">3</span>:</span><br><span class="line">    print(<span class="string">"index = %d"</span>%index)</span><br><span class="line">    index += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> index == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"循环结束了"</span>)</span><br><span class="line">    print(<span class="string">"---------------------------------"</span>)</span><br></pre></td></tr></table></figure>

<h3 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h3><p>作用：跳过本次循环快中的剩余语句，然后继续下一次循环</p>
<p>注意：只能跳过距离最近的for或者while</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]:</span><br><span class="line">    <span class="keyword">if</span> x == <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    print(<span class="string">"x = %d"</span>%x)</span><br><span class="line">print(<span class="string">"-------------------"</span>)</span><br></pre></td></tr></table></figure>

<p><strong>代码嵌套，层级要明确，嵌套最多在6、7层左右，最好3层</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]:</span><br><span class="line">    print(<span class="string">"m = %d"</span>%m)</span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]:</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        print(<span class="string">"n = %d"</span>%n)</span><br></pre></td></tr></table></figure>

<h2 id="dict-字典"><a href="#dict-字典" class="headerlink" title="dict(字典)"></a>dict(字典)</h2><p>使用键-值对(key-value)的形式存储数据，具有极快的查找速度</p>
<p>可以的特性：</p>
<p>​    1、字典中的key必须唯一</p>
<p>​    2、key必须是不可变对象</p>
<p>​        a、字符串、整数等都是不可变的，可以作为key</p>
<p>​        b、列表时可变的，不能作为key</p>
<p>​    3、key一般为字符串</p>
<blockquote>
<p>保存一个学生的基本信息(姓名、性别、年龄、升高、体重)</p>
<p>stu1 = [“natasha”, “男”, 18, 188, 75]</p>
<p>stu2 = [“女”, “mary”, 48, 18, 177]</p>
</blockquote>
<p>解决：使用字典</p>
<p>注意：字典中的键值对是无序的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建字典存储一个学生的基本信息</span></span><br><span class="line"><span class="comment"># &#123;key1:value,key2:value2,……,keyn:valuen&#125;</span></span><br><span class="line">stu1 = &#123;<span class="string">"name"</span>: <span class="string">"natasha"</span>, <span class="string">"age"</span>: <span class="number">18</span>, <span class="string">"sex"</span>: <span class="string">"男"</span>, <span class="string">"height"</span>: <span class="number">188</span>, <span class="string">"weight"</span>: <span class="number">75</span>&#125;</span><br><span class="line">stu2 = &#123;<span class="string">"name"</span>: <span class="string">"mary"</span>, <span class="string">"age"</span>: <span class="number">18</span>, <span class="string">"sex"</span>: <span class="string">"女"</span>, <span class="string">"height"</span>: <span class="number">177</span>, <span class="string">"weight"</span>: <span class="number">48</span>&#125;</span><br><span class="line">stus = [stu1, stu2]</span><br><span class="line">print(stu2)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'mary'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'sex'</span>: <span class="string">'女'</span>, <span class="string">'height'</span>: <span class="number">177</span>, <span class="string">'weight'</span>: <span class="number">48</span>&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#元素的访问</span></span><br><span class="line">stu3 = &#123;<span class="string">"name"</span>: <span class="string">"mary"</span>, <span class="string">"age"</span>: <span class="number">18</span>, <span class="string">"sex"</span>: <span class="string">"女"</span>, <span class="string">"height"</span>: <span class="number">177</span>, <span class="string">"weight"</span>: <span class="number">48</span>&#125;</span><br><span class="line"><span class="comment">#获取    字典名[key]    字典.get(key)</span></span><br><span class="line">print(stu3[<span class="string">"name"</span>])</span><br><span class="line"><span class="comment"># print(stu3["score"]) #获取的键不存在会报错</span></span><br><span class="line">score = stu3.get(<span class="string">"score"</span>)</span><br><span class="line"><span class="keyword">if</span> score:</span><br><span class="line">    print(<span class="string">"分数为：%.2f"</span>%score)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"学生没有这个属性"</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#添加  如果键不存在则增加属性，否则覆盖原数据</span></span><br><span class="line">stu3[<span class="string">"socre"</span>] = <span class="number">99.99</span></span><br><span class="line">stu3[<span class="string">"height"</span>] = <span class="number">180</span></span><br><span class="line">print(stu3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除</span></span><br><span class="line">stu3.pop(<span class="string">"socre"</span>)</span><br><span class="line">print(stu3)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"-----------------------"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#遍历</span></span><br><span class="line">stu4 = &#123;<span class="string">"name"</span>: <span class="string">"mary"</span>, <span class="string">"age"</span>: <span class="number">18</span>, <span class="string">"sex"</span>: <span class="string">"女"</span>, <span class="string">"height"</span>: <span class="number">177</span>, <span class="string">"weight"</span>: <span class="number">48</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> stu4:</span><br><span class="line">    print(key)</span><br><span class="line">print(<span class="string">"--------"</span>)</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> stu4.values():</span><br><span class="line">    print(value)</span><br><span class="line">print(<span class="string">"--------"</span>)</span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> stu4.items():</span><br><span class="line">    print(key+<span class="string">": "</span>+str(value))</span><br><span class="line">print(<span class="string">"--------"</span>)</span><br><span class="line"><span class="keyword">for</span> index, key <span class="keyword">in</span> enumerate(stu3):</span><br><span class="line">    print(index, key)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">mary</span><br><span class="line">学生没有这个属性</span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'mary'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'sex'</span>: <span class="string">'女'</span>, <span class="string">'height'</span>: <span class="number">180</span>, <span class="string">'weight'</span>: <span class="number">48</span>, <span class="string">'socre'</span>: <span class="number">99.99</span>&#125;</span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'mary'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'sex'</span>: <span class="string">'女'</span>, <span class="string">'height'</span>: <span class="number">180</span>, <span class="string">'weight'</span>: <span class="number">48</span>&#125;</span><br><span class="line">-----------------------</span><br><span class="line">name</span><br><span class="line">age</span><br><span class="line">sex</span><br><span class="line">height</span><br><span class="line">weight</span><br><span class="line">--------</span><br><span class="line">mary</span><br><span class="line"><span class="number">18</span></span><br><span class="line">女</span><br><span class="line"><span class="number">177</span></span><br><span class="line"><span class="number">48</span></span><br><span class="line">--------</span><br><span class="line">name: mary</span><br><span class="line">age: <span class="number">18</span></span><br><span class="line">sex: 女</span><br><span class="line">height: <span class="number">177</span></span><br><span class="line">weight: <span class="number">48</span></span><br><span class="line">--------</span><br><span class="line"><span class="number">0</span> name</span><br><span class="line"><span class="number">1</span> age</span><br><span class="line"><span class="number">2</span> sex</span><br><span class="line"><span class="number">3</span> height</span><br><span class="line"><span class="number">4</span> weight</span><br></pre></td></tr></table></figure>

<h3 id="比较list和dict"><a href="#比较list和dict" class="headerlink" title="比较list和dict"></a>比较list和dict</h3><p>dict</p>
<p>​    优点：查找和插入的速度极快，不会随着key的增多而降低效率</p>
<p>​    缺点：需要占用大量的内存，内存浪费过多</p>
<p>list</p>
<p>​    优点：占用内存空间小，浪费内存很少</p>
<p>​    缺点：查找和插入的时间会随着元素的增加而增加</p>
<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><p>与dict类似，是一组key的集合(不存储value)</p>
<p>本质：无序和无重复的集合</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建:需要用一个list或者tuple作为输入集合</span></span><br><span class="line"><span class="comment"># 注意列表中的重复元素会被过滤掉</span></span><br><span class="line">s1 = set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">print(s1)</span><br><span class="line"><span class="comment"># 列表去重</span></span><br><span class="line">numList = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">numList = list(set(numList))</span><br><span class="line">print(numList)</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加</span></span><br><span class="line">s2 = set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="comment"># 插入list、字符串、元组的每个元素</span></span><br><span class="line"><span class="comment"># iterable 可迭代对象</span></span><br><span class="line"><span class="comment"># s2.update("sunck")</span></span><br><span class="line"><span class="comment"># s2.update([6,7,8])</span></span><br><span class="line"><span class="comment"># s2.update((6,7,8))</span></span><br><span class="line"><span class="comment"># 不能直接插入数字</span></span><br><span class="line"><span class="comment"># s2.update(9)</span></span><br><span class="line">print(s2)</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除</span></span><br><span class="line">s3 = set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="comment"># 从左侧开始删除</span></span><br><span class="line">print(s3.pop())</span><br><span class="line"><span class="comment"># 删除对应的元素，如果元素不存在会报KeyError的异常</span></span><br><span class="line">s3.remove(<span class="number">3</span>)</span><br><span class="line">print(s3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#遍历</span></span><br><span class="line">s4 = set([<span class="number">6</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> s4:</span><br><span class="line">    print(key)</span><br><span class="line">print(<span class="string">"------"</span>)</span><br><span class="line"><span class="keyword">for</span> index, key <span class="keyword">in</span> enumerate(s4):</span><br><span class="line">    print(index, key)</span><br><span class="line"></span><br><span class="line"><span class="comment">#交集与并集</span></span><br><span class="line">s5 = set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">s6 = set([<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>])</span><br><span class="line"><span class="comment"># 交集</span></span><br><span class="line">print(s5 &amp; s6)</span><br><span class="line"><span class="comment"># 并集</span></span><br><span class="line">print(s5 | s6)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="number">1</span></span><br><span class="line">&#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line">------</span><br><span class="line"><span class="number">0</span> <span class="number">2</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">4</span></span><br><span class="line"><span class="number">3</span> <span class="number">5</span></span><br><span class="line"><span class="number">4</span> <span class="number">6</span></span><br><span class="line">&#123;<span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br></pre></td></tr></table></figure>

<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><p>list和tuple中的元素不能存在可变对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">list、tuple、string--&gt;set</span><br><span class="line">set()</span><br><span class="line"></span><br><span class="line">tuple、set、string--&gt;list</span><br><span class="line">list()</span><br><span class="line"></span><br><span class="line">list、set、string--&gt;tuple</span><br><span class="line">tuple()</span><br></pre></td></tr></table></figure>


      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/5.python--第三章/" data-id="ck6akysgf00318wu62uidblel"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-5.linux--MariaDB数据库" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/5.linux--MariaDB数据库/"
    >MariaDB数据库</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/5.linux--MariaDB数据库/" class="article-date">
  <time datetime="2019-08-29T15:44:18.545Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux进阶/">linux进阶</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; print(&quot;👆以上是不完整的我&quot;) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>[toc]</p>
<h2 id="MariaDB数据库"><a href="#MariaDB数据库" class="headerlink" title="MariaDB数据库"></a>MariaDB数据库</h2><p>​        开发MariaDB数据库的开发人员以前是从事开发MySQL，但是MySQL被Oracle公司收购了，从开源软件转变为闭源软件，之后MySQL的开发者们就离开了公司，再次创建了一个名为MariaDB的数据库，可以说，MariaDB和MySQL在性能上基本保持一致，两者的操作命令也十分相似。从务实的角度来讲，在掌握了MariaDB数据库的命令和基本操作之后，在今后的工作中即使遇到MySQL数据库，也可以快速上手。</p>
<p><a href="https://baike.baidu.com/item/mariaDB/6466119?fr=aladdin" target="_blank" rel="noopener">MariaDB-百度百科</a></p>
<p><a href="https://mariadb.org/" target="_blank" rel="noopener">MariaDB</a></p>
<p>​        当前，谷歌、维基百科等技术领域决定将MySQL数据库上的业务转移到MariaDB数据库，Linux开源系统的领袖<a href="https://www.linuxprobe.com/" target="_blank" rel="noopener">红帽</a>公司也决定在RHEL 7、<a href="https://www.linuxprobe.com/" target="_blank" rel="noopener">CentOS</a> 7以及最新的Fedora系统中，将MariaDB作为默认的数据库管理系统，而且<a href="https://www.linuxprobe.com/" target="_blank" rel="noopener">红帽</a>公司更是首次将数据库知识加入到了<a href="https://www.linuxprobe.com/" target="_blank" rel="noopener">RHCE</a>认证的考试内容中。随后，还有数十个常见的Linux系统（如openSUSE、Slackware等）也作出了同样的表态。</p>
<p><img src="https://s2.ax1x.com/2019/07/01/Z819C8.png" alt></p>
<h2 id="初始化MariaDB服务"><a href="#初始化MariaDB服务" class="headerlink" title="初始化MariaDB服务"></a>初始化MariaDB服务</h2><p>​        相较于MySQL，MariaDB数据库管理系统有了很多新鲜的扩展特性，例如对微秒级别的支持、线程池、子查询优化、进程报告等。在配置妥当Yum软件仓库后，即可安装部署MariaDB数据库主程序及服务端程序了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># tail -n 1 /etc/fstab</span></span><br><span class="line">/dev/cdrom      /mnt/cdrom      iso9660                 defaults        0 0</span><br><span class="line">[root@server222 ~]<span class="comment"># mount -a</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># yum install -y mariadb mariadb-server</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>安装完成后加入到开机启动项</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># systemctl restart mariadb</span></span><br><span class="line">[root@server222 ~]<span class="comment"># systemctl enable mariadb</span></span><br></pre></td></tr></table></figure>

<p><strong>初始化5步骤</strong></p>
<ol>
<li>设置root管理员在数据库中的密码值（注意，该密码并非root管理员在系统中的密码，这里的密码值默认应该为空，可直接按回车键）。</li>
<li>设置root管理员在数据库中的专有密码。</li>
<li>随后删除匿名账户，并使用root管理员从远程登录数据库，以确保数据库上运行的业务的安全性。</li>
<li>删除默认的测试数据库，取消测试数据库的一系列访问权限。</li>
<li>刷新授权列表，让初始化的设定立即生效。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># mysql_secure_installation</span></span><br><span class="line"></span><br><span class="line">NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB</span><br><span class="line">      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!</span><br><span class="line"></span><br><span class="line">In order to <span class="built_in">log</span> into MariaDB to secure it, we<span class="string">'ll need the current</span></span><br><span class="line"><span class="string">password for the root user.  If you'</span>ve just installed MariaDB, and</span><br><span class="line">you haven<span class="string">'t set the root password yet, the password will be blank,</span></span><br><span class="line"><span class="string">so you should just press enter here.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Enter current password for root (enter for none): #当前数据库密码为空，直接回车</span></span><br><span class="line"><span class="string">OK, successfully used password, moving on...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Setting the root password ensures that nobody can log into the MariaDB</span></span><br><span class="line"><span class="string">root user without the proper authorisation.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Set root password? [Y/n] y</span></span><br><span class="line"><span class="string">New password: # 设置创建数据库管理员密码</span></span><br><span class="line"><span class="string">Re-enter new password: #再次输入密码</span></span><br><span class="line"><span class="string">Password updated successfully!</span></span><br><span class="line"><span class="string">Reloading privilege tables..</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">By default, a MariaDB installation has an anonymous user, allowing anyone</span></span><br><span class="line"><span class="string">to log into MariaDB without having to have a user account created for</span></span><br><span class="line"><span class="string">them.  This is intended only for testing, and to make the installation</span></span><br><span class="line"><span class="string">go a bit smoother.  You should remove them before moving into a</span></span><br><span class="line"><span class="string">production environment.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Remove anonymous users? [Y/n] y #删除匿名账户</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Normally, root should only be allowed to connect from '</span>localhost<span class="string">'.  This</span></span><br><span class="line"><span class="string">ensures that someone cannot guess at the root password from the network.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Disallow root login remotely? [Y/n] y # 禁止root管理员从远程登陆</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">By default, MariaDB comes with a database named '</span><span class="built_in">test</span><span class="string">' that anyone can</span></span><br><span class="line"><span class="string">access.  This is also intended only for testing, and should be removed</span></span><br><span class="line"><span class="string">before moving into a production environment.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Remove test database and access to it? [Y/n] y #删除text数据库并取消对它的访问权限</span></span><br><span class="line"><span class="string"> - Dropping test database...</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"> - Removing privileges on test database...</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Reloading the privilege tables will ensure that all changes made so far</span></span><br><span class="line"><span class="string">will take effect immediately.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Reload privilege tables now? [Y/n] y # 刷新授权表，让初始化后的设定立即生效</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Cleaning up...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">All done!  If you'</span>ve completed all of the above steps, your MariaDB</span><br><span class="line">installation should now be secure.</span><br><span class="line"></span><br><span class="line">Thanks <span class="keyword">for</span> using MariaDB!</span><br><span class="line">[root@server222 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<p>之后我们还要设置防火墙，使其放行对数据库服务程序的访问请求，数据库服务程序默认会占用3306端口，在防火墙策略中服务名称统一叫作mysql</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># firewall-cmd --permanent --add-service=mysql</span></span><br><span class="line">success</span><br><span class="line">[root@server222 ~]<span class="comment"># firewall-cmd --reload</span></span><br><span class="line">success</span><br></pre></td></tr></table></figure>

<p>最后，我们可以开始首次登陆MariaDB数据库</p>
<p>-u  指定哪一位用户登陆</p>
<p>-p 验证该用户在数据库中的密码值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># mysql -u root -p</span></span><br><span class="line">Enter password: <span class="comment">#此处输入您刚才设置的密码</span></span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 12</span><br><span class="line">Server version: 5.5.56-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在登陆MariaDB数据库执行命令时候，每一次都要在命令结尾以分号（;）结尾</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; SHOW databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">+--------------------+</span><br><span class="line">3 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="使用数据库命令更改密码"><a href="#使用数据库命令更改密码" class="headerlink" title="使用数据库命令更改密码"></a>使用数据库命令更改密码</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; SET password = PASSWORD(<span class="string">'abccba'</span>);</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">MariaDB [(none)]&gt; <span class="built_in">exit</span></span><br><span class="line">Bye</span><br><span class="line">[root@server222 ~]<span class="comment"># mysql -u root -p</span></span><br><span class="line">Enter password:</span><br><span class="line">ERROR 1045 (28000): Access denied <span class="keyword">for</span> user <span class="string">'root'</span>@<span class="string">'localhost'</span> (using password: YES)</span><br><span class="line">[root@server222 ~]<span class="comment"># mysql -u root -p</span></span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br></pre></td></tr></table></figure>

<h2 id="管理用户以及授权"><a href="#管理用户以及授权" class="headerlink" title="管理用户以及授权"></a>管理用户以及授权</h2><h4 id="创建专用的数据库管理账户"><a href="#创建专用的数据库管理账户" class="headerlink" title="创建专用的数据库管理账户"></a>创建专用的数据库管理账户</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [mysql]&gt; CREATE USER abc@localhost IDENTIFIED BY <span class="string">'123321'</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="查询账户"><a href="#查询账户" class="headerlink" title="查询账户"></a>查询账户</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; use mysql</span><br><span class="line">Reading table information <span class="keyword">for</span> completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; SELECT HOST,USER,PASSWORD FROM user WHERE USER=<span class="string">"abc"</span>;</span><br><span class="line">+-----------+------+-------------------------------------------+</span><br><span class="line">| HOST      | USER | PASSWORD                                  |</span><br><span class="line">+-----------+------+-------------------------------------------+</span><br><span class="line">| localhost | abc  | *437F1809645E0A92DAB553503D2FE21DB91270FD |</span><br><span class="line">+-----------+------+-------------------------------------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="授权：grant"><a href="#授权：grant" class="headerlink" title="授权：grant"></a>授权：grant</h4><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">GRANT 权限 ON 数据库.表单名称 TO 用户名@主机名</td>
<td align="center">对某个特定数据库中的特定表单给予授权</td>
</tr>
<tr>
<td align="center">GRANT 权限 ON 数据库.* TO 用户名@主机名</td>
<td align="center">对某个特定数据库中的所有表单给予授权</td>
</tr>
<tr>
<td align="center">GRANT 权限 ON <em>.</em> TO 用户名@主机名</td>
<td align="center">对所有数据库及所有表单给予授权</td>
</tr>
<tr>
<td align="center">GRANT 权限1,权限2 ON 数据库.* TO 用户名@主机名</td>
<td align="center">对某个数据库中的所有表单给予多个授权</td>
</tr>
<tr>
<td align="center">GRANT ALL PRIVILEGES ON <em>.</em> TO 用户名@主机名</td>
<td align="center">对所有数据库及所有表单给予全部授权（需谨慎操作）</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; use mysql;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line">MariaDB [mysql]&gt; GRANT SELECT,UPDATE,DELETE,INSERT ON mysql.user TO abc@localhost;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; SHOW GRANTS FOR abc@localhost;                                 +------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Grants for abc@localhost                                                                                   |</span><br><span class="line">+------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| GRANT USAGE ON *.* TO &apos;abc&apos;@&apos;localhost&apos; IDENTIFIED BY PASSWORD &apos;*437F1809645E0A92DAB553503D2FE21DB91270FD&apos; |</span><br><span class="line">| GRANT SELECT, INSERT, UPDATE, DELETE ON `mysql`.`user` TO &apos;abc&apos;@&apos;localhost&apos;                                |</span><br><span class="line">+------------------------------------------------------------------------------------------------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>经过一系列的操作，我们再切入到abc用户</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># mysql -u abc -p</span></span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 22</span><br><span class="line">Server version: 5.5.56-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; show database;</span><br><span class="line">ERROR 1064 (42000): You have an error <span class="keyword">in</span> your SQL syntax; check the manual that corresponds to your MariaDB server version <span class="keyword">for</span> the right syntax to use near <span class="string">'database'</span> at line 1</span><br><span class="line">MariaDB [(none)]&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">+--------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; use mysql</span><br><span class="line">Reading table information <span class="keyword">for</span> completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line">MariaDB [mysql]&gt; show tables;</span><br><span class="line">+-----------------+</span><br><span class="line">| Tables_in_mysql |</span><br><span class="line">+-----------------+</span><br><span class="line">| user            |</span><br><span class="line">+-----------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="收回权限命令：revoke"><a href="#收回权限命令：revoke" class="headerlink" title="收回权限命令：revoke"></a>收回权限命令：revoke</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># mysql -u root -p</span></span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 24</span><br><span class="line">Server version: 5.5.56-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; use mysql;</span><br><span class="line">Reading table information <span class="keyword">for</span> completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line">MariaDB [mysql]&gt; REVOKE SE</span><br><span class="line">SECOND              SELECT              SERIALIZABLE</span><br><span class="line">SECOND_MICROSECOND  SENSITIVE           SESSION</span><br><span class="line">SECURITY            SEPARATOR           SESSION_USER</span><br><span class="line">SEC_TO_TIME         SERIAL              SET</span><br><span class="line">MariaDB [mysql]&gt; REVOKE SELECT</span><br><span class="line">Display all 1116 possibilities? (y or n)</span><br><span class="line">MariaDB [mysql]&gt; REVOKE SELECT,UPDATE,DELETE,INSERT ON mysql.user FROM abc@localhost;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; SHOW GRANTS FOR abc@localhost;</span><br><span class="line">+------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Grants <span class="keyword">for</span> abc@localhost                                                                                   |</span><br><span class="line">+------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| GRANT USAGE ON *.* TO <span class="string">'abc'</span>@<span class="string">'localhost'</span> IDENTIFIED BY PASSWORD <span class="string">'*437F1809645E0A92DAB553503D2FE21DB91270FD'</span> |</span><br><span class="line">+------------------------------------------------------------------------------------------------------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="创建数据库与表单"><a href="#创建数据库与表单" class="headerlink" title="创建数据库与表单"></a>创建数据库与表单</h2><h4 id="自定义数据库表结构"><a href="#自定义数据库表结构" class="headerlink" title="自定义数据库表结构"></a>自定义数据库表结构</h4><table>
<thead>
<tr>
<th align="center">用法</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">CREATE database 数据库名称。</td>
<td align="center">创建新的数据库</td>
</tr>
<tr>
<td align="center">DESCRIBE 表单名称;</td>
<td align="center">描述表单</td>
</tr>
<tr>
<td align="center">UPDATE 表单名称 SET attribute=新值 WHERE attribute &gt; 原始值;</td>
<td align="center">更新表单中的数据</td>
</tr>
<tr>
<td align="center">USE 数据库名称;</td>
<td align="center">指定使用的数据库</td>
</tr>
<tr>
<td align="center">SHOW databases;</td>
<td align="center">显示当前已有的数据库</td>
</tr>
<tr>
<td align="center">SHOW tables;</td>
<td align="center">显示当前数据库中的表单</td>
</tr>
<tr>
<td align="center">SELECT * FROM 表单名称;</td>
<td align="center">从表单中选中某个记录值</td>
</tr>
<tr>
<td align="center">DELETE FROM 表单名 WHERE attribute=值;</td>
<td align="center">从表单中删除某个记录值</td>
</tr>
</tbody></table>
<p>现在我们创建一个名为tom的数据库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; CREATE DATABASE tom;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; SHOW databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| tom                |</span><br><span class="line">+--------------------+</span><br><span class="line">4 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>想要创建数据表单，首先需要切换到指定的数据库中，我们现在在tom数据库中创建表单mybook。然后进行表单的初始化，即定义存储数据内容的结构。我们分别定义3个字段项，其中，长度为15个字符的字符型字段name用来存放图书名称，整型字段price和pages分别存储图书的价格和页数。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; use tom;</span><br><span class="line">Database changed</span><br><span class="line">MariaDB [tom]&gt; CREATE TABLE mybook (name char(15),price int,pages int);</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [tom]&gt; DESCRIBE mybook;</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">| Field | Type     | Null | Key | Default | Extra |</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">| name  | char(15) | YES  |     | NULL    |       |</span><br><span class="line">| price | int(11)  | YES  |     | NULL    |       |</span><br><span class="line">| pages | int(11)  | YES  |     | NULL    |       |</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">3 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [tom]&gt;</span><br></pre></td></tr></table></figure>

<h2 id="管理表单及数据"><a href="#管理表单及数据" class="headerlink" title="管理表单及数据"></a>管理表单及数据</h2><p>​        接下来向mybook数据表单中插一条图书信息。为此需要使用INSERT命令，并在命令中写清表单名称以及对应的字段项。执行该命令之后即可完成图书写入信息。下面我们使用该命令插入一条图书信息，其中书名为gelintonghua，价格和页数分别是60元和518页。在命令执行后也就意味着图书信息已经成功写入到数据表单中，然后就可以查询表单中的内容了。我们在使用select命令查询表单内容时，需要加上想要查询的字段。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [tom]&gt; INSERT INTO mybook(name,price,pages) VALUES(<span class="string">'gelintonghua'</span>,<span class="string">'60'</span>, <span class="string">'518'</span>);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>如果想查看表单中的所有内容，则可以使用星号（*）通配符来显示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [tom]&gt; select * from mybook;</span><br><span class="line">+--------------+-------+-------+</span><br><span class="line">| name         | price | pages |</span><br><span class="line">+--------------+-------+-------+</span><br><span class="line">| gelintonghua |    60 |   518 |</span><br><span class="line">+--------------+-------+-------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>更改图书的价格</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [tom]&gt; UPDATE mybook SET price=55 ;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [tom]&gt; SELECT name,price FROM mybook;</span><br><span class="line">+--------------+-------+</span><br><span class="line">| name         | price |</span><br><span class="line">+--------------+-------+</span><br><span class="line">| gelintonghua |    55 |</span><br><span class="line">+--------------+-------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [tom]&gt;</span><br></pre></td></tr></table></figure>

<h4 id="删除命令：delete"><a href="#删除命令：delete" class="headerlink" title="删除命令：delete"></a>删除命令：delete</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [tom]&gt; DELETE FROM mybook;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [tom]&gt; SELECT * FROM mybook;</span><br><span class="line">Empty <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="查询大于某一个数值的信息"><a href="#查询大于某一个数值的信息" class="headerlink" title="查询大于某一个数值的信息"></a>查询大于某一个数值的信息</h4><p>首先我们插入四条数据</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [tom]&gt; INSERT INTO mybook(name,price,pages) VALUES(<span class="string">'123'</span>,<span class="string">'30'</span>,<span class="string">'518'</span>);   Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [tom]&gt; INSERT INTO mybook(name,price,pages) VALUES(<span class="string">'456'</span>,<span class="string">'50'</span>,<span class="string">'518'</span>);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [tom]&gt; INSERT INTO mybook(name,price,pages) VALUES(<span class="string">'789'</span>,<span class="string">'80'</span>,<span class="string">'518'</span>);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [tom]&gt; INSERT INTO mybook(name,price,pages) VALUES(<span class="string">'101'</span>,<span class="string">'100'</span>,<span class="string">'518'</span>);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="命令where"><a href="#命令where" class="headerlink" title="命令where"></a>命令where</h4><table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">=</td>
<td align="center">相等</td>
</tr>
<tr>
<td align="center">&lt;&gt;或!=</td>
<td align="center">不相等</td>
</tr>
<tr>
<td align="center">&gt;</td>
<td align="center">大于</td>
</tr>
<tr>
<td align="center">&lt;</td>
<td align="center">小于</td>
</tr>
<tr>
<td align="center">&gt;=</td>
<td align="center">大于或等于</td>
</tr>
<tr>
<td align="center">&lt;=</td>
<td align="center">小于或等于</td>
</tr>
<tr>
<td align="center">BETWEEN</td>
<td align="center">在某个范围内</td>
</tr>
<tr>
<td align="center">LIKE</td>
<td align="center">搜索一个例子</td>
</tr>
<tr>
<td align="center">IN</td>
<td align="center">在列中搜索多个值</td>
</tr>
</tbody></table>
<p><strong>在mybook表单中查找出价格大于75元或价格不等于80元的图书</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [tom]&gt; SELECT * FROM mybook WHERE price&gt;75;</span><br><span class="line">+------+-------+-------+</span><br><span class="line">| name | price | pages |</span><br><span class="line">+------+-------+-------+</span><br><span class="line">| 789  |    80 |   518 |</span><br><span class="line">| 101  |   100 |   518 |</span><br><span class="line">+------+-------+-------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [tom]&gt;  SELECT * FROM mybook WHERE price!=80;</span><br><span class="line">+------+-------+-------+</span><br><span class="line">| name | price | pages |</span><br><span class="line">+------+-------+-------+</span><br><span class="line">| 123  |    30 |   518 |</span><br><span class="line">| 456  |    50 |   518 |</span><br><span class="line">| 101  |   100 |   518 |</span><br><span class="line">+------+-------+-------+</span><br><span class="line">3 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="数据库的备份及恢复"><a href="#数据库的备份及恢复" class="headerlink" title="数据库的备份及恢复"></a>数据库的备份及恢复</h2><h4 id="命令mysqldump"><a href="#命令mysqldump" class="headerlink" title="命令mysqldump"></a>命令mysqldump</h4><p>​        mysqldump命令用于备份数据库数据，格式为“mysqldump [参数] [数据库名称]”。其中参数与mysql命令大致相同，-u参数用于定义登录数据库的账户名称，-p参数代表密码提示符。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">+--------------------+</span><br><span class="line">3 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; <span class="built_in">exit</span></span><br><span class="line">Bye</span><br><span class="line">[root@server222 ~]<span class="comment"># mysqldump -u root -p mysql &gt; /root/mysql.dump</span></span><br><span class="line">Enter password:</span><br><span class="line">[root@server222 ~]<span class="comment"># ls</span></span><br><span class="line">anaconda-ks.cfg       mysql.dump  模板  图片  下载  桌面</span><br><span class="line">initial-setup-ks.cfg  公共        视频  文档  音乐</span><br></pre></td></tr></table></figure>

<p><strong>进入MariaDB数据库管理系统，删除mysql数据库</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># mysql -u root -p</span></span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 45</span><br><span class="line">Server version: 5.5.56-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; DROP DATABASE mysql;</span><br><span class="line">Query OK, 24 rows affected, 2 warnings (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; SHOW databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| performance_schema |</span><br><span class="line">+--------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; CREATE DATABASE mysql;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><strong>恢复数据库mysql</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@server222 ~]<span class="comment"># mysql -u root -p mysql &gt; /root/mysql.dump</span></span><br><span class="line">Enter password:</span><br><span class="line">[root@server222 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>1.搭建mysql服务<br>2.创建一个以你名字为名的数据库，并创建一张表student，该表包含三个字段（id，name，age），表结构如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc student;</span><br><span class="line">+-------+--------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type         | Null | Key | Default | Extra |</span><br><span class="line">+-------+--------------+------+-----+---------+-------+</span><br><span class="line">| id    | int(11)      | NO   |     | NULL    |       |</span><br><span class="line">| name  | varchar(100) | NO   |     | NULL    |       |</span><br><span class="line">| age   | tinyint(4)   | YES  |     | NULL    |       |</span><br><span class="line">+-------+--------------+------+-----+---------+-------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>3.查看下该新建的表有无内容（用select语句）<br>4.往新建的student表中插入数据（用insert语句），结果应如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">+----+-------------+------+</span><br><span class="line">| id | name        | age  |</span><br><span class="line">+----+-------------+------+</span><br><span class="line">|  1 | tom         |   20 |</span><br><span class="line">|  2 | jerry       |   23 |</span><br><span class="line">|  3 | wangqing    |   25 |</span><br><span class="line">|  4 | sean        |   28 |</span><br><span class="line">|  5 | zhangshan   |   26 |</span><br><span class="line">|  6 | zhangshan   |   20 |</span><br><span class="line">|  7 | lisi        | NULL |</span><br><span class="line">|  8 | chenshuo    |   10 |</span><br><span class="line">|  9 | wangwu      |    3 |</span><br><span class="line">| 10 | qiuyi       |   15 |</span><br><span class="line">| 11 | qiuxiaotian |   20 |</span><br><span class="line">+----+-------------+------+</span><br></pre></td></tr></table></figure>

<p>5.修改lisi的年龄为50<br>6.以age字段降序排序<br>7.查询student表中年龄最小的3位同学<br>8.查询student表中年龄最大的4位同学<br>9.查询student表中名字叫zhangshan的记录<br>10.查询student表中名字叫zhangshan且年龄大于20岁的记录<br>11.查询student表中年龄在23到30之间的记录<br>12.修改wangwu的年龄为100<br>13.删除student中名字叫zhangshan且年龄小于等于20的记录</p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/5.linux--MariaDB数据库/" data-id="ck6akysgd002y8wu6hqh9v3ax"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux进阶/">linux进阶</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-5.linux--linux计划任务" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/5.linux--linux计划任务/"
    >Linux计划任务</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/5.linux--linux计划任务/" class="article-date">
  <time datetime="2019-08-29T15:44:18.541Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux基础/">linux基础</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; print(&quot;👆以上是不完整的我&quot;) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>[TOC]</p>
<h2 id="crond计划任务概述"><a href="#crond计划任务概述" class="headerlink" title="crond计划任务概述"></a>crond计划任务概述</h2><p>crond 是linux下用来周期性的执行某种任务或等待处理某些事件的一个守护进程，与windows下的计划任务类似，当安装完成操作系统后，默认会安装此服务 工具，并且会自动启动crond进程，crond进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Schedule one-time tasks with at.   一次性调度执行 at</span><br><span class="line">Schedule recurring jobs with cron. 循环调度执行 cron</span><br><span class="line">Schedule recurring system jobs. 所有计划任务执行中的输出都会以邮件的方式发送给指定用户, 除非重定向</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//循环调度执行cron 进程每分钟会处理一次计划任务</span><br><span class="line">[root@zhoulijie ~]# systemctl status crond</span><br><span class="line">[root@zhoulijie ~]# ps aux | grep crond</span><br><span class="line">root       1238  0.0  0.0 126236  1672 ?        Ss   00:27   0:00 /usr/sbin/crond -n</span><br><span class="line">root      16029  0.0  0.0 112680   984 pts/0    S+   21:58   0:00 grep --color=auto crond</span><br></pre></td></tr></table></figure>

<p><strong>计划任务分为以下两种情况：</strong></p>
<ul>
<li><p>系统级别的定时任务:</p>
<blockquote>
<p>清理系统缓存<br>临时文件清理<br>系统信息采集<br>日志文件切割</p>
</blockquote>
</li>
<li><p>用户级别的定时任务:</p>
<blockquote>
<p>定时同步互联网时间<br>定时备份系统配置文件<br>定时备份数据库文件</p>
</blockquote>
</li>
</ul>
<h2 id="crond配置文件详解"><a href="#crond配置文件详解" class="headerlink" title="crond配置文件详解"></a>crond配置文件详解</h2><ul>
<li><p>Linux下的任务调度分为两类，系统任务调度和用户任务调度。</p>
</li>
<li><p>系统任务调度：系统周期性所要执行的工作，比如写缓存数据到硬盘、日志清理等。在/etc目录下有一个crontab文件，这个就是系统任务调度的配置文件。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">文件              说明</span><br><span class="line">/etc/crontab        //crontab配置文件</span><br><span class="line">/etc/cron.deny      //该文件中所列用户不允许使用crontab命令</span><br><span class="line">/var/spool/cron/*   //所有用户定时文件都存放此目录,文件以用户名命名</span><br><span class="line">/var/log/cron       //定时任务执行后的日志文件,可用来回溯</span><br></pre></td></tr></table></figure>

<h2 id="crond计划任务管理"><a href="#crond计划任务管理" class="headerlink" title="crond计划任务管理"></a>crond计划任务管理</h2><p><strong>crond任务管理</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">参数          含义                指定示例</span><br><span class="line">-e      编辑crontab文件内容       crontab -e</span><br><span class="line">-l      查看crontab文件内容       crontab -l</span><br><span class="line">-r      删除crontab文件内容       crontab -r</span><br><span class="line">-u      管理其他用户的计划任务   crontab -u zhou -l</span><br><span class="line">注意: crontab &#123;-l -e&#125;实际上就是在操作/var/spool/cron/username</span><br></pre></td></tr></table></figure>

<p><strong>crond时间含义</strong></p>
<p><img src="https://img-blog.csdn.net/20180301122140123" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># Example of job definition:</span><br><span class="line"># .---------------- minute (0 - 59) //分钟</span><br><span class="line"># |  .------------- hour (0 - 23)   //小时</span><br><span class="line"># |  |  .---------- day of month (1 - 31)   //日期</span><br><span class="line"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr //月份</span><br><span class="line"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat  //星期</span><br><span class="line"># |  |  |  |  |</span><br><span class="line"># *  *  *  *  *   command to be executed</span><br><span class="line"></span><br><span class="line">// *    表示任意的(分、时、日、月、周)时间都执行</span><br><span class="line">// -    表示一个时间范围段, 如5-7点</span><br><span class="line">// ,    表示分隔时段, 如6,0,4表示周六、日、四</span><br><span class="line">// */n  表示每隔n单位时间, 如*/10 每10分钟</span><br></pre></td></tr></table></figure>

<p><strong>crond编写示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">00 02 * * * command      //每天2:00整 </span><br><span class="line">00 02 1 * * command      //每月1号2:00整 </span><br><span class="line">00 02 14 2 * command     //每年2月14号2:00整 </span><br><span class="line">00 02 * * 7 command      //每周日2:00整 </span><br><span class="line">00 02 * 6 5 command      //每年6月的周五2:00整</span><br><span class="line">00 02 14 * 7 command     //每月14号2:00整或每周日2:00整，这两个时间都执行</span><br><span class="line">00 02 14 2 7 command     //每年 2 月 14 号 2:00 整 或者 每周日 2:00 整，这两个时间都执行 </span><br><span class="line">00 02 * * * command      //每天2:00整</span><br><span class="line">*  02 * * * command      //每天2:00中的每一分钟 (错误示范)</span><br><span class="line">* * * * *  command       //每分钟执行 ls</span><br><span class="line">* * 14 2 *  command      //2月14号的每分钟(错误示范)</span><br><span class="line">*/5 * * * *  command     //每隔5分钟 </span><br><span class="line">00 02 * 1,5,8 * command  //每年1,5,8月的每天2:00整 </span><br><span class="line">00 02 1-8 * *  command   //每月1到8号的2:00整</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180510204632418?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NhdGVycGlsbGFyNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt></p>
<p><strong>crond书写规范</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//1.为计划任务增加必要的注释</span><br><span class="line">[root@zhoulijie ~]# crontab -e</span><br><span class="line">no crontab for root - using an empty one</span><br><span class="line">crontab: installing new crontab</span><br><span class="line">[root@zhoulijie ~]# crontab -l</span><br><span class="line">##time sync</span><br><span class="line">*/5 * * * * /usr/sbin/ntpdate time1.aliyun.com &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line">//2.规范计划任务执行脚本存放的路径/scripts/</span><br><span class="line">[root@zhoulijie ~]# crontab -e</span><br><span class="line">crontab: installing new crontab</span><br><span class="line">[root@zhoulijie ~]# crontab -l</span><br><span class="line">##backup www to /backup</span><br><span class="line">30 01 * * * /bin/sh /scripts/www_backup.sh &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line">//3.执行shell脚本任务前加/bin/sh, 脚本结尾加&amp;&gt;/dev/null</span><br><span class="line">//调试好后应屏蔽debug输出信息,避免产生系统垃圾占用过多inode, 如需输出日志, 可重定向至日志文件</span><br><span class="line">[root@zhoulijie ~]# crontab -e</span><br><span class="line">crontab: installing new crontab</span><br><span class="line">[root@zhoulijie ~]# crontab -l</span><br><span class="line">####backup www to /backup</span><br><span class="line">30 01 * * * /bin/sh /scripts/www_backup.sh &amp;&gt;/tmp/www_backup.log</span><br></pre></td></tr></table></figure>

<h2 id="crond配置编写实例"><a href="#crond配置编写实例" class="headerlink" title="crond配置编写实例"></a>crond配置编写实例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]# crontab -e</span><br><span class="line"></span><br><span class="line">#每天凌晨切割nginx日志</span><br><span class="line">05 00 * * * /bin/bash -x /scripts/cut_nginx.sh &amp;&gt; /scripts/log/nginx.log</span><br><span class="line"></span><br><span class="line">#每天5点备份数据库</span><br><span class="line">00 05 * * * /bin/bash -x /scripts/dump_sql.sh &amp;&gt;/scripts/log/mysql.log</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//注意：</span><br><span class="line">1.我们所有的crond服务是运行的程序。而crontab命令用户用来设置定时规则的命令。</span><br><span class="line">2.crond服务是企业生产工作中常用的重要服务，at很少使用，可以忽略。</span><br><span class="line">3.几乎每个服务器都会用到crond服务。</span><br></pre></td></tr></table></figure>

<h2 id="crond计划任务调试"><a href="#crond计划任务调试" class="headerlink" title="crond计划任务调试"></a>crond计划任务调试</h2><blockquote>
<ol>
<li>调整任务每分钟执行, 检测是否是否正常, 有些任务不要频繁执行</li>
<li>调整系统时间然后在检测任务, 生产不建议直接使用此方式</li>
<li>执行脚本, 将脚本执行输出写入指定日志文件, 观察日志内容是否正常</li>
<li>注意一些任务命令带来的问题echo “wangqing” &gt;&gt;/tmp/test.log &amp;&gt;/dev/null</li>
<li>命令使用绝对路径, 防止无法找到命令导致定时任务执行故障</li>
<li>查看/var/log/cron日志进行调试</li>
</ol>
</blockquote>
<p>建议: 将需要定期执行的任务写入脚本中, 建立/scripts目录统一存放脚本, 脚本中命令必须使用绝对路径,手动执行脚本检测输出是否正常, 然后将脚本加入计划任务测试, 测试后无问题将脚本输出写入对应的日志文件中即可。</p>
<p>计划任务添加步骤：</p>
<ol>
<li>手动执行保留执行命令的正确结果</li>
<li>编写脚本<ul>
<li>脚本需要统一路径/scripts</li>
<li>脚本开头建议填写注释信息, 包括执行时间、周期、任务</li>
<li>脚本内容复制执行成功的命令至脚本文件中(减少每个环节出错几率)</li>
<li>脚本内容尽可能的优化, 使用一些变量或使用简单的判断语句</li>
<li>脚本执行的输出信息不要随意打印, 可以重定向至其他位置保留或丢入黑洞</li>
</ul>
</li>
<li>执行脚本<ul>
<li>使用bash执行, 防止脚本没有增加执行权限(/bin/bash)</li>
<li>执行命令以及脚本成功后并复制该命令</li>
</ul>
</li>
<li>编写计划任务<ul>
<li>加上必要的注释信息, 人、时间、任务</li>
<li>设定计划任务执行的周期</li>
<li>加入执行脚本的命令</li>
</ul>
</li>
<li>调试计划任务<ul>
<li>增加任务频率测试、调整系统时间测试(不能用于生产)</li>
<li>检查环境变量问题、检查crond服务产生日志进行排查</li>
</ul>
</li>
</ol>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>1.在linux系统中备份脚本backup.sh需要再每周1-5的每天下午1点和晚上8点执行，下列哪个cron命令可以完成（D）</p>
<p>a. 00 13,20 * 1-5 * backup.sh </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">每年的1-5月的13点和20点执行backup.sh</span><br></pre></td></tr></table></figure>

<p>b. 0 13,20 1,5 * * backup.sh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">每月的1号和5号的13点和20点执行backup.sh</span><br></pre></td></tr></table></figure>

<p>c. * 13,20 * * 1-5 backup.sh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">错误显示</span><br></pre></td></tr></table></figure>

<p>d. 00 13,20 * * 1-5 backup.sh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">每周一-周五的13点和20点执行backup.sh</span><br></pre></td></tr></table></figure>

<p>说明以上答案每一行是什么含义</p>
<p>2.新建/scripts/httpd.sh文件，并让/scripts/httpd.sh脚本在每天的00:10分执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># mkdir /scripts</span></span><br><span class="line">[root@zhoulijie ~]<span class="comment"># touch /scripts/httpd.sh</span></span><br><span class="line">[root@zhoulijie ~]<span class="comment"># whereis sh</span></span><br><span class="line">sh: /usr/bin/sh /usr/share/man/man1/sh.1.gz /usr/share/man/man1p/sh.1p.gz</span><br><span class="line">[root@zhoulijie ~]<span class="comment"># crontab -e</span></span><br><span class="line">crontab: installing new crontab</span><br><span class="line">[root@zhoulijie ~]<span class="comment"># crontab -l</span></span><br><span class="line">10 00 * * * /usr/bin/sh /scripts/httpd.sh</span><br></pre></td></tr></table></figure>

<p>3.新建/backup目录,每周一下午5:50将/backup目录下的所有文件打包成 backup.tar.gz</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># mkdir /bachup</span></span><br><span class="line">[root@zhoulijie ~]<span class="comment"># whereis tar</span></span><br><span class="line">tar: /usr/bin/tar /usr/share/man/man1/tar.1.gz /usr/share/man/man5/tar.5.gz</span><br><span class="line">[root@zhoulijie ~]<span class="comment"># crontab -e</span></span><br><span class="line">crontab: installing new crontab</span><br><span class="line">[root@zhoulijie ~]<span class="comment"># crontab -l</span></span><br><span class="line">50 17 * * 1 /usr/bin/tar -czf backup.tar.gz /backup</span><br></pre></td></tr></table></figure>

<p>4.写一个定时任务，每天0点5分把/var/log/nginx下7天前的文件转移到/backup/2018_xx_xx的目录中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># crontab -l</span></span><br><span class="line">5 0 * * * /usr/bin/find /var/<span class="built_in">log</span>/nginx -mtime +7 | xargs /usr/bin/mv &#123;&#125; /backup/$(date <span class="string">'+%Y_%m_%d'</span>)</span><br></pre></td></tr></table></figure>

<p>5.系统脚本/scripts/which.sh，如何定时每隔7分钟执行一次？</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># crontab -e</span></span><br><span class="line">*/7 * * * *</span><br></pre></td></tr></table></figure>

<p>6.如何不小心删除了/var/spool/cron/root文件，该如何恢复。</p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/5.linux--linux计划任务/" data-id="ck6akysf700228wu6hkhrffop"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux基础/">linux基础</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-4.python--第二章" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/4.python--第二章/"
    >python第二章</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/4.python--第二章/" class="article-date">
  <time datetime="2019-08-29T15:44:18.539Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">print</span>(<span class="string">"👆以上是不完整的我"</span>) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="python第二章"><a href="#python第二章" class="headerlink" title="python第二章"></a>python第二章</h1><p>[TOC]</p>
<h2 id="string-字符串"><a href="#string-字符串" class="headerlink" title="string(字符串)"></a>string(字符串)</h2><blockquote>
<p>何为字符串</p>
<p>字符串是以单引号或者双引号括起来的任意文本，比如’This is an apple.’或者”This is an apple.”。但是要注意引号本身是一种表现形式，不属于字符串的一部分。</p>
<p>​    注意：如果字符串本身带双引号 ‘This is an “apple“.’</p>
</blockquote>
<h3 id="创建字符串"><a href="#创建字符串" class="headerlink" title="创建字符串"></a>创建字符串</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">'This is an apple.'</span></span><br><span class="line">str2 = <span class="string">"This is a banana."</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串运算"><a href="#字符串运算" class="headerlink" title="字符串运算"></a>字符串运算</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串拼接</span></span><br><span class="line">str3 = <span class="string">'This is an apple.'</span></span><br><span class="line">str4 = <span class="string">"This is a banana."</span></span><br><span class="line">print(str3 + str4)</span><br><span class="line"><span class="comment">#重复输出字符串</span></span><br><span class="line">print(str3 * <span class="number">3</span>)</span><br><span class="line"><span class="comment"># 通过索引下标获取字符串中的字符，索引从0开始(程序员放羊)   str[index]</span></span><br><span class="line">print(str3[<span class="number">6</span>])</span><br><span class="line"><span class="comment"># 截取字符串中的一部分  切片编程</span></span><br><span class="line">print(<span class="string">"*"</span>+str3[<span class="number">5</span>:<span class="number">11</span>]+<span class="string">"*"</span>)</span><br><span class="line">print(<span class="string">"*"</span>+str3[<span class="number">5</span>:]+<span class="string">"*"</span>)</span><br><span class="line">print(<span class="string">"*"</span>+str3[:<span class="number">12</span>]+<span class="string">"*"</span>)</span><br><span class="line"><span class="comment"># 判断字符串中是否存在某些内容</span></span><br><span class="line">print(<span class="string">"natasha"</span> <span class="keyword">in</span> str3)</span><br><span class="line">print(<span class="string">"apple"</span> <span class="keyword">in</span> str3)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">This <span class="keyword">is</span> an apple.This <span class="keyword">is</span> a banana.</span><br><span class="line">This <span class="keyword">is</span> an apple.This <span class="keyword">is</span> an apple.This <span class="keyword">is</span> an apple.</span><br><span class="line">s</span><br><span class="line">*<span class="keyword">is</span> an *</span><br><span class="line">*<span class="keyword">is</span> an apple.*</span><br><span class="line">*This <span class="keyword">is</span> an a*</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h2 id="格式化输出（占位符）"><a href="#格式化输出（占位符）" class="headerlink" title="格式化输出（占位符）"></a>格式化输出（占位符）</h2><p><code>%s</code>  格式化字符串  </p>
<p><code>%d</code>  格式化整数</p>
<p><code>%f</code>  格式化浮点数，可以指定小数点后的精度，默认保留小数点后6位</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">"natasha"</span></span><br><span class="line">age = <span class="number">20</span></span><br><span class="line">height = <span class="number">177</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">需要的效果:</span></span><br><span class="line"><span class="string">natasha is a good man, he is 20 years old, his height is 177cm.</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(name, <span class="string">"is a good man, he is"</span>, age, <span class="string">"years old, his height is"</span>, height, <span class="string">"cm."</span>)</span><br><span class="line"><span class="comment">#如果只有一个替换，可以不写%后面的小括号，但是建议还是不要省略</span></span><br><span class="line">print(<span class="string">"%s is a good man, he is %d years old, his height is %.2fcm."</span>%(name, age, height))</span><br><span class="line">weight=<span class="number">75</span></span><br><span class="line">print(<span class="string">"*%d*"</span>%(weight))</span><br><span class="line">print(<span class="string">"*%5d*"</span>%(weight))</span><br><span class="line">print(<span class="string">"*%-5d*"</span>%(weight))</span><br><span class="line">print(<span class="string">"*%.5d*"</span>%(weight))</span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">natasha <span class="keyword">is</span> a good man, he <span class="keyword">is</span> <span class="number">20</span> years old, his height <span class="keyword">is</span> <span class="number">177</span> cm.</span><br><span class="line">natasha <span class="keyword">is</span> a good man, he <span class="keyword">is</span> <span class="number">20</span> years old, his height <span class="keyword">is</span> <span class="number">177.00</span>cm.</span><br><span class="line">*<span class="number">75</span>*</span><br><span class="line">*   <span class="number">75</span>*</span><br><span class="line">*<span class="number">75</span>   *</span><br><span class="line">*<span class="number">00075</span>*</span><br></pre></td></tr></table></figure>

<h2 id="常用转义字符"><a href="#常用转义字符" class="headerlink" title="常用转义字符"></a>常用转义字符</h2><p>反斜杠    <code>\\</code></p>
<p>单引号     <code>\&#39;</code></p>
<p>双引号     <code>\&quot;</code></p>
<p>换行     <code>\n</code></p>
<p>横向制表符    <code>\t</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">str5 = <span class="string">'\\'</span></span><br><span class="line">print(str5)</span><br><span class="line">str6 = <span class="string">"This is \"an\" apple."</span></span><br><span class="line">print(str6)</span><br><span class="line">print(<span class="string">"This is \nan apple."</span>)</span><br><span class="line"><span class="comment"># 如果字符串内部有过个换行，用\n写在一行里非常利于阅读</span></span><br><span class="line">print(<span class="string">"This\nis\nan\napple."</span>)</span><br><span class="line">print(<span class="string">'''</span></span><br><span class="line"><span class="string">This</span></span><br><span class="line"><span class="string">is</span></span><br><span class="line"><span class="string">an</span></span><br><span class="line"><span class="string">apple</span></span><br><span class="line"><span class="string">'''</span>)</span><br><span class="line">print(<span class="string">"apple\tbanana"</span>)</span><br><span class="line"><span class="comment"># 如果字符串里面有很多字符需要转义，就需要加入很多\，为了简化，python允许使用r''表示''内部的字符串默认不转义</span></span><br><span class="line">print(<span class="string">'\\\t\\'</span>)</span><br><span class="line">print(<span class="string">r'\\\t\\'</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">\</span><br><span class="line">This <span class="keyword">is</span> <span class="string">"an"</span> apple.</span><br><span class="line">This <span class="keyword">is</span> </span><br><span class="line">an apple.</span><br><span class="line">This</span><br><span class="line"><span class="keyword">is</span></span><br><span class="line">an</span><br><span class="line">apple.</span><br><span class="line"></span><br><span class="line">This</span><br><span class="line"><span class="keyword">is</span></span><br><span class="line">an</span><br><span class="line">apple</span><br><span class="line"></span><br><span class="line">apple	banana</span><br><span class="line">\	\</span><br><span class="line">\\\t\\</span><br></pre></td></tr></table></figure>

<h2 id="string的内置函数"><a href="#string的内置函数" class="headerlink" title="string的内置函数"></a>string的内置函数</h2><h3 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：eval(*args, **kwargs)</span></span><br><span class="line"><span class="string">功能：将字符串当成有效的表达式来求值并返回计算结果</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">num1 = eval(<span class="string">"123"</span>)</span><br><span class="line">print(num1)</span><br><span class="line">print(type(num1))</span><br><span class="line">print(eval(<span class="string">"+123"</span>))</span><br><span class="line">print(eval(<span class="string">"-123"</span>))</span><br><span class="line">print(eval(<span class="string">"12+3"</span>))</span><br><span class="line">print(eval(<span class="string">"12-3"</span>))</span><br><span class="line"><span class="comment"># print(eval("a123"))</span></span><br><span class="line"><span class="comment"># print(eval("12a3"))</span></span><br><span class="line">abc = <span class="string">"123"</span></span><br><span class="line">print(eval(<span class="string">"abc"</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">123</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">int</span>'&gt;</span></span><br><span class="line"><span class="class">123</span></span><br><span class="line"><span class="class">-123</span></span><br><span class="line"><span class="class">15</span></span><br><span class="line"><span class="class">9</span></span><br><span class="line"><span class="class">123</span></span><br></pre></td></tr></table></figure>

<h3 id="len-string"><a href="#len-string" class="headerlink" title="len(string)"></a>len(string)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：返回字符串的长度(按字符个数计算)</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(len(<span class="string">"This is an apple."</span>))</span><br><span class="line">print(len(<span class="string">"This is an apple苹果"</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">17</span></span><br><span class="line"><span class="number">18</span></span><br></pre></td></tr></table></figure>

<h3 id="lower"><a href="#lower" class="headerlink" title="lower()"></a>lower()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：转换字符串中所有的大写字母为小写</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This Is An applE."</span></span><br><span class="line">str2 = str1.lower()</span><br><span class="line">print(str1, str2)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This Is An applE. this <span class="keyword">is</span> an apple.</span><br></pre></td></tr></table></figure>

<h3 id="upper"><a href="#upper" class="headerlink" title="upper()"></a>upper()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：转换字符串中所有的小写字母为大写</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This Is An applE."</span></span><br><span class="line">str2 = str1.upper()</span><br><span class="line">print(str1, str2)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This Is An applE. THIS IS AN APPLE.</span><br></pre></td></tr></table></figure>

<h3 id="swapcase"><a href="#swapcase" class="headerlink" title="swapcase()"></a>swapcase()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：将字符串中大写转为小写，小写转为大写</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This Is An applE."</span></span><br><span class="line">str2 = str1.swapcase()</span><br><span class="line">print(str1, str2)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This Is An applE. tHIS iS aN APPLe.</span><br></pre></td></tr></table></figure>

<h3 id="capitalize"><a href="#capitalize" class="headerlink" title="capitalize()"></a>capitalize()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：将字符串中第一个字符转为大写，其余转为小写</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This Is An applE."</span></span><br><span class="line">str2 = str1.capitalize()</span><br><span class="line">print(str1, str2)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This Is An applE. This <span class="keyword">is</span> an apple.</span><br></pre></td></tr></table></figure>

<h3 id="title"><a href="#title" class="headerlink" title="title()"></a>title()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：得到“标题化”的字符串，每个单词的首字符大写，其余小写</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This Is An applE."</span></span><br><span class="line">str2 = str1.title()</span><br><span class="line">print(str1, str2)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This Is An applE. This Is An Apple.</span><br></pre></td></tr></table></figure>

<h3 id="center-width-fillchar"><a href="#center-width-fillchar" class="headerlink" title="center(width[, fillchar])"></a>center(width[, fillchar])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：返回一个指定宽度width的居中字符串,fillchar为填充字符，默认为空格</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This Is An applE."</span></span><br><span class="line">str2 = str1.center(<span class="number">30</span>,<span class="string">"#"</span>)</span><br><span class="line">print(<span class="string">"*"</span>+str2+<span class="string">"*"</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*<span class="comment">######This Is An applE.#######*</span></span><br></pre></td></tr></table></figure>

<h3 id="ljust-width-fillchar"><a href="#ljust-width-fillchar" class="headerlink" title="ljust(width[, fillchar])"></a>ljust(width[, fillchar])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：返回一个指定宽度width的左对齐字符串，fillchar为填充字符，默认为空格</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This Is An applE."</span></span><br><span class="line">str2 = str1.ljust(<span class="number">30</span>,<span class="string">"#"</span>)</span><br><span class="line">print(<span class="string">"*"</span>+str2+<span class="string">"*"</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*This Is An applE.<span class="comment">#############*</span></span><br></pre></td></tr></table></figure>

<h3 id="rjust-width-fillchar"><a href="#rjust-width-fillchar" class="headerlink" title="rjust(width,[, fillchar])"></a>rjust(width,[, fillchar])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：返回一个指定宽度width的右对齐字符串，fillchar为填充字符，默认为空格</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This Is An applE."</span></span><br><span class="line">str2 = str1.rjust(<span class="number">30</span>,<span class="string">"#"</span>)</span><br><span class="line">print(<span class="string">"*"</span>+str2+<span class="string">"*"</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*<span class="comment">#############This Is An applE.*</span></span><br></pre></td></tr></table></figure>

<h3 id="zfill-width"><a href="#zfill-width" class="headerlink" title="zfill (width)"></a>zfill (width)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：返回指定宽度width的右对齐字符串，填充0</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This Is An applE."</span></span><br><span class="line">str2 = str1.zfill(<span class="number">30</span>)</span><br><span class="line">print(<span class="string">"*"</span>+str2+<span class="string">"*"</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*<span class="number">0000000000000</span>This Is An applE.*</span><br></pre></td></tr></table></figure>

<h3 id="count-str-beg-0-end-len-string"><a href="#count-str-beg-0-end-len-string" class="headerlink" title="count(str[, beg= 0,end=len(string)])"></a>count(str[, beg= 0,end=len(string)])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：返回str在string里面出现的次数，如果beg或者end指定则返回指定范围内str出现的次数</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"natasha"</span></span><br><span class="line">str2 = <span class="string">"This is an apple."</span></span><br><span class="line">print(str2.count(str1,<span class="number">0</span>,<span class="number">20</span>))</span><br><span class="line">str3 = <span class="string">"apple"</span></span><br><span class="line">print(str2.count(str3,<span class="number">0</span>,<span class="number">20</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="find-str-beg-0-end-len-string"><a href="#find-str-beg-0-end-len-string" class="headerlink" title="find(str[, beg=0 end=len(string)])"></a>find(str[, beg=0 end=len(string)])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：检测str是否包含在string中，如果指定beg和end，则检测指定范围内是否包含。如果包含返回第一个开始的索引值，否则返回-1</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"natasha"</span></span><br><span class="line">str2 = <span class="string">"This is an apple."</span></span><br><span class="line">res = str2.find(str1)</span><br><span class="line">print(res)</span><br><span class="line">str3 = <span class="string">"apple"</span></span><br><span class="line">res = str2.find(str3)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span></span><br><span class="line"><span class="number">11</span></span><br></pre></td></tr></table></figure>

<h3 id="index-str-beg-0-end-len-string"><a href="#index-str-beg-0-end-len-string" class="headerlink" title="index(str[, beg=0, end=len(string)])"></a>index(str[, beg=0, end=len(string)])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：跟find()一样，区别在于如果str不存在会报异常</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"natasha"</span></span><br><span class="line">str2 = <span class="string">"This is an apple."</span></span><br><span class="line">str3 = <span class="string">"apple"</span></span><br><span class="line">res = str2.index(str3)</span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line">res = str2.index(str1)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"E:/python/第二章/variable.py"</span>, line <span class="number">12</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    res = str2.index(str1)</span><br><span class="line">ValueError: substring <span class="keyword">not</span> found</span><br><span class="line"><span class="number">11</span></span><br></pre></td></tr></table></figure>

<h3 id="rfind-str-beg-0-end-len-string"><a href="#rfind-str-beg-0-end-len-string" class="headerlink" title="rfind(str[, beg=0,end=len(string)])"></a>rfind(str[, beg=0,end=len(string)])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：类似于find(),只不过从右边开始查找</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"natasha"</span></span><br><span class="line">str2 = <span class="string">"This is an apple."</span></span><br><span class="line">res = str2.rfind(str1)</span><br><span class="line">print(res)</span><br><span class="line">str3 = <span class="string">"apple"</span></span><br><span class="line">res = str2.rfind(str3)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span></span><br><span class="line"><span class="number">11</span></span><br></pre></td></tr></table></figure>

<h3 id="rindex-str-beg-0-end-len-string"><a href="#rindex-str-beg-0-end-len-string" class="headerlink" title="rindex(str[, beg=0, end=len(string)])"></a>rindex(str[, beg=0, end=len(string)])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：类似于index(),只不过从右边开始查找</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"natasha"</span></span><br><span class="line">str2 = <span class="string">"This is an apple."</span></span><br><span class="line">str3 = <span class="string">"apple"</span></span><br><span class="line">res = str2.rindex(str3)</span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line">res = str2.rindex(str1)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line"><span class="number">11</span></span><br><span class="line">  File <span class="string">"E:/python/第二章/variable.py"</span>, line <span class="number">12</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    res = str2.rindex(str1)</span><br><span class="line">ValueError: substring <span class="keyword">not</span> found</span><br></pre></td></tr></table></figure>

<h3 id="lstrip"><a href="#lstrip" class="headerlink" title="lstrip()"></a>lstrip()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：截掉字符串左边指定的字符，默认为空格</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"    This is an apple."</span></span><br><span class="line">str2 = str1.lstrip()</span><br><span class="line">print(str1)</span><br><span class="line">print(str2)</span><br><span class="line">str3 = <span class="string">"*****This is an apple."</span></span><br><span class="line">str4 = str3.lstrip(<span class="string">"*"</span>)</span><br><span class="line">print(str3)</span><br><span class="line">print(str4)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    This <span class="keyword">is</span> an apple.</span><br><span class="line">This <span class="keyword">is</span> an apple.</span><br><span class="line">*****This <span class="keyword">is</span> an apple.</span><br><span class="line">This <span class="keyword">is</span> an apple.</span><br></pre></td></tr></table></figure>

<h3 id="rstrip"><a href="#rstrip" class="headerlink" title="rstrip()"></a>rstrip()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：截掉字符串右边指定的字符，默认为空格</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This is an apple.    "</span></span><br><span class="line">str2 = str1.rstrip()</span><br><span class="line">print(str1)</span><br><span class="line">print(str2)</span><br><span class="line">str3 = <span class="string">"This is an apple.*****"</span></span><br><span class="line">str4 = str3.rstrip(<span class="string">"*"</span>)</span><br><span class="line">print(str3)</span><br><span class="line">print(str4)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">This <span class="keyword">is</span> an apple.    </span><br><span class="line">This <span class="keyword">is</span> an apple.</span><br><span class="line">This <span class="keyword">is</span> an apple.*****</span><br><span class="line">This <span class="keyword">is</span> an apple.</span><br></pre></td></tr></table></figure>

<h3 id="strip-chars"><a href="#strip-chars" class="headerlink" title="strip([chars])"></a>strip([chars])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：在字符串上执行lstrip和rstrip</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"*****This is an apple.*****"</span></span><br><span class="line">str2 = str1.strip(<span class="string">"*"</span>)</span><br><span class="line">print(str1)</span><br><span class="line">print(str2)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*****This <span class="keyword">is</span> an apple.*****</span><br><span class="line">This <span class="keyword">is</span> an apple.</span><br></pre></td></tr></table></figure>

<h3 id="split-str-””-num-string-count-str"><a href="#split-str-””-num-string-count-str" class="headerlink" title="split(str=””, num=string.count(str))"></a>split(str=””, num=string.count(str))</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：str默认是空格，如果字符串开头和结尾都是空格，那么切片的空格是从第二个空格开始，开头和结尾的空格不会被切取，如果str不是默认的空格，那么就要从遇到的第一个字符串为分隔符开始切，如果str在被切割的字符串的开头或者结尾，最后返回的列表开头或结尾的元素为 ''</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">str1 = <span class="string">"This#is#an#apple."</span></span><br><span class="line">wordList = str1.split(<span class="string">"#"</span>)</span><br><span class="line">print(type(str1))</span><br><span class="line">print(wordList)</span><br><span class="line">print(type(wordList))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">str</span>'&gt;</span></span><br><span class="line">['This', 'is', 'an', 'apple.']</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">list</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="splitlines-keepends"><a href="#splitlines-keepends" class="headerlink" title="splitlines([keepends])"></a>splitlines([keepends])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：按照行('\r','\r\n','\n')，如果keepends为False，不包含换行符，否则保留换行符</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">'''This</span></span><br><span class="line"><span class="string">is</span></span><br><span class="line"><span class="string">an</span></span><br><span class="line"><span class="string">apple</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">wordList = str1.splitlines()</span><br><span class="line">print(wordList)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'This'</span>, <span class="string">'is'</span>, <span class="string">'an'</span>, <span class="string">'apple'</span>]</span><br></pre></td></tr></table></figure>

<h3 id="join-seq"><a href="#join-seq" class="headerlink" title="join(seq)"></a>join(seq)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：按照行('\r','\r\n','\n')，如果keepends为False，不包含换行符，否则保留换行符</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">'''This</span></span><br><span class="line"><span class="string">is</span></span><br><span class="line"><span class="string">an</span></span><br><span class="line"><span class="string">apple</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">wordList = str1.splitlines()</span><br><span class="line"></span><br><span class="line">str2 = <span class="string">" "</span>.join(wordList)</span><br><span class="line">print(str2)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This <span class="keyword">is</span> an apple</span><br></pre></td></tr></table></figure>

<h3 id="max-str"><a href="#max-str" class="headerlink" title="max(str)"></a>max(str)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：返回字符串中最大的字母</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This is an apple."</span></span><br><span class="line">print(max(str1))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s</span><br></pre></td></tr></table></figure>

<h3 id="min-str"><a href="#min-str" class="headerlink" title="min(str)"></a>min(str)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：返回字符串中最小的字母</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"thisisanapple"</span></span><br><span class="line">print(min(str1))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a</span><br></pre></td></tr></table></figure>

<h3 id="replace-old-new-max"><a href="#replace-old-new-max" class="headerlink" title="replace(old, new [, max])"></a>replace(old, new [, max])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：将字符串中的old替换成new，如果max指定，则替换不超过max次</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This is an apple."</span></span><br><span class="line">str2 = str1.replace(<span class="string">"apple"</span>, <span class="string">"banana"</span>)</span><br><span class="line">print(str1)</span><br><span class="line">print(str2)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">This <span class="keyword">is</span> an apple.</span><br><span class="line">This <span class="keyword">is</span> an banana.</span><br></pre></td></tr></table></figure>

<h3 id="maketrans"><a href="#maketrans" class="headerlink" title="maketrans()"></a>maketrans()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：创建字符映射的转换表，对于接受两个参数的,第一个是字符串，表示要转换的字符，第二个也是字符串表示转换的目标</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">t = str.maketrans(<span class="string">"ag"</span>, <span class="string">"12"</span>)</span><br><span class="line">print(t)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="number">97</span>: <span class="number">49</span>, <span class="number">103</span>: <span class="number">50</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="translate-table"><a href="#translate-table" class="headerlink" title="translate(table)"></a>translate(table)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：根据str给出的表转换字符串</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">t = str.maketrans(<span class="string">"ag"</span>, <span class="string">"12"</span>)</span><br><span class="line"></span><br><span class="line">str1 = <span class="string">"This is an apple."</span></span><br><span class="line">print(str1)</span><br><span class="line">print(str1.translate(t))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">This <span class="keyword">is</span> an apple.</span><br><span class="line">This <span class="keyword">is</span> <span class="number">1</span>n <span class="number">1</span>pple.</span><br></pre></td></tr></table></figure>

<h3 id="isalpha"><a href="#isalpha" class="headerlink" title="isalpha()"></a>isalpha()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：如果字符串至少有一个字符并且所有的字符都是字母返回True，否则返回假</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(<span class="string">""</span>.isalpha())</span><br><span class="line">print(<span class="string">"abc"</span>.isalpha())</span><br><span class="line">print(<span class="string">"abc12"</span>.isalpha())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="isalnum"><a href="#isalnum" class="headerlink" title="isalnum()"></a>isalnum()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：如果字符串至少有一个字符并且所有的字符都是字母或数字返回True，否则返回假</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(<span class="string">""</span>.isalnum())</span><br><span class="line">print(<span class="string">"abc"</span>.isalnum())</span><br><span class="line">print(<span class="string">"abc12"</span>.isalnum())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h3 id="isupper"><a href="#isupper" class="headerlink" title="isupper()"></a>isupper()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：如果字符串至少有一个字符并且所有的字母都是大写字母返回True，否则返回假</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(<span class="string">"apple"</span>.isupper())</span><br><span class="line">print(<span class="string">"APPLE"</span>.isupper())</span><br><span class="line">print(<span class="string">"APPLE#$%"</span>.isupper())</span><br><span class="line">print(<span class="string">"APPLE123"</span>.isupper())</span><br><span class="line">print(<span class="string">""</span>.isupper())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="islower"><a href="#islower" class="headerlink" title="islower()"></a>islower()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：如果字符串至少有一个字符并且所有的字母都是小写字母返回True，否则返回假</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(<span class="string">"apple"</span>.islower())</span><br><span class="line">print(<span class="string">"APPLE"</span>.islower())</span><br><span class="line">print(<span class="string">"APPLE#$%"</span>.islower())</span><br><span class="line">print(<span class="string">"APPLE123"</span>.islower())</span><br><span class="line">print(<span class="string">""</span>.islower())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="istitle"><a href="#istitle" class="headerlink" title="istitle()"></a>istitle()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：如果字符串是标题化的返回True，否则返回False</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(<span class="string">"apple"</span>.istitle())</span><br><span class="line">print(<span class="string">"APPLE"</span>.istitle())</span><br><span class="line">print(<span class="string">"APPLE#$%"</span>.istitle())</span><br><span class="line">print(<span class="string">"APPLE123"</span>.istitle())</span><br><span class="line">print(<span class="string">""</span>.istitle())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="isdigit"><a href="#isdigit" class="headerlink" title="isdigit()"></a>isdigit()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：如果字符串只包含数字返回True，否则返回False</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(<span class="string">""</span>.isdigit())</span><br><span class="line">print(<span class="string">"123"</span>.isdigit())</span><br><span class="line">print(<span class="string">"abc123"</span>.isdigit())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="isnumeric"><a href="#isnumeric" class="headerlink" title="isnumeric()"></a>isnumeric()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：如果字符串只包含数字返回True，否则返回False</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(<span class="string">""</span>.isnumeric())</span><br><span class="line">print(<span class="string">"123"</span>.isnumeric())</span><br><span class="line">print(<span class="string">"abc123"</span>.isnumeric())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="isdecimal"><a href="#isdecimal" class="headerlink" title="isdecimal()"></a>isdecimal()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：检测字符串是否只包含十进制数字</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(<span class="string">""</span>.isdecimal())</span><br><span class="line">print(<span class="string">"123"</span>.isdecimal())</span><br><span class="line">print(<span class="string">"abc123"</span>.isdecimal())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="isspace"><a href="#isspace" class="headerlink" title="isspace()"></a>isspace()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：如果字符串中只含有空格则返回True,否则返回False</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(<span class="string">""</span>.isspace())</span><br><span class="line">print(<span class="string">"   "</span>.isspace())</span><br><span class="line">print(<span class="string">" a"</span>.isspace())</span><br><span class="line">print(<span class="string">"\t"</span>.isspace())</span><br><span class="line">print(<span class="string">"\n"</span>.isspace())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h3 id="startswith-str-beg-0-end-len-string"><a href="#startswith-str-beg-0-end-len-string" class="headerlink" title="startswith(str[, beg=0,end=len(string)])"></a>startswith(str[, beg=0,end=len(string)])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：检查字符串是否以str开头，是则返回True， 否则返回False。如果指定了beg和gend,则在指定范围内检查</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This is an apple."</span></span><br><span class="line">print(str1.startswith(<span class="string">"apple"</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="endswith-suffix-beg-0-end-len-string"><a href="#endswith-suffix-beg-0-end-len-string" class="headerlink" title="endswith(suffix[, beg=0, end=len(string)])"></a>endswith(suffix[, beg=0, end=len(string)])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：检查字符串是否以suffix结尾，是则返回True， 否则返回False。如果指定了beg和gend,则在指定范围内检查</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"This is an apple."</span></span><br><span class="line">print(str1.endswith(<span class="string">"apple"</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="encode-encoding-’UTF-8’-errors-’strict’"><a href="#encode-encoding-’UTF-8’-errors-’strict’" class="headerlink" title="encode(encoding=’UTF-8’,errors=’strict’)"></a>encode(encoding=’UTF-8’,errors=’strict’)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：以encoding指定的编码格式进行编码，如果出错默认报一个ValueError异常，除非errors指定的是igonre或者replace</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"这是一个苹果"</span></span><br><span class="line">str2 = str1.encode()</span><br><span class="line">str3 = str1.encode(<span class="string">"GBK"</span>) <span class="comment">#gb2312</span></span><br><span class="line">print(str1)</span><br><span class="line">print(str2)</span><br><span class="line">print(str3)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这是一个苹果</span><br><span class="line"><span class="string">b'\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xb8\xaa\xe8\x8b\xb9\xe6\x9e\x9c'</span></span><br><span class="line"><span class="string">b'\xd5\xe2\xca\xc7\xd2\xbb\xb8\xf6\xc6\xbb\xb9\xfb'</span></span><br></pre></td></tr></table></figure>

<h3 id="bytes-decode-encoding-”utf-8”-errors-”strict”"><a href="#bytes-decode-encoding-”utf-8”-errors-”strict”" class="headerlink" title="bytes.decode(encoding=”utf-8”, errors=”strict”)"></a>bytes.decode(encoding=”utf-8”, errors=”strict”)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：解码</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">str1 = <span class="string">"这是一个苹果"</span></span><br><span class="line">str2 = str1.encode()</span><br><span class="line">str3 = str1.encode(<span class="string">"GBK"</span>) <span class="comment">#gb2312</span></span><br><span class="line">print(str1)</span><br><span class="line">print(str2.decode(<span class="string">"utf-8"</span>))</span><br><span class="line">print(str3.decode(<span class="string">"GBK"</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这是一个苹果</span><br><span class="line">这是一个苹果</span><br><span class="line">这是一个苹果</span><br></pre></td></tr></table></figure>

<h3 id="ord"><a href="#ord" class="headerlink" title="ord()"></a>ord()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：获取字符的整数表示</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(ord(<span class="string">"a"</span>))</span><br><span class="line">print(ord(<span class="string">"苹"</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">97</span></span><br><span class="line"><span class="number">33529</span></span><br></pre></td></tr></table></figure>

<h3 id="chr"><a href="#chr" class="headerlink" title="chr()"></a>chr()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：把数字编码转为对应的字符</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(chr(<span class="number">97</span>))</span><br><span class="line">print(chr(<span class="number">33529</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">苹</span><br></pre></td></tr></table></figure>

<h3 id="str"><a href="#str" class="headerlink" title="str()"></a>str()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原型：</span></span><br><span class="line"><span class="string">功能：转成字符串</span></span><br><span class="line"><span class="string">参数:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(str(<span class="number">123</span>))</span><br><span class="line">print(str(<span class="number">123.1</span>))</span><br><span class="line">print(type(str(<span class="literal">True</span>)))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">123</span></span><br><span class="line"><span class="number">123.1</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">str</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h2><p>一个布尔值只有True、False两种值，要么是True，要么是False</p>
<p>作用：作为真假的判断</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="literal">True</span></span><br><span class="line">c = <span class="literal">False</span></span><br><span class="line">print(b, c)</span><br><span class="line">print(type(b), type(c))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">True</span> <span class="literal">False</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">bool</span>'&gt; &lt;<span class="title">class</span> '<span class="title">bool</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="空值"><a href="#空值" class="headerlink" title="空值"></a>空值</h2><p>是python里一个特殊的值，用None表示。None不能理解为0，因为0是有意义的，而None是一个特殊的控制，没有实际意义。</p>
<p>作用：定义个变量时，不知道初始值要赋值成什么，那么就赋值为None，当有确定值在进行赋值操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d = <span class="literal">None</span></span><br><span class="line">print(d)</span><br><span class="line">print(type(d))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">None</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">NoneType</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="变量的类型问题"><a href="#变量的类型问题" class="headerlink" title="变量的类型问题"></a>变量的类型问题</h2><p>变量的类型要根据对应的数据来判断具体是什么类型的，变量的类型是变化的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="literal">None</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">a = <span class="string">"apple"</span></span><br><span class="line">a = <span class="literal">False</span></span><br><span class="line">print(type(a))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">bool</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>1.控制台输入一个年份，判断是否是闰年</p>
<p>闰年：公历年份是4的倍数的，一般是闰年。（如2004年就是闰年）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">num1 = int(input(<span class="string">"请输入年份："</span>))</span><br><span class="line">num2 = <span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> num1 % <span class="number">4</span> == num2 :</span><br><span class="line">    print(num1, <span class="string">"是闰年！"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(num1, <span class="string">"不是闰年！"</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">请输入年份：<span class="number">2019</span></span><br><span class="line"><span class="number">2019</span> 不是闰年！</span><br></pre></td></tr></table></figure>

<p>2.控制台输入一个时间，打印该时间的下一秒</p>
<p>例如：22:22:01下一秒是22:22:02</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"格式例如：22:22:01"</span>)</span><br><span class="line">time = input(<span class="string">"请输入一个时间："</span>)</span><br><span class="line">wordList = time.split(<span class="string">":"</span>)</span><br><span class="line">h = int(wordList[<span class="number">0</span>])</span><br><span class="line">m = int(wordList[<span class="number">1</span>])</span><br><span class="line">s = int(wordList[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">s += <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> s == <span class="number">60</span>:</span><br><span class="line">    m += <span class="number">1</span></span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> m == <span class="number">60</span>:</span><br><span class="line">       h += <span class="number">1</span></span><br><span class="line">       m = <span class="number">0</span></span><br><span class="line">       <span class="keyword">if</span> h == <span class="number">24</span>:</span><br><span class="line">           h = <span class="number">0</span></span><br><span class="line">print(<span class="string">"%.2d:%.2d:%.2d"</span>%(h,m,s))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">格式例如：<span class="number">22</span>:<span class="number">22</span>:<span class="number">01</span></span><br><span class="line">请输入一个时间：<span class="number">22</span>:<span class="number">59</span>:<span class="number">59</span></span><br><span class="line"><span class="number">23</span>:<span class="number">00</span>:<span class="number">00</span></span><br></pre></td></tr></table></figure>
      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/4.python--第二章/" data-id="ck6akysgb002v8wu69wvegom0"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-4.linux--权限管理" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/4.linux--权限管理/"
    >权限管理</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2019/08/29/4.linux--权限管理/" class="article-date">
  <time datetime="2019-08-29T15:44:18.536Z" itemprop="datePublished">2019-08-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux基础/">linux基础</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <blockquote>
<p><strong>关于作者</strong></p>
<p><strong>周李杰</strong>，最后一批90后，现居<strong>湖北武汉</strong></p>
<p>孤独患者，懒癌中期，无脑幻想者。但却人畜无害，无需远离。</p>
<p>兴趣众多，然无一精通。正努力成为一个有趣的人。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; print(&quot;👆以上是不完整的我&quot;) //请我吃大餐将会了解更多</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h1><p>[TOC]</p>
<h2 id="权限简介"><a href="#权限简介" class="headerlink" title="权限简介"></a>权限简介</h2><p>1.文件的权限主要针对三类对象进行定义：</p>
<ul>
<li>owner：属主，u</li>
<li>group：属组，g</li>
<li>other：其它，o</li>
</ul>
<blockquote>
<p> 我们可以把owner 当成小明，group当成小明他家里人，other当成隔壁老王</p>
</blockquote>
<p>2.每个文件针对每个访问者都定义了三种权限：</p>
<table>
<thead>
<tr>
<th align="center">权限</th>
<th align="center">对应的操作对象</th>
<th align="center">权限说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">r</td>
<td align="center">文件</td>
<td align="center">可读，可以使用类似cat等命令查看文件内容</td>
</tr>
<tr>
<td align="center">w</td>
<td align="center">文件</td>
<td align="center">可写，可以编辑或删除此文件</td>
</tr>
<tr>
<td align="center">x</td>
<td align="center">文件</td>
<td align="center">可执行，eXacutable，可以在命令提示符下当作命令提交给内核运行</td>
</tr>
<tr>
<td align="center">r</td>
<td align="center">目录</td>
<td align="center">可以对此目录执行ls以列出内部的所有文件</td>
</tr>
<tr>
<td align="center">w</td>
<td align="center">目录</td>
<td align="center">可以在此目录中创建文件，也可删除此目录中的文件</td>
</tr>
<tr>
<td align="center">x</td>
<td align="center">目录</td>
<td align="center">可以使用cd切换进此目录，也可以使用ls -l查看内部文件的详细信息</td>
</tr>
</tbody></table>
<p>3.权限的八进制与十进制转换：</p>
<p>|权限|八进制|十进制|<br>|—|000|0|<br>|–x|001|1|<br>|-w-|010|2|<br>|-wx|011|3|<br>|r–|100|4|<br>|r-x|101|5|<br>|rw-|110|6|<br>|rwx|111|7|</p>
<h2 id="权限管理命令"><a href="#权限管理命令" class="headerlink" title="权限管理命令"></a>权限管理命令</h2><h4 id="修改权限的命令chmod"><a href="#修改权限的命令chmod" class="headerlink" title="修改权限的命令chmod"></a>修改权限的命令chmod</h4><p>-R 递归修改权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@MR tmp]<span class="comment"># ls</span></span><br><span class="line">123  abc  qqq  shadow</span><br><span class="line">[root@MR tmp]<span class="comment"># ls -l abc</span></span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root 0 3月  27 09:54 123</span><br><span class="line">-rw-r--r--. 1 root root 0 3月  27 09:54 3445</span><br><span class="line">-rw-r--r--. 1 root root 0 3月  27 09:55 efsf</span><br><span class="line">[root@MR tmp]<span class="comment"># chmod -R 666 abc</span></span><br><span class="line">[root@MR tmp]<span class="comment"># ls -l abc</span></span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-rw-. 1 root root 0 3月  27 09:54 123</span><br><span class="line">-rw-rw-rw-. 1 root root 0 3月  27 09:54 3445</span><br><span class="line">-rw-rw-rw-. 1 root root 0 3月  27 09:55 efsf</span><br></pre></td></tr></table></figure>

<h4 id="修改文件属主和属组的命令chown"><a href="#修改文件属主和属组的命令chown" class="headerlink" title="修改文件属主和属组的命令chown"></a>修改文件属主和属组的命令chown</h4><p>-R 修改目录及其内部文件的属主(中间用冒号或者逗号隔开)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@MR tmp]<span class="comment"># ls -l abc</span></span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-rw-. 1 root root 0 3月  27 09:54 123</span><br><span class="line">-rw-rw-rw-. 1 root root 0 3月  27 09:54 3445</span><br><span class="line">-rw-rw-rw-. 1 root root 0 3月  27 09:55 efsf</span><br><span class="line">[root@MR tmp]<span class="comment"># chown -R zhou:zhou abc</span></span><br><span class="line">[root@MR tmp]<span class="comment"># ls -l abc</span></span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-rw-. 1 zhou zhou 0 3月  27 09:54 123</span><br><span class="line">-rw-rw-rw-. 1 zhou zhou 0 3月  27 09:54 3445</span><br><span class="line">-rw-rw-rw-. 1 zhou zhou 0 3月  27 09:55 efsf</span><br></pre></td></tr></table></figure>

<h2 id="遮罩码"><a href="#遮罩码" class="headerlink" title="遮罩码"></a>遮罩码</h2><p>为什么文件创建以后默认权限是644？<br>为什么目录创建以后默认权限是755？</p>
<p>这是由遮罩码umask来控制的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@MR ~]<span class="comment"># cat /usr/bin/umask</span></span><br><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">builtin</span> <span class="built_in">umask</span> <span class="string">"<span class="variable">$@</span>"</span></span><br></pre></td></tr></table></figure>

<p>从名字就能看出来，遮罩码umask是用来隐藏一些权限的。举例：如果你不想让人家认出你，你会怎么办？</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># umask</span></span><br><span class="line">0022</span><br></pre></td></tr></table></figure>

<p>文件最终的权限为：</p>
<ul>
<li>666-umask</li>
</ul>
<p>目录最终的权限为：</p>
<ul>
<li>777-umask</li>
</ul>
<blockquote>
<p>文件默认是不能具有执行权限的，如果算得的结果有执行权限则将其权限整体加1</p>
</blockquote>
<h2 id="Linux安全上下文与特殊权限"><a href="#Linux安全上下文与特殊权限" class="headerlink" title="Linux安全上下文与特殊权限"></a>Linux安全上下文与特殊权限</h2><h4 id="Linux安全上下文"><a href="#Linux安全上下文" class="headerlink" title="Linux安全上下文"></a>Linux安全上下文</h4><p>前提：进程有属主和属组；文件有属主和属组 </p>
<ul>
<li>任何一个可执行程序文件能不能启动为进程，取决于发起者对程序文件是否拥有可执行权限；</li>
<li>启动为进程后，其进程的属主为发起者，属组为发起者所属的组</li>
<li>进程访问文件时的权限取决于进程的发起者： <ul>
<li>进程的发起者是文件的属主时，则应用文件属主权限</li>
<li>进程的发起者是文件的属组时，则应用文件属组权限</li>
<li>应用文件“其它”权限</li>
</ul>
</li>
</ul>
<h4 id="特殊权限"><a href="#特殊权限" class="headerlink" title="特殊权限"></a>特殊权限</h4><p>linux默认权限是根据linux安全上下文的方式来控制的，而特殊权限的存在打破了linux安全上下文的规则。 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">SUID(4)     //运行程序时，这个程序启动的进程的属主是程序文件自身的属主，而不是启动者为属主</span><br><span class="line">    chmod u+s file</span><br><span class="line">    chmod u<span class="_">-s</span> file</span><br><span class="line">    //如果file本身原来就有执行权限，则SUID显示为s，否则显示为S</span><br><span class="line">    </span><br><span class="line">SGID(2)     //运行程序时，这个程序启动的进程的属组是程序文件自身的属组，而不是启动者所属的基本组</span><br><span class="line">    //默认情况下，用户创建文件时，其属组为此用户所属的基本组；</span><br><span class="line">    //一旦某目录被设定了SGID，则对此目录有写权限的用户在此目录中创建的文件或目录，其所属的组 \</span><br><span class="line">    //为此设定了SGID的目录的属组</span><br><span class="line">    chmod g+s DIR</span><br><span class="line">    chmod g<span class="_">-s</span> DIR</span><br><span class="line">    //如果file本身原来就有执行权限，则SGID显示为s，否则显示为S</span><br><span class="line">    </span><br><span class="line">Sticky(1)       //在一个公共目录，每个人都能创建文件，删除自己的文件，但是不能删除别人创建的文件</span><br><span class="line">    chmod o+t DIR</span><br><span class="line">    chmod o-t DIR</span><br><span class="line">    //如果DIR本身原来就有执行权限，则Sticky显示为t，否则显示为T</span><br><span class="line">    </span><br><span class="line">4755    //有SUID，文件权限为755</span><br><span class="line">2755    //有SGID，文件权限为755</span><br><span class="line">1755    //有Sticky，文件权限为755</span><br><span class="line">7755    //有SUID、SGID、Sticky，文件权限为755</span><br><span class="line">//这里前面的4、2、1分别表示SUID、SGID、Sticky</span><br></pre></td></tr></table></figure>

<h2 id="文件系通访问控制列表facl"><a href="#文件系通访问控制列表facl" class="headerlink" title="文件系通访问控制列表facl"></a>文件系通访问控制列表facl</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//语法：setfacl [-bkndRLP] &#123; -m|-M|-x|-X ... &#125; file ...</span><br><span class="line">    -m      //设定</span><br><span class="line">        u:UID:perm</span><br><span class="line">        g:GID:perm</span><br><span class="line">    //setfacl -m u:test:rw file</span><br><span class="line">    //setfacl -m g:test:rw file</span><br><span class="line">    //如果要为某个目录设定默认的访问控制列表，只需要设定时在u或g前面加上d即可。 如：\</span><br><span class="line">    //setfacl -m du:test:rw file，此时在此目录中创建的文件均继承此访问控制列表所设置的权限</span><br><span class="line">    -x      //取消</span><br><span class="line">        u:UID</span><br><span class="line">        g:GID</span><br><span class="line">    //setfacl -x u:test file</span><br><span class="line">    //setfacl -x g:test file</span><br><span class="line">    -b      //Remove all</span><br><span class="line">        </span><br><span class="line">//语法：getfacl [-aceEsRLPtpndvh] file ...</span><br><span class="line">//getfacl file</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//文件权限应用次序：</span><br><span class="line">//默认情况下：</span><br><span class="line">    Owner --&gt; Group --&gt; Other</span><br><span class="line">//有设置facl的情况下：</span><br><span class="line">    Owner --&gt; facl,user --&gt; Group --&gt; facl,group --&gt; Other</span><br></pre></td></tr></table></figure>

<h2 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h2><p>sudo可以实现某个用户能够以另外哪一个用户的身份通过哪些主机执行什么命令</p>
<p>sudo的配置文件：/etc/sudoers</p>
<p>使用visudo命令进行sudo的配置，每一行就是一个sudo条目，条目格式如下：</p>
<ul>
<li>who which_hosts=(runas) command<ul>
<li>who：User_Alias，表示运行命令者的身份</li>
<li>which_hosts：Host_Alias，通过哪些主机</li>
<li>runas：Runas_Alias，以哪个用户的身份</li>
<li>command：Cmnd_Alias，运行哪些命令   </li>
</ul>
</li>
</ul>
<p><strong>别名必须全部而且只能使用大写英文字母的组合，可以使用感叹号取反</strong></p>
<p><strong>别名分类：</strong></p>
<ul>
<li><p>用户别名：</p>
<ul>
<li>User_Alias NETWORKADMIN =<ul>
<li>用户的用户名</li>
<li>组名，使用%引导</li>
<li>还可以其它已经定义的用户别名</li>
</ul>
</li>
</ul>
</li>
<li><p>主机别名：</p>
<ul>
<li>Host_Alias =<ul>
<li>主机名</li>
<li>IP地址</li>
<li>网络地址</li>
<li>其它主机别名</li>
</ul>
</li>
</ul>
</li>
<li><p>Runas别名： </p>
<ul>
<li>Runas_Alias =<ul>
<li>用户名</li>
<li>%组名</li>
<li>其它的Runas别名</li>
</ul>
</li>
</ul>
</li>
<li><p>命令别名：</p>
<ul>
<li>Cmnd_Alias =<ul>
<li>命令路径</li>
<li>目录（此目录内的所有命令）</li>
<li>其它已定义的命令别名</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo命令语法：sudo [options] COMMAND</span><br><span class="line">    -V      //显示版本编号</span><br><span class="line">    -h      //会显示版本编号及指令的使用方式说明</span><br><span class="line">    -l      //列出当前用户可以使用的所有sudo类命令</span><br><span class="line">    -v      //因为sudo在第一次执行时或是在N分钟内没有执行（N默认为5）会问密码，这个参数 \</span><br><span class="line">            //是重新做一次确认，如果超过N分钟，也会问密码</span><br><span class="line">    -k      //让认证信息失效，如果不指定-k，默认认证信息在5分钟后失效</span><br><span class="line">    -b      //将要执行的指令放在后台执行</span><br><span class="line">    -u USERNAME     //以指定的用户名执行命令，默认为root</span><br></pre></td></tr></table></figure>

<h2 id="管理命令"><a href="#管理命令" class="headerlink" title="管理命令"></a>管理命令</h2><p>w 显示当前登录到系统的用户有哪些，以及其正在做什么</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[zhou@zhoulijie ~]$ w</span><br><span class="line"> 20:36:03 up 18 min,  2 users,  load average: 0.00, 0.01, 0.05</span><br><span class="line">USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class="line">root     tty1      20:18   17:47   0.02s  0.02s -bash</span><br><span class="line">root     pts/0     20:18    3.00s  0.13s  0.04s w</span><br></pre></td></tr></table></figure>

<p> sleep   //睡眠</p>
<blockquote>
<p>   s:秒，默认<br>   m：分<br>   h：小时<br>   d：天</p>
</blockquote>
<p>last   显示/var/log/wtmp文件，显示用户登录历史及系统重启历史 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[zhou@zhoulijie ~]$ last</span><br><span class="line">root     pts/0        192.168.83.1     Mon Apr  8 20:18   still logged <span class="keyword">in</span></span><br><span class="line">root     tty1                          Mon Apr  8 20:18   still logged <span class="keyword">in</span></span><br><span class="line">reboot   system boot  3.10.0-123.el7.x Mon Apr  8 20:17 - 20:37  (00:19)</span><br><span class="line">............................以下省略............................</span><br></pre></td></tr></table></figure>

<blockquote>
<p>​     -n #  显示最近#次的相关信息    </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[zhou@zhoulijie ~]$ last -n 2</span><br><span class="line">root     pts/0        192.168.83.1     Mon Apr  8 20:18   still logged <span class="keyword">in</span></span><br><span class="line">root     tty1                          Mon Apr  8 20:18   still logged <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">wtmp begins Wed Mar  6 16:48:05 2019</span><br></pre></td></tr></table></figure>

<p> lastb  显示/var/log/btmp文件，显示用户错误的登录尝试</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># lastb</span></span><br><span class="line">root     ssh:notty    192.168.83.1     Wed Mar 27 09:48 - 09:48  (00:00)</span><br><span class="line">root     pts/0                         Wed Mar  6 17:16 - 17:16  (00:00)</span><br><span class="line">root     tty1                          Wed Mar  6 16:48 - 16:48  (00:00)</span><br><span class="line"></span><br><span class="line">btmp begins Wed Mar  6 16:48:38 2019</span><br></pre></td></tr></table></figure>

<blockquote>
<p>​     -n #  显示最近#次的相关信息    </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># lastb -n 2</span></span><br><span class="line">root     ssh:notty    192.168.83.1     Wed Mar 27 09:48 - 09:48  (00:00)</span><br><span class="line">root     pts/0                         Wed Mar  6 17:16 - 17:16  (00:00)</span><br><span class="line"></span><br><span class="line">btmp begins Wed Mar  6 16:48:38 2019</span><br></pre></td></tr></table></figure>

<p>lastlog   显示每个用户最近一次成功登录信息  </p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># lastlog</span></span><br><span class="line">用户名           端口     来自             最后登陆时间</span><br><span class="line">root             pts/0                     一 4月  8 20:42:13 +0800 2019</span><br><span class="line">bin                                        **从未登录过**</span><br><span class="line">daemon                                     **从未登录过**</span><br><span class="line">adm                                        **从未登录过**</span><br><span class="line">lp                                         **从未登录过**</span><br><span class="line">sync                                       **从未登录过**</span><br><span class="line">shutdown                                   **从未登录过**</span><br><span class="line">............................以下省略............................</span><br></pre></td></tr></table></figure>

<blockquote>
<p> -u username     //显示特定用户最近的登录信息      </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@zhoulijie ~]<span class="comment"># lastlog -u zhou</span></span><br><span class="line">用户名           端口     来自             最后登陆时间</span><br><span class="line">zhou             pts/0                     一 4月  8 20:28:24 +0800 2019</span><br></pre></td></tr></table></figure>

<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>1、新建一个没有家目录的用户openstack</p>
<p><strong>useradd -M openstack</strong></p>
<p> 2、复制/etc/skel为/home/openstack</p>
<p><strong>cp -r -p /etc/skel /home/openstack</strong></p>
<p> 3、改变/home/openstack及其内部文件的属主属组均为openstack</p>
<p><strong>chown -R openstack:openstack /home/openstack/</strong></p>
<p> 4、设置/home/openstack及其内部的文件，属组和其它用户没有任何访问权限 </p>
<p><strong>chmod -R 700 /home/openstack</strong></p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/chineselijie/2019/08/29/4.linux--权限管理/" data-id="ck6akysf3001w8wu6vd8roqd9"
        class="article-share-link">分享</a>
        
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux基础/">linux基础</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2019-2020
        Li Jie
      </li>
      <li>
        
          Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <ul class="list-inline">
  <li>PV:<span id="busuanzi_value_page_pv"></span></li>
  <li>UV:<span id="busuanzi_value_site_uv"></span></li>
</ul>
        
      </li>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
    <div class="to_top">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>
      </div>
    </main>
      <aside class="sidebar">
        <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer.png" alt="Li Jie&#39;s blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
      </aside>
      <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>喜欢就打赏吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
      <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>

<script src="/fancybox/jquery.fancybox.min.js"></script>



<script>
  try {
    var typed = new Typed("#subtitle", {
    strings: ['面朝大海，春暖花开','愿你一生努力，一生被爱','想要的都拥有，得不到的都释怀'],
    startDelay: 0,
    typeSpeed: 200,
    loop: true,
    backSpeed: 100,
    showCursor: true
    });
  } catch (err) {
  }
  
</script>




<script>
  var ayerConfig = {
    mathjax: false
  }
</script>

<script src="/js/ayer.js"></script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>




<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>
  </div>
</body>

</html>